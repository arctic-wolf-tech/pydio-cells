! function r(i, o, a) {
    function l(t, e) {
        if (!o[t]) {
            if (!i[t]) { var n = "function" == typeof require && require; if (!e && n) return n(t, !0); if (s) return s(t, !0); throw (n = new Error("Cannot find module '" + t + "'")).code = "MODULE_NOT_FOUND", n }
            n = o[t] = { exports: {} }, i[t][0].call(n.exports, function(e) { return l(i[t][1][e] || e) }, n, n.exports, r, i, o, a)
        }
        return o[t].exports
    }
    for (var s = "function" == typeof require && require, e = 0; e < a.length; e++) l(a[e]);
    return l
}({
    1: [function(e, t, n) {
        "use strict";

        function i(e) { return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) { return typeof e } : function(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }
        Object.defineProperty(n, "__esModule", { value: !0 }), n.LeftToggleListener = n.default = void 0;
        var s = y(e("react")),
            r = y(e("create-react-class")),
            o = y(e("prop-types")),
            a = y(e("pydio")),
            l = e("../util/Mixins"),
            c = y(e("./AdminLeftNav")),
            u = e("material-ui"),
            f = e("material-ui/styles"),
            d = y(e("pydio/model/data-model")),
            p = y(e("pydio/lang/observable")),
            h = y(e("pydio/http/resources-manager")),
            g = y(e("pydio/util/dom")),
            m = y(e("../styles/AdminStyles"));

        function y(e) { return e && e.__esModule ? e : { default: e } }

        function v(t, e) { var n, r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function(e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r }

        function b(r) {
            for (var e = 1; e < arguments.length; e++) {
                var i = null != arguments[e] ? arguments[e] : {};
                e % 2 ? v(Object(i), !0).forEach(function(e) {
                    var t, n;
                    t = r, e = i[n = e], n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(i)) : v(Object(i)).forEach(function(e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(i, e)) })
            }
            return r
        }

        function w() { return (w = Object.assign || function(e) { for (var t = 1; t < arguments.length; t++) { var n, r = arguments[t]; for (n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) }

        function x(e, t) {
            return function(e) { if (Array.isArray(e)) return e }(e) || function(e, t) {
                var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"];
                if (null == n) return;
                var r, i, o = [],
                    a = !0,
                    l = !1;
                try { for (n = n.call(e); !(a = (r = n.next()).done) && (o.push(r.value), !t || o.length !== t); a = !0); } catch (e) { l = !0, i = e } finally { try { a || null == n.return || n.return() } finally { if (l) throw i } }
                return o
            }(e, t) || function(e, t) { if (!e) return; if ("string" == typeof e) return C(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return C(e, t) }(e, t) || function() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }()
        }

        function C(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
            return r
        }

        function S(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }

        function O(e, t) { return (O = Object.setPrototypeOf || function(e, t) { return e.__proto__ = t, e })(e, t) }

        function k(n) { var r = function() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0 } catch (e) { return !1 } }(); return function() { var e, t = M(n); return e = r ? (e = M(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), t = this, !(e = e) || "object" !== i(e) && "function" != typeof e ? function(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(t) : e } }

        function M(e) { return (M = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }
        var e = a.default.requireLib("boot"),
            P = e.AsyncComponent,
            L = e.TasksPanel,
            T = function() {
                ! function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && O(e, t)
                }(i, p["default"]);
                var e, t, n, r = k(i);

                function i() { var e; return function(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, i), (e = r.call(this)).active = !1, e.open = !1, e }
                return e = i, n = [{ key: "getInstance", value: function() { return i.__INSTANCE = !i.__INSTANCE ? new i : i.__INSTANCE } }], (t = [{ key: "update", value: function() { this.notify("update") } }, { key: "isOpen", value: function() { return !this.active || this.open } }, { key: "isActive", value: function() { return this.active } }, { key: "toggle", value: function() { this.open = !this.open, this.update() } }, { key: "setActive", value: function(e) { this.active = e, this.update() } }]) && S(e.prototype, t), n && S(e, n), i
            }();
        n.LeftToggleListener = T;
        a = (0, r.default)({
            displayName: "AdminDashboard",
            mixins: [l.MessagesProviderMixin, l.PydioProviderMixin],
            propTypes: { pydio: o.default.instanceOf(a.default).isRequired },
            getInitialState: function() { var e, t = this.props.pydio.getContextHolder(); return !(e = null !== localStorage.getItem("cells.dashboard.advanced") ? localStorage.getItem("cells.dashboard.advanced") : e) && t.getContextNode().getMetadata().get("advanced") && (e = !0), { contextNode: t.getContextNode(), selectedNodes: t.getSelectedNodes(), contextStatus: t.getContextNode().isLoaded(), openLeftNav: !1, showAdvanced: e } },
            toggleAdvanced: function() {
                var e = this.state.showAdvanced;
                this.setState({ showAdvanced: !e }), localStorage.setItem("cells.dashboard.advanced", !e)
            },
            dmChangesToState: function() {
                var e = this.props.pydio.getContextHolder();
                this.setState({ contextNode: e.getContextNode(), selectedNodes: e.getSelectedNodes(), contextStatus: e.getContextNode().isLoaded() }), !this.state.showAdvanced && e.getContextNode().getMetadata().get("advanced") && this.setState({ showAdvanced: !0 }), e.getContextNode().observe("loaded", this.dmChangesToState), e.getUniqueNode() && e.getUniqueNode().observe("loaded", this.dmChangesToState)
            },
            openEditor: function(e) { this.openRightPane({ COMPONENT: PydioComponents.ReactEditorOpener, PROPS: { node: e, registry: this.props.pydio.Registry, onRequestTabClose: this.closeRightPane, registerCloseCallback: this.registerRightPaneCloseCallback }, CHILDREN: null }) },
            openRightPane: function(t) {
                var e, n, r;
                t.PROPS.registerCloseCallback = this.registerRightPaneCloseCallback, t.PROPS.closeEditorContainer = this.closeRightPane, this.state && this.state.rightPanel && this.state.rightPanelCloseCallback && !1 === this.state.rightPanelCloseCallback() || ("string" == typeof t.COMPONENT || t.COMPONENT instanceof String ? (e = x(t.COMPONENT.split("."), 2), n = e[0], r = e[1], h.default.loadClassesAndApply([n], function() {
                    var e;
                    window[n] && window[n][r] && (e = window[n][r], t.COMPONENT = e, this.openRightPane(t))
                }.bind(this))) : this.setState({ rightPanel: t }))
            },
            registerRightPaneCloseCallback: function(e) { this.setState({ rightPanelCloseCallback: e }) },
            closeRightPane: function() { return (!this.state.rightPanelCloseCallback || !1 !== this.state.rightPanelCloseCallback()) && (this.setState({ rightPanel: null, rightPanelCloseCallback: null }), !0) },
            componentDidMount: function() {
                var e = this,
                    t = this.props.pydio.getContextHolder();
                t.observe("context_changed", this.dmChangesToState), t.observe("selection_changed", this.dmChangesToState);
                t = this.props.pydio.UI;
                (t = this.props.pydio.UI.__proto__ ? this.props.pydio.UI.__proto__ : t).__originalOpenCurrentSelectionInEditor = t.openCurrentSelectionInEditor, t.openCurrentSelectionInEditor = function(e) { e instanceof d.default ? this.openEditor(e.getUniqueNode()) : this.openEditor(e) }.bind(this), this._bmObserver = function() { this.props.pydio.Controller.actions.delete("bookmark") }.bind(this), this.props.pydio.observe("actions_loaded", this._bmObserver), T.getInstance().observe("update", function() { e.setState({ toggleOpen: T.getInstance().isOpen(), toggleActive: T.getInstance().isActive() }) }), this._resizeObserver = this.computeLeftIsDocked.bind(this), g.default.observeWindowResize(this._resizeObserver), this.computeLeftIsDocked()
            },
            componentWillUnmount: function() {
                var e = this.props.pydio.getContextHolder();
                e.stopObserving("context_changed", this.dmChangesToState), e.stopObserving("selection_changed", this.dmChangesToState);
                e = this.props.pydio.UI;
                (e = this.props.pydio.UI.__proto__ ? this.props.pydio.UI.__proto__ : e).openCurrentSelectionInEditor = e.__originalOpenCurrentSelectionInEditor, this._bmObserver && this.props.pydio.stopObserving("actions_loaded", this._bmObserver), T.getInstance().stopObserving("update"), g.default.stopObservingWindowResize(this._resizeObserver)
            },
            computeLeftIsDocked: function() { T.getInstance().setActive(g.default.getViewportWidth() <= 780) },
            routeMasterPanel: function(e, t) {
                var n = this.props.pydio;
                if (t = t || e, !e.getMetadata().get("component")) return s.default.createElement("div", { style: { width: "100%", height: "100%", minHeight: 500, display: "flex", alignItems: "center", justifyContent: "center" } }, s.default.createElement("div", { style: { fontSize: 18, color: "rgba(0,0,0,0.33)" } }, n.MessageHash[466]));
                var r = e.getMetadata().get("component").split("."),
                    i = e.getMetadata().has("props") ? JSON.parse(e.getMetadata().get("props")) : {};
                return s.default.createElement(P, w({ pydio: n, namespace: r[0], componentName: r[1], dataModel: n.getContextHolder(), rootNode: e, currentNode: t, openEditor: this.openEditor, openRightPane: this.openRightPane, closeRightPane: this.closeRightPane }, i, { accessByName: function(e) { return !i.accesses || !0 === i.accesses[e] } }))
            },
            render: function() {
                var e, t = this.state,
                    n = t.showAdvanced,
                    r = t.rightPanel,
                    i = this.props.pydio,
                    o = i.getContextHolder();
                r && (e = s.default.createElement(r.COMPONENT, r.PROPS, r.CHILDREN));
                var a = (0, f.getMuiTheme)({ palette: { primary1Color: "#03a9f4", primary2Color: "#f57c00", accent1Color: "#f57c00", accent2Color: "#324a57", avatarsColor: "#438db3", sharingColor: "#4aceb0" } }),
                    l = (0, m.default)(a.palette),
                    t = b({ position: "absolute", transition: "visibility 0s, opacity 150ms linear", top: 0, right: 0, left: 0, bottom: 0, backgroundColor: "rgba(0,0,0,.54)", zIndex: 10 }, t = r ? { visibility: "visible", opacity: "1" } : { visibility: "hidden", opacity: "0" });
                return s.default.createElement(u.MuiThemeProvider, { muiTheme: a }, s.default.createElement("div", { className: "app-canvas" }, s.default.createElement(c.default, { pydio: this.props.pydio, dataModel: o, rootNode: o.getRootNode(), contextNode: o.getContextNode(), open: T.getInstance().isOpen(), showAdvanced: n, toggleAdvanced: this.toggleAdvanced.bind(this) }), s.default.createElement(L, { pydio: i, mode: "absolute" }), s.default.createElement(u.Paper, { zDepth: 0, className: "main-panel", style: b(b({}, l.body.mainPanel), {}, { left: T.getInstance().isActive() ? 0 : 256 }) }, this.routeMasterPanel(o.getContextNode(), o.getUniqueNode())), s.default.createElement("div", { style: t }), s.default.createElement(u.Paper, { zDepth: 5, className: "paper-editor layout-fill vertical-layout" + (r ? " visible" : ""), style: { zIndex: 11, borderRadius: "4px 4px 0 0" } }, e)))
            }
        });
        n.default = a, n.default = a = (0, f.muiThemeable)()(a)
    }, { "../styles/AdminStyles": 10, "../util/Mixins": 17, "./AdminLeftNav": 2, "create-react-class": "create-react-class", "material-ui": "material-ui", "material-ui/styles": "material-ui/styles", "prop-types": "prop-types", pydio: "pydio", "pydio/http/resources-manager": "pydio/http/resources-manager", "pydio/lang/observable": "pydio/lang/observable", "pydio/model/data-model": "pydio/model/data-model", "pydio/util/dom": "pydio/util/dom", react: "react" }],
    2: [function(e, t, n) {
        "use strict";

        function i(e) { return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) { return typeof e } : function(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = void 0;
        var r = c(e("pydio")),
            o = c(e("../util/NavigationHelper")),
            a = c(e("../util/MenuItemListener")),
            l = c(e("../styles/AdminStyles")),
            s = e("./AdminDashboard");

        function c(e) { return e && e.__esModule ? e : { default: e } }

        function u() { return (u = Object.assign || function(e) { for (var t = 1; t < arguments.length; t++) { var n, r = arguments[t]; for (n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) }

        function f(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function d(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }

        function p(e, t, n) { return t && d(e.prototype, t), n && d(e, n), e }

        function h(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && g(e, t)
        }

        function g(e, t) { return (g = Object.setPrototypeOf || function(e, t) { return e.__proto__ = t, e })(e, t) }

        function m(n) { var r = function() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0 } catch (e) { return !1 } }(); return function() { var e, t = y(n); return e = r ? (e = y(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), t = this, !(e = e) || "object" !== i(e) && "function" != typeof e ? function(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(t) : e } }

        function y(e) { return (y = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }
        var v = e("react"),
            b = e("material-ui"),
            w = b.Paper,
            x = b.Menu,
            C = b.IconButton,
            e = e("material-ui/styles").muiThemeable,
            S = r.default.requireLib("workspaces").UserWidget,
            O = function() {
                h(t, v.Component);
                var e = m(t);

                function t() { return f(this, t), e.apply(this, arguments) }
                return p(t, [{ key: "componentDidMount", value: function() { a.default.getInstance().observe("item_changed", function() { this.forceUpdate() }.bind(this)) } }, { key: "componentWillUnmount", value: function() { a.default.getInstance().stopObserving("item_changed") } }, {
                    key: "onMenuChange",
                    value: function(e, t) {
                        this.props.dataModel.setSelectedNodes([]), this.props.dataModel.setContextNode(t);
                        t = s.LeftToggleListener.getInstance();
                        t.isActive() && t.toggle()
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.pydio,
                            n = e.rootNode,
                            r = e.muiTheme,
                            e = e.showAdvanced,
                            i = this.props.contextNode;
                        this.props.rootNode.getChildren().forEach(function(e) { e.getPath() === i.getPath() ? i = e : e.getChildren().forEach(function(e) { e.getPath() === i.getPath() && (i = e) }) });
                        e = o.default.buildNavigationItems(t, n, r.palette, e, !1);
                        return v.createElement(x, { onChange: this.onMenuChange.bind(this), autoWidth: !1, width: 256, desktop: !0, disableAutoFocus: !0, listStyle: (0, l.default)(r.palette).menu.listStyle, value: i }, e)
                    }
                }]), t
            }(),
            O = e()(O),
            e = function() {
                h(t, v.Component);
                var e = m(t);

                function t() { return f(this, t), e.apply(this, arguments) }
                return p(t, [{
                    key: "render",
                    value: function() {
                        var e = this,
                            t = this.props,
                            n = t.open,
                            r = t.pydio,
                            i = t.showAdvanced,
                            o = (0, l.default)(),
                            a = o.menu,
                            t = o.props,
                            o = a.leftNav;
                        return n || (o.transform = "translateX(-256px)"), v.createElement(w, u({}, t.leftNav, { className: "admin-main-nav", style: o }), v.createElement("div", { style: a.header.container }, v.createElement("span", { style: a.header.title }, r.MessageHash["settings.topbar.title"]), v.createElement(C, { iconClassName: "mdi mdi-toggle-switch" + (i ? "" : "-off"), style: { padding: 14 }, iconStyle: { color: "white", fontSize: 20 }, tooltip: r.MessageHash["settings.topbar.button.advanced"], onClick: function() { return e.props.toggleAdvanced() } }), v.createElement(S, { pydio: r, style: a.header.userWidget, hideActionBar: !0, displayLabel: !1, toolbars: ["aUser", "user", "zlogin"], controller: r.getController() })), v.createElement(O, this.props))
                    }
                }]), t
            }();
        n.default = e, t.exports = n.default
    }, { "../styles/AdminStyles": 10, "../util/MenuItemListener": 16, "../util/NavigationHelper": 18, "./AdminDashboard": 1, "material-ui": "material-ui", "material-ui/styles": "material-ui/styles", pydio: "pydio", react: "react" }],
    3: [function(e, t, n) {
        "use strict";

        function i(e) { return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) { return typeof e } : function(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = void 0;
        var o = u(e("react")),
            r = u(e("pydio")),
            a = u(e("../styles/AdminStyles")),
            l = u(e("../styles/Header")),
            s = e("material-ui/styles"),
            c = e("material-ui");

        function u(e) { return e && e.__esModule ? e : { default: e } }

        function f() { return (f = Object.assign || function(e) { for (var t = 1; t < arguments.length; t++) { var n, r = arguments[t]; for (n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) }

        function d(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }

        function p(e, t) { return (p = Object.setPrototypeOf || function(e, t) { return e.__proto__ = t, e })(e, t) }

        function h(n) { var r = function() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0 } catch (e) { return !1 } }(); return function() { var e, t = g(n); return e = r ? (e = g(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), t = this, !(e = e) || "object" !== i(e) && "function" != typeof e ? function(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(t) : e } }

        function g(e) { return (g = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }
        var m = r.default.requireLib("components").DynamicGrid,
            e = r.default.requireLib("boot").PydioContextConsumer,
            r = function() {
                ! function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && p(e, t)
                }(i, o["default"].Component);
                var e, t, n, r = h(i);

                function i() { return function(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, i), r.apply(this, arguments) }
                return e = i, (t = [{
                        key: "getDefaultCards",
                        value: function() {
                            return [{ id: "quick.links", componentClass: "AdminComponents.QuickLinks", props: {}, defaultPosition: { x: 0, y: 0 } },
                                // { id: "software.update", componentClass: "AdminComponents.SoftwareUpdate", defaultPosition: { x: 0, y: 1 } },
                                // { id: "graph.files", componentClass: "AdminComponents.FakeGraph", defaultPosition: { x: 0, y: 2 }, props: { type: "files" } },
                                // { id: "graph.connections", componentClass: "AdminComponents.FakeGraph", defaultPosition: { x: 4, y: 2 }, props: { type: "connections" } },
                                { id: "recent.logs", componentClass: "AdminComponents.RecentLogs", props: { interval: 60 }, defaultPosition: { x: 0, y: 3 } }
                            ]
                        }
                    },
                    {
                        key: "render",
                        value: function() {
                            var e, t = this.props.pydio,
                                n = (0, a.default)(this.props.muiTheme.palette),
                                n = o.default.createElement(c.IconButton, f({ iconClassName: "icomoon-cells", onClick: function() {}, tooltip: t.MessageHash["settings.topbar.button.about"], tooltipPosition: "bottom-left" }, n.props.header.iconButton));
                            return o.default.createElement("div", { style: { height: "100%", display: "flex", flexDirection: "column", overflowY: "hidden" } }, o.default.createElement(l.default, { title: (e = "welc.title", t.MessageHash["admin_dashboard." + e]), icon: "mdi mdi-view-dashboard", actions: [n] }), o.default.createElement(m, { storeNamespace: "AdminComponents.Grid", builderNamespaces: ["AdminComponents"], defaultCards: this.getDefaultCards(), pydio: t, style: { flex: 1 }, rglStyle: { position: "absolute", top: 6, left: 6, right: 6, bottom: 6 }, disableEdit: !0 }))
                        }
                    }
                ]) && d(e.prototype, t), n && d(e, n), i
            }();
        n.default = r, n.default = r = e(r), n.default = r = (0, s.muiThemeable)()(r), t.exports = n.default
    }, { "../styles/AdminStyles": 10, "../styles/Header": 11, "material-ui": "material-ui", "material-ui/styles": "material-ui/styles", pydio: "pydio", react: "react" }],
    4: [function(e, t, n) {
        "use strict";
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = void 0;
        var p = a(e("react")),
            r = a(e("create-react-class")),
            i = e("material-ui/styles"),
            h = e("material-ui"),
            o = e("../util/Mixins"),
            g = a(e("lodash.shuffle")),
            m = a(e("../styles/Header")),
            y = a(e("../styles/AdminStyles")),
            v = a(e("pydio/util/dom"));

        function a(e) { return e && e.__esModule ? e : { default: e } }

        function l(t, e) { var n, r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function(e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r }

        function b(r) {
            for (var e = 1; e < arguments.length; e++) {
                var i = null != arguments[e] ? arguments[e] : {};
                e % 2 ? l(Object(i), !0).forEach(function(e) {
                    var t, n;
                    t = r, e = i[n = e], n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(i)) : l(Object(i)).forEach(function(e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(i, e)) })
            }
            return r
        }

        function w() { return (w = Object.assign || function(e) { for (var t = 1; t < arguments.length; t++) { var n, r = arguments[t]; for (n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) }
        o = (0, r.default)({
            displayName: "Dashboard",
            mixins: [o.MessagesConsumerMixin],
            getInitialState: function() { return { kb: [] } },
            componentDidMount: function() {
                var t = this;
                PydioApi.getClient().loadFile("plug/access.settings/res/i18n/kb.json", function(e) {
                    e = e.responseJSON;
                    t.setState({ kb: e })
                })
            },
            getOpenIcon: function(e) { return p.default.createElement(h.IconButton, { iconClassName: "mdi mdi-arrow-right", iconStyle: { color: "rgba(0,0,0,.33)" }, tooltip: "Open in new window", tooltipPosition: "bottom-left", onClick: function() { window.open(e) } }) },
            getDocButton: function(e, t, n) {
                var r = 3 < arguments.length && void 0 !== arguments[3] ? arguments[3] : {},
                    i = 4 < arguments.length && void 0 !== arguments[4] ? arguments[4] : {};
                return p.default.createElement(h.FlatButton, w({ key: t, label: t, primary: !0, icon: p.default.createElement(h.FontIcon, w({ className: "mdi mdi-" + e }, i)), onClick: function() { window.open(n) } }, r))
            },
            welcomeClick: function(e) { e.target.getAttribute("data-path") && ("/plugins/manager" === (e = e.target.getAttribute("data-path")) && (e = "/parameters/manager"), this.props.pydio.goTo(e)) },
            render: function() {
                function t(e) { return u.MessageHash["admin_dashboard." + e] }
                var n = this,
                    e = { flex: 1 },
                    r = b({}, { display: "flex", flexDirection: "column", height: "100%" }),
                    i = this.props.muiTheme.palette.accent2Color,
                    o = (0, y.default)(this.props.muiTheme.palette),
                    a = v.default.getViewportWidth(),
                    l = b(b({}, o.body.block.container), {}, { flex: 1, minWidth: Math.min(a - 26, 450), margin: 8 }),
                    s = b(b({}, o.props.header.flatButton), { style: { height: 34, lineHeight: "34px", margin: 2 } }),
                    c = { color: o.props.header.flatButton.labelStyle.color, style: { fontSize: 20 } },
                    u = this.props.pydio,
                    f = [];
                (0, g.default)(this.state.kb).forEach(function(e) { f.push(p.default.createElement(h.ListItem, { key: e.title, primaryText: e.title, secondaryText: e.desc, rightIconButton: n.getOpenIcon(e.link), secondaryTextLines: 2, disabled: !0 })), f.push(p.default.createElement(h.Divider, { key: e.title + "-divider" })) }), f.length && f.pop();
                var d = p.default.createElement(h.Card, { zDepth: 0, style: b(b({}, l), {}, { minWidth: "95%" }), containerStyle: r }, p.default.createElement("div", { style: o.body.block.headerFull }, t("welc.subtitle")), p.default.createElement(h.CardText, { style: e }, p.default.createElement("style", { dangerouslySetInnerHTML: { __html: ".doc-link{color: " + i + ";cursor: pointer;text-decoration:underline;}" } }), p.default.createElement("div", { style: { lineHeight: "1.6em" } }, p.default.createElement("span", { dangerouslySetInnerHTML: { __html: t("welc.intro") }, onClick: this.welcomeClick }), p.default.createElement("span", { dangerouslySetInnerHTML: { __html: t("welc.import") }, onClick: this.welcomeClick })), p.default.createElement("p", { style: { fontSize: 14 } }, t("welc.guide"))), p.default.createElement(h.Divider, null), p.default.createElement(h.CardActions, { style: { textAlign: "right" } }, [{ icon: "clock-start", id: "start", link: "https://pydio.com/en/docs/cells/v3/quick-admin-tour" }, { icon: "network", id: "ws", link: "https://pydio.com/en/docs/cells/v3/workspaces-cells" }, { icon: "account-multiple", id: "users", link: "https://pydio.com/en/docs/cells/v3/manage-users" }, { icon: "professional-hexagon", id: "advanced", link: "https://pydio.com/en/docs/cells/v3/secure-your-data" }].map(function(e) { return n.getDocButton(e.icon, t("welc.btn." + e.id), e.link, s, c) }))),
                    a = p.default.createElement(h.Card, { zDepth: 0, style: l, containerStyle: r }, p.default.createElement(h.CardTitle, { title: t("cont.title"), subtitle: t("cont.subtitle") }), p.default.createElement(h.CardText, { style: e }, p.default.createElement("div", { className: "mdi mdi-github-circle", style: { fontSize: 60, display: "inline-block", float: "left", marginRight: 10, marginBottom: 10 } }), t("cont.intro"), p.default.createElement(h.List, null, p.default.createElement(h.ListItem, { disabled: !0, primaryText: t("cont.topic.report"), rightIconButton: this.getOpenIcon("https://forum.pydio.com/") }), p.default.createElement(h.Divider, null), p.default.createElement(h.ListItem, { disabled: !0, primaryText: t("cont.topic.report.2"), rightIconButton: this.getOpenIcon("https://github.com/pydio/cells") }), p.default.createElement(h.Divider, null), p.default.createElement(h.ListItem, { disabled: !0, primaryText: t("cont.topic.pr"), rightIconButton: this.getOpenIcon("https://github.com/pydio/cells") }), p.default.createElement(h.Divider, null), p.default.createElement(h.ListItem, { disabled: !0, primaryText: t("cont.topic.translate"), rightIconButton: this.getOpenIcon("https://pydio.com/en/community/contribute/adding-translation-pydio") }))), p.default.createElement(h.Divider, null), p.default.createElement(h.CardActions, { style: { textAlign: "right" } }, p.default.createElement(h.FlatButton, w({ label: t("cont.btn.github"), primary: !0, icon: p.default.createElement(h.FontIcon, w({ className: "mdi mdi-github-box" }, c)), onClick: function() { window.open("https://github.com/pydio/cells") } }, s)), p.default.createElement(h.FlatButton, w({ label: t("cont.btn.tw"), primary: !0, icon: p.default.createElement(h.FontIcon, w({ className: "mdi mdi-twitter-box" }, c)), onClick: function() { window.open("https://twitter.com/Pydio") } }, s)), p.default.createElement(h.FlatButton, w({ label: t("cont.btn.fb"), primary: !0, icon: p.default.createElement(h.FontIcon, w({ className: "mdi mdi-facebook-box" }, c)), onClick: function() { window.open("https://facebook.com/Pydio/") } }, s)))),
                    i = p.default.createElement(h.Card, { zDepth: 0, style: l, containerStyle: r }, p.default.createElement(h.CardMedia, { overlay: p.default.createElement(h.CardTitle, { title: t("ent.title"), subtitle: t("ent.subtitle") }) }, p.default.createElement("div", { style: { height: 230, backgroundImage: "url(plug/access.settings/res/images/dashboard.png)", backgroundSize: "cover", borderRadius: 3 } })), p.default.createElement(h.List, { style: e }, p.default.createElement(h.ListItem, { leftIcon: p.default.createElement(h.FontIcon, { style: { color: i }, className: "mdi mdi-certificate" }), primaryText: t("ent.features"), secondaryText: t("ent.features.legend"), disabled: !0 }), p.default.createElement(h.Divider, null), p.default.createElement(h.ListItem, { leftIcon: p.default.createElement(h.FontIcon, { style: { color: i }, className: "mdi mdi-chart-areaspline" }), primaryText: t("ent.advanced"), secondaryText: t("ent.advanced.legend"), disabled: !0 }), p.default.createElement(h.Divider, null), p.default.createElement(h.ListItem, { leftIcon: p.default.createElement(h.FontIcon, { style: { color: i }, className: "mdi mdi-message-alert" }), primaryText: t("ent.support"), secondaryText: t("ent.support.legend"), disabled: !0 }), p.default.createElement(h.Divider, null), p.default.createElement(h.ListItem, { leftIcon: p.default.createElement(h.FontIcon, { style: { color: i }, className: "mdi mdi-download" }), onClick: function() { u.goTo("/admin/update") }, primaryText: p.default.createElement("span", { style: { color: "rgb(1, 141, 204)" } }, t("ent.upgrade")), secondaryText: t("ent.upgrade.legend") })), p.default.createElement(h.Divider, null), p.default.createElement(h.CardActions, { style: { textAlign: "right" } }, p.default.createElement(h.FlatButton, w({ label: t("ent.btn.more"), icon: p.default.createElement(h.FontIcon, w({ className: "icomoon-cells" }, c)), primary: !0, onClick: function() { window.open("https://pydio.com/en/pydio-cells/overview") } }, s)), p.default.createElement(h.FlatButton, w({ label: t("ent.btn.contact"), icon: p.default.createElement(h.FontIcon, w({ className: "mdi mdi-domain" }, c)), primary: !0, onClick: function() { window.open("https://pydio.com/en/pricing/contact") } }, s)))),
                    o = p.default.createElement(h.IconButton, w({ iconClassName: "icomoon-cells", onClick: function() { window.open("https://pydio.com") }, tooltip: u.MessageHash["settings.topbar.button.about"], tooltipPosition: "bottom-left" }, o.props.header.iconButton));
                return p.default.createElement("div", { className: "main-layout-nav-to-stack vertical-layout" }, p.default.createElement(m.default, { title: t("welc.title"), icon: "mdi mdi-view-dashboard", actions: [o] }), p.default.createElement("div", { className: "layout-fill", style: { display: "flex", alignItems: "top", flexWrap: "wrap", padding: 5 } }, d, i, a))
            }
        });
        n.default = o, n.default = (0, i.muiThemeable)()(o), t.exports = n.default
    }, { "../styles/AdminStyles": 10, "../styles/Header": 11, "../util/Mixins": 17, "create-react-class": "create-react-class", "lodash.shuffle": 26, "material-ui": "material-ui", "material-ui/styles": "material-ui/styles", "pydio/util/dom": "pydio/util/dom", react: "react" }],
    5: [function(e, t, n) {
        "use strict";

        function a(e) { return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) { return typeof e } : function(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = void 0;
        var d = function(e, t) {
                if (!t && e && e.__esModule) return e;
                if (null === e || "object" !== a(e) && "function" != typeof e) return { default: e };
                t = l(t);
                if (t && t.has(e)) return t.get(e);
                var n, r = {},
                    i = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (n in e) { var o; "default" !== n && Object.prototype.hasOwnProperty.call(e, n) && ((o = i ? Object.getOwnPropertyDescriptor(e, n) : null) && (o.get || o.set) ? Object.defineProperty(r, n, o) : r[n] = e[n]) }
                r.default = e, t && t.set(e, r);
                return r
            }(e("react")),
            r = o(e("pydio")),
            p = o(e("../styles/AdminStyles")),
            h = e("material-ui"),
            i = e("material-ui/styles");

        function o(e) { return e && e.__esModule ? e : { default: e } }

        function l(e) {
            if ("function" != typeof WeakMap) return null;
            var t = new WeakMap,
                n = new WeakMap;
            return (l = function(e) { return e ? n : t })(e)
        }

        function g() { return (g = Object.assign || function(e) { for (var t = 1; t < arguments.length; t++) { var n, r = arguments[t]; for (n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) }

        function s(t, e) { var n, r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function(e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r }

        function m(r) {
            for (var e = 1; e < arguments.length; e++) {
                var i = null != arguments[e] ? arguments[e] : {};
                e % 2 ? s(Object(i), !0).forEach(function(e) {
                    var t, n;
                    t = r, e = i[n = e], n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(i)) : s(Object(i)).forEach(function(e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(i, e)) })
            }
            return r
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }

        function u(e, t) { return (u = Object.setPrototypeOf || function(e, t) { return e.__proto__ = t, e })(e, t) }

        function f(n) { var r = function() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0 } catch (e) { return !1 } }(); return function() { var e, t = y(n); return e = r ? (e = y(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), t = this, !(e = e) || "object" !== a(e) && "function" != typeof e ? function(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(t) : e } }

        function y(e) { return (y = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }
        var v = r.default.requireLib("components").asGridItem,
            b = r.default.requireLib("boot"),
            e = b.PydioContextConsumer,
            e = (b.moment, e(e = function() {
                ! function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && u(e, t)
                }(i, d.Component);
                var e, t, n, r = f(i);

                function i(e) { return function(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, i), (e = r.call(this, e)).state = { hover: !1 }, e }
                return e = i, (t = [{
                    key: "render",
                    value: function() {
                        var e = this,
                            t = this.state.hover,
                            n = this.props,
                            r = n.muiTheme,
                            i = n.type,
                            o = n.pydio,
                            a = (0, p.default)(r.palette),
                            l = a.body.block.headerFull,
                            s = m({}, this.props.style),
                            c = { position: "absolute", top: 0, bottom: 0, right: 0, left: 0, backgroundColor: t ? "rgba(0,0,0,.5)" : "rgba(0,0,0,.25)", cursor: "pointer", display: "flex", alignItems: "center", justifyContent: "center", transition: "background 350ms" },
                            u = { color: "white", fontSize: t ? 18 : 15, textAlign: t ? "left" : "center", fontWeight: 500, width: "60%", lineHeight: "1.6em", transition: "font-size 350ms" },
                            f = t ? "blur(2px)" : "blur(1px)",
                            n = function(e) { return o.MessageHash["admin_dashboard." + e] },
                            r = "files" === i ? [d.default.createElement("li", null, "+ ", n("ent.advanced")), d.default.createElement("li", null, "+ ", n("ent.features.legend"))] : [d.default.createElement("li", null, "+ ", n("ent.support"), ": ", n("ent.support.legend")), d.default.createElement("li", null, "+ ", n("ent.upgrade.legend"))];
                        return d.default.createElement(h.Paper, g({}, this.props, a.body.block.props, { style: m(m({}, a.body.block.container), {}, { margin: 0 }, s), transitionEnabled: !1 }), d.default.createElement("div", { style: m(m({}, l), {}, { filter: f }) }, n("graph." + i)), d.default.createElement("img", { alt: "", src: "plug/access.settings/res/images/graph-" + i + ".png", style: { filter: f } }), d.default.createElement("div", { style: c, onClick: function() { window.open("https://pydio.com/en/pydio-cells/overview?utm_source=settings") }, onMouseEnter: function() { return e.setState({ hover: !0 }) }, onMouseLeave: function() { return e.setState({ hover: !1 }) } }, d.default.createElement("div", { style: u }, n("ent.title"), d.default.createElement("div", { style: { fontSize: 15, lineHeight: "1.6em", textAlign: "left", height: t ? 120 : 0, transition: "all 350ms", overflow: "hidden" } }, d.default.createElement("ul", null, r)))))
                    }
                }]) && c(e.prototype, t), n && c(e, n), i
            }()));
        (e = v(e = (0, i.muiThemeable)()(e), r.default.getMessages()["advanced_settings.home.32"], { gridWidth: 4, gridHeight: 20 }, [])).displayName = "FakeGraph", n.default = e, t.exports = n.default
    }, { "../styles/AdminStyles": 10, "material-ui": "material-ui", "material-ui/styles": "material-ui/styles", pydio: "pydio", react: "react" }],
    6: [function(e, t, n) {
        "use strict";
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = void 0;
        var l = function(e, t) {
                if (!t && e && e.__esModule) return e;
                if (null === e || "object" !== m(e) && "function" != typeof e) return { default: e };
                t = a(t);
                if (t && t.has(e)) return t.get(e);
                var n, r = {},
                    i = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (n in e) { var o; "default" !== n && Object.prototype.hasOwnProperty.call(e, n) && ((o = i ? Object.getOwnPropertyDescriptor(e, n) : null) && (o.get || o.set) ? Object.defineProperty(r, n, o) : r[n] = e[n]) }
                r.default = e, t && t.set(e, r);
                return r
            }(e("react")),
            s = e("material-ui"),
            r = o(e("pydio")),
            c = o(e("../util/NavigationHelper")),
            u = o(e("../styles/AdminStyles")),
            i = e("material-ui/styles");

        function o(e) { return e && e.__esModule ? e : { default: e } }

        function a(e) {
            if ("function" != typeof WeakMap) return null;
            var t = new WeakMap,
                n = new WeakMap;
            return (a = function(e) { return e ? n : t })(e)
        }

        function f() { return (f = Object.assign || function(e) { for (var t = 1; t < arguments.length; t++) { var n, r = arguments[t]; for (n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) }

        function d(t, e) { var n, r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function(e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r }

        function p(r) {
            for (var e = 1; e < arguments.length; e++) {
                var i = null != arguments[e] ? arguments[e] : {};
                e % 2 ? d(Object(i), !0).forEach(function(e) {
                    var t, n;
                    t = r, e = i[n = e], n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(i)) : d(Object(i)).forEach(function(e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(i, e)) })
            }
            return r
        }

        function h(e) { return function(e) { if (Array.isArray(e)) return g(e) }(e) || function(e) { if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e) }(e) || function(e, t) { if (!e) return; if ("string" == typeof e) return g(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); "Object" === n && e.constructor && (n = e.constructor.name); if ("Map" === n || "Set" === n) return Array.from(e); if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return g(e, t) }(e) || function() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() }

        function g(e, t) {
            (null == t || t > e.length) && (t = e.length);
            for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];
            return r
        }

        function m(e) { return (m = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) { return typeof e } : function(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

        function y(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }

        function v(e, t) { return (v = Object.setPrototypeOf || function(e, t) { return e.__proto__ = t, e })(e, t) }

        function b(n) { var r = function() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0 } catch (e) { return !1 } }(); return function() { var e, t = x(n); return w(this, r ? (e = x(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments)) } }

        function w(e, t) { return !t || "object" !== m(t) && "function" != typeof t ? function(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

        function x(e) { return (x = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }
        var C = r.default.requireLib("components").asGridItem,
            S = r.default.requireLib("boot").PydioContextConsumer,
            e = function() {
                ! function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && v(e, t)
                }(i, l.Component);
                var e, t, n, r = b(i);

                function i(e, t) {
                    ! function(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, i);
                    var n = r.call(this, e, t),
                        t = e.preferencesProvider,
                        e = e.getMessage;
                    if (t) { t = t.getUserPreference("QuickLinks"); if (t && "object" === m(t)) return n.state = { links: t, edit: !1 }, w(n) }
                    return n.state = { edit: !1, links: [{ path: "/idm/users", iconClass: "mdi mdi-account", label: e("2", "settings"), description: e("139", "settings") }, { path: "/data/workspaces", iconClass: "mdi mdi-network", label: e("3", "settings"), description: e("138", "settings") }] }, n
                }
                return e = i, (t = [{ key: "menuClicked", value: function(e, t, n) { var r; - 1 !== n && ((r = h(this.state.links)).filter(function(e) { return e.path === n.getPath() }).length || (r.push({ path: n.getPath(), label: n.getLabel().replace("---", ""), description: n.getMetadata().get("description"), iconClass: n.getMetadata().get("icon_class") }), this.props.preferencesProvider && this.props.preferencesProvider.saveUserPreference("QuickLinks", r), this.setState({ links: r }))) } }, {
                    key: "removeLink",
                    value: function(t, e) {
                        var n = this.state.links.filter(function(e) { return e.path !== t });
                        this.props.preferencesProvider && this.props.preferencesProvider.saveUserPreference("QuickLinks", n), this.setState({ links: n })
                    }
                }, { key: "toggleEdit", value: function() { this.state.edit ? this.props.onBlurItem() : this.props.onFocusItem(), this.setState({ edit: !this.state.edit }) } }, {
                    key: "render",
                    value: function() {
                        var e, t = this.props,
                            n = t.muiTheme,
                            r = t.pydio,
                            i = this.state.links.map(function(e) { var t; return this.state.edit ? (t = l.default.createElement("span", { style: { color: "#9e9e9e" } }, l.default.createElement("span", { className: "mdi mdi-delete" }), " ", e.label), l.default.createElement(s.FlatButton, { key: e.path, secondary: !1, onClick: this.removeLink.bind(this, e.path), label: t })) : (t = l.default.createElement("span", null, l.default.createElement("span", { className: e.iconClass + " button-icon" }), " ", e.label), l.default.createElement(s.FlatButton, { key: e.path, primary: !0, onClick: function() { r.goTo(e.path) }, label: t })) }.bind(this)),
                            o = (0, u.default)(n.palette),
                            a = o.body.block.headerFull;
                        return a = this.state.edit ? (e = [l.default.createElement(s.MenuItem, { primaryText: this.props.getMessage("card.quick-access.add", "admin_dashboard"), value: "-1" })], t = r.getContextHolder().getRootNode(), e = e.concat(c.default.buildNavigationItems(r, t, n.palette, !0, !0)), l.default.createElement("div", null, l.default.createElement(s.DropDownMenu, { style: { marginTop: 6 }, underlineStyle: { display: "none" }, onChange: this.menuClicked.bind(this), value: "-1", menuStyle: { backgroundColor: o.menu.leftNav.backgroundColor } }, e))) : l.default.createElement("h4", { style: p(p({}, a), {}, { margin: 0, marginRight: 8, padding: "0 20px", borderRight: a.borderBottom, borderBottom: "none" }) }, this.props.getMessage("card.quick-access", "admin_dashboard")), l.default.createElement(s.Paper, f({}, this.props, o.body.block.props, { transitionEnabled: !1, style: p(p(p({}, o.body.block.container), {}, { margin: 0 }, this.props.style), {}, { display: "flex", alignItems: "center" }) }), this.props.closeButton, a, i, l.default.createElement("span", { style: { flex: 1 } }), l.default.createElement(s.IconButton, { onClick: this.toggleEdit.bind(this), iconClassName: this.state.edit ? "mdi mdi-check" : "mdi mdi-pencil", secondary: this.state.edit, iconStyle: { color: "#9e9e9e" }, style: { marginRight: 10, zoom: .8 } }))
                    }
                }]) && y(e.prototype, t), n && y(e, n), i
            }();
        n.default = e, n.default = e = S((0, i.muiThemeable)()(e)), n.default = e = C(e, r.default.getMessages()["admin_dashboard.card.quick-access"], { gridWidth: 8, gridHeight: 4 }, []), t.exports = n.default
    }, { "../styles/AdminStyles": 10, "../util/NavigationHelper": 18, "material-ui": "material-ui", "material-ui/styles": "material-ui/styles", pydio: "pydio", react: "react" }],
    7: [function(e, t, n) {
        "use strict";

        function i(e) { return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) { return typeof e } : function(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = void 0;
        var o = e("react"),
            r = f(e("pydio")),
            a = f(e("pydio/http/api")),
            l = e("material-ui"),
            s = f(e("../styles/AdminStyles")),
            c = e("cells-sdk"),
            u = f(e("../util/ReloadWrapper"));

        function f(e) { return e && e.__esModule ? e : { default: e } }

        function d() { return (d = Object.assign || function(e) { for (var t = 1; t < arguments.length; t++) { var n, r = arguments[t]; for (n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) }

        function p(t, e) { var n, r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function(e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r }

        function h(r) {
            for (var e = 1; e < arguments.length; e++) {
                var i = null != arguments[e] ? arguments[e] : {};
                e % 2 ? p(Object(i), !0).forEach(function(e) {
                    var t, n;
                    t = r, e = i[n = e], n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(i)) : p(Object(i)).forEach(function(e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(i, e)) })
            }
            return r
        }

        function g(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }

        function m(e, t) { return (m = Object.setPrototypeOf || function(e, t) { return e.__proto__ = t, e })(e, t) }

        function y(n) { var r = function() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0 } catch (e) { return !1 } }(); return function() { var e, t = v(n); return e = r ? (e = v(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), t = this, !(e = e) || "object" !== i(e) && "function" != typeof e ? function(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(t) : e } }

        function v(e) { return (v = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }
        var b = r.default.requireLib("components"),
            w = b.asGridItem,
            x = b.MaterialTable,
            e = r.default.requireLib("boot").PydioContextConsumer,
            b = function() {
                ! function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && m(e, t)
                }(i, o.Component);
                var e, t, n, r = y(i);

                function i(e, t) { return function(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, i), (t = r.call(this, e, t)).state = { filter: "", logs: [] }, t }
                return e = i, (t = [{
                    key: "loadLogs",
                    value: function() {
                        var t = this,
                            e = this.state.filter,
                            n = new c.LogServiceApi(a.default.getRestClient()),
                            r = new c.LogListLogRequest;
                        r.Query = "error" === e ? "+Level:ERROR" : "", r.Page = 0, r.Size = 30, r.Format = c.ListLogRequestLogFormat.constructFromObject("JSON"), n.syslog(r).then(function(e) { e.Logs && t.setState({ logs: e.Logs }) })
                    }
                }, { key: "componentDidMount", value: function() { this.loadLogs() } }, {
                    key: "changeFilter",
                    value: function(e) {
                        var t = this;
                        this.setState({ filter: e }, function() { return t.triggerReload() })
                    }
                }, { key: "triggerReload", value: function() { this.loadLogs() } }, {
                    key: "render",
                    value: function() {
                        var n = this,
                            e = this.state,
                            t = e.logs,
                            r = e.filter,
                            i = this.props.pydio,
                            o = h(h({}, this.props.style), {}, { display: "flex", flexDirection: "column" }),
                            a = (0, s.default)(),
                            e = React.createElement("div", null, React.createElement(l.FlatButton, { label: React.createElement("span", null, React.createElement("span", { className: "mdi mdi-pulse" }), " ", i.MessageHash["admin_dashboard.recentLogs.more"]), onClick: function() { i.goTo("/admin/logs") }, primary: !0 }));
                        return React.createElement(l.Paper, d({}, this.props, a.body.block.props, { style: h(h({}, a.body.block.container), {}, { margin: 0 }, o), transitionEnabled: !1 }), React.createElement("div", { style: h({ display: "flex", alignItems: "center" }, a.body.block.headerFull) }, React.createElement("div", { style: { flex: 1 } }, i.MessageHash["admin_dashboard.recentLogs.title"]), React.createElement("div", { style: { paddingRight: 16, borderRight: e ? "2px solid rgba(0,0,0,.1)" : "none" } }, React.createElement(l.Toggle, { toggled: "error" === r, onToggle: function(e, t) { n.changeFilter(t ? "error" : "") }, label: i.MessageHash["admin_dashboard.recentLogs.errors"], thumbStyle: { backgroundColor: a.body.block.headerFull.color }, labelStyle: { whiteSpace: "nowrap", color: "#9e9e9e" }, labelPosition: "right" })), e), React.createElement("div", { style: { flex: 1, overflowY: "auto" } }, React.createElement(x, { hideHeaders: !0, columns: [{ name: "Ts", label: "Time", useMoment: !0, style: { width: 120, paddingRight: 0, color: "rgba(0,0,0,.54)" } }, { name: "Level", label: "Level", style: { width: 60, paddingRight: 0, color: "rgba(0,0,0,.54)" } }, { name: "Logger", label: "Service", style: { width: 120, paddingRight: 0, color: "rgba(0,0,0,.54)" } }, { name: "Msg", label: "Message" }], data: t, showCheckboxes: !1, emptyStateString: i.MessageHash["admin_dashboard.recentLogs.emptyState"], computeRowStyle: function(e) { return "error" === e.Level ? { color: "#E53935" } : {} } })))
                    }
                }]) && g(e.prototype, t), n && g(e, n), i
            }();
        n.default = b;
        r = r.default.getMessages();
        n.default = b = e((0, u.default)(b)), n.default = b = w(b, r["admin_dashboard.recentLogs.title"], { gridWidth: 8, gridHeight: 30 }, []), b.displayName = "RecentLogs", t.exports = n.default
    }, { "../styles/AdminStyles": 10, "../util/ReloadWrapper": 20, "cells-sdk": "cells-sdk", "material-ui": "material-ui", pydio: "pydio", "pydio/http/api": "pydio/http/api", react: "react" }],
    8: [function(e, t, n) {
        "use strict";

        function a(e) { return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) { return typeof e } : function(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = void 0;
        var c = function(e, t) {
                if (!t && e && e.__esModule) return e;
                if (null === e || "object" !== a(e) && "function" != typeof e) return { default: e };
                t = p(t);
                if (t && t.has(e)) return t.get(e);
                var n, r = {},
                    i = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (n in e) { var o; "default" !== n && Object.prototype.hasOwnProperty.call(e, n) && ((o = i ? Object.getOwnPropertyDescriptor(e, n) : null) && (o.get || o.set) ? Object.defineProperty(r, n, o) : r[n] = e[n]) }
                r.default = e, t && t.set(e, r);
                return r
            }(e("react")),
            r = d(e("pydio")),
            o = d(e("pydio/model/node")),
            l = d(e("pydio/http/api")),
            s = e("cells-sdk"),
            u = d(e("../styles/AdminStyles")),
            f = e("material-ui"),
            i = e("material-ui/styles");

        function d(e) { return e && e.__esModule ? e : { default: e } }

        function p(e) {
            if ("function" != typeof WeakMap) return null;
            var t = new WeakMap,
                n = new WeakMap;
            return (p = function(e) { return e ? n : t })(e)
        }

        function h() { return (h = Object.assign || function(e) { for (var t = 1; t < arguments.length; t++) { var n, r = arguments[t]; for (n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) }

        function g(t, e) { var n, r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function(e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r }

        function m(r) {
            for (var e = 1; e < arguments.length; e++) {
                var i = null != arguments[e] ? arguments[e] : {};
                e % 2 ? g(Object(i), !0).forEach(function(e) {
                    var t, n;
                    t = r, e = i[n = e], n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(i)) : g(Object(i)).forEach(function(e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(i, e)) })
            }
            return r
        }

        function y(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }

        function v(e, t) { return (v = Object.setPrototypeOf || function(e, t) { return e.__proto__ = t, e })(e, t) }

        function b(n) { var r = function() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0 } catch (e) { return !1 } }(); return function() { var e, t = w(n); return e = r ? (e = w(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), t = this, !(e = e) || "object" !== a(e) && "function" != typeof e ? function(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(t) : e } }

        function w(e) { return (w = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }
        var x = r.default.requireLib("components").asGridItem,
            C = r.default.requireLib("boot"),
            e = C.PydioContextConsumer,
            S = C.moment,
            e = e(e = function() {
                ! function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && v(e, t)
                }(i, c.Component);
                var e, t, n, r = b(i);

                function i(e) {
                    ! function(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, i);
                    var t = r.call(this, e),
                        e = e.pydio;
                    return t.state = { loading: !1, backend: e.Parameters.get("backend") }, t.load(), t
                }
                return e = i, (t = [{
                    key: "load",
                    value: function() {
                        var n = this,
                            r = this.props.pydio;
                        l.default.getRestClient().getOrUpdateJwt().then(function(e) {
                            var t = r.Parameters.get("ENDPOINT_REST_API") + "/frontend/bootconf",
                                e = { Authorization: "Bearer " + e };
                            window.fetch(t, { method: "GET", credentials: "same-origin", headers: e }).then(function(e) { e.json().then(function(e) { e.backend && n.setState({ backend: e.backend }) }).catch(function() {}) }).catch(function() {})
                        }), this.setState({ loading: !0 }), new s.UpdateServiceApi(l.default.getRestClient()).updateRequired(new s.UpdateUpdateRequest).then(function(e) {
                            var t = 0;
                            e.AvailableBinaries ? (t = e.AvailableBinaries.length, n.setState({ packages: e.AvailableBinaries, channel: e.Channel })) : n.setState({ no_upgrade: !0 });
                            e = new o.default("/admin/update").findInArbo(r.getContextHolder().getRootNode(), void 0);
                            e && (e.getMetadata().set("flag", t), AdminComponents.MenuItemListener.getInstance().notify("item_changed")), n.setState({ loading: !1 })
                        }).catch(function() { n.setState({ loading: !1 }) })
                    }
                }, {
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.muiTheme,
                            n = e.pydio,
                            r = (0, u.default)(t.palette),
                            i = r.body.block.headerFull,
                            o = m({}, this.props.style),
                            a = this.state,
                            l = a.backend,
                            s = a.no_upgrade,
                            e = a.packages,
                            e = void 0 === e ? [] : e,
                            a = (a.channel, function(e) { return n.MessageHash["admin_dashboard." + e] });
                        return c.default.createElement(f.Paper, h({}, this.props, r.body.block.props, { style: m(m({}, r.body.block.container), {}, { margin: 0, display: "flex", alignItems: "center" }, o), transitionEnabled: !1 }), c.default.createElement("div", { style: m(m({}, i), {}, { borderRight: i.borderBottom, borderBottom: "none" }) }, a("card.update.current")), c.default.createElement("span", { style: { flex: 1, fontSize: 15, paddingLeft: 10, paddingRight: 10, overflow: "hidden", whiteSpace: "nowrap", textOverflow: "ellipsis" } }, 0 < e.length && c.default.createElement("span", { style: { fontSize: 15, cursor: "pointer", color: t.palette.accent1Color }, onClick: function() { return n.goTo("/admin/update") } }, c.default.createElement("span", { className: "mdi mdi-alert" }), " ", a("card.update.new-version"), ": ", e[0].Version), s && c.default.createElement("span", null, c.default.createElement("span", { className: "mdi mdi-archive", style: { color: i.color } }), " ", l.PackageLabel, " ", l.Version, l.BuildStamp ? " - " + S(l.BuildStamp).format("LL") : "", c.default.createElement("span", { style: { cursor: "pointer", fontSize: 13, marginLeft: 8, fontWeight: 500, color: "#bdbdbd", fontStyle: "italic" }, onClick: function() { return n.goTo("/admin/update") } }, a("card.update.no-updates")))))
                    }
                }]) && y(e.prototype, t), n && y(e, n), i
            }());
        (e = x(e = (0, i.muiThemeable)()(e), r.default.getMessages()["advanced_settings.home.32"], { gridWidth: 8, gridHeight: 4 }, [])).displayName = "SoftwareUpdate", n.default = e, t.exports = n.default
    }, { "../styles/AdminStyles": 10, "cells-sdk": "cells-sdk", "material-ui": "material-ui", "material-ui/styles": "material-ui/styles", pydio: "pydio", "pydio/http/api": "pydio/http/api", "pydio/model/node": "pydio/model/node", react: "react" }],
    9: [function(e, t, n) {
        "use strict";
        var r = w(e("./board/AdminDashboard")),
            i = w(e("./board/GridDashboard")),
            o = w(e("./board/SimpleDashboard")),
            a = e("./util/Mixins"),
            l = w(e("./util/NavigationHelper")),
            s = w(e("./util/MenuItemListener")),
            c = w(e("./util/DNDActionsManager")),
            u = w(e("./util/CodeMirrorField")),
            f = w(e("./util/PluginsLoader")),
            d = w(e("./util/ReloadWrapper")),
            p = w(e("./styles/AdminStyles")),
            h = w(e("./styles/Header")),
            g = w(e("./styles/SubHeader")),
            m = w(e("./cards/QuickLinks")),
            y = w(e("./cards/RecentLogs")),
            v = w(e("./cards/SoftwareUpdate")),
            b = w(e("./cards/FakeGraph")),
            e = e("./styles/PaperEditor");

        function w(e) { return e && e.__esModule ? e : { default: e } }
        window.AdminComponents = { AdminDashboard: r.default, SimpleDashboard: o.default, GridDashboard: i.default, MessagesConsumerMixin: a.MessagesConsumerMixin, PydioConsumerMixin: a.PydioConsumerMixin, NavigationHelper: l.default, MenuItemListener: s.default, DNDActionsManager: c.default, PluginsLoader: f.default, CodeMirrorField: u.default, AdminStyles: p.default, Header: h.default, SubHeader: g.default, PaperEditorLayout: e.PaperEditorLayout, PaperEditorNavEntry: e.PaperEditorNavEntry, PaperEditorNavHeader: e.PaperEditorNavHeader, QuickLinks: m.default, RecentLogs: y.default, SoftwareUpdate: v.default, FakeGraph: b.default, ReloadWrapper: d.default }
    }, { "./board/AdminDashboard": 1, "./board/GridDashboard": 3, "./board/SimpleDashboard": 4, "./cards/FakeGraph": 5, "./cards/QuickLinks": 6, "./cards/RecentLogs": 7, "./cards/SoftwareUpdate": 8, "./styles/AdminStyles": 10, "./styles/Header": 11, "./styles/PaperEditor": 12, "./styles/SubHeader": 13, "./util/CodeMirrorField": 14, "./util/DNDActionsManager": 15, "./util/MenuItemListener": 16, "./util/Mixins": 17, "./util/NavigationHelper": 18, "./util/PluginsLoader": 19, "./util/ReloadWrapper": 20 }],
    10: [function(e, t, n) {
        "use strict";
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = function() {
            var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {};
            return {
                props: { leftNav: { zDepth: 0, rounded: !1 }, header: { flatButton: { backgroundColor: e.primary1Color, hoverColor: e.accent2Color, labelStyle: { color: "white" }, style: { height: 34, lineHeight: "34px", borderRadius: 4 } }, flatButtonDisabled: { backgroundColor: "#e0e0e0", labelStyle: { color: "white" }, style: { height: 34, lineHeight: "34px", borderRadius: 4 } }, iconButton: { iconStyle: { color: e.primary1Color } } } },
                menu: {
                    header: { container: { backgroundColor: "rgb(50, 74, 87)", display: "flex", alignItems: "center", height: 64, width: 256, boxShadow: "rgba(0, 0, 0, 0.2) 0px 1px 2px", position: "fixed", zIndex: 100 }, title: { fontSize: 18, fontWeight: 500, color: "white", flex: 1, paddingLeft: 24 }, userWidget: { height: 56, lineHeight: "16px", backgroundColor: "transparent", boxShadow: "none", display: "flex", alignItems: "center", width: "auto", marginRight: 10, zoom: .8 } },
                    leftNav: { backgroundColor: "#1F3B4A", position: "fixed", width: 256, top: 0, bottom: 0, zIndex: 9, overflow: "hidden" },
                    listStyle: { backgroundColor: "transparent", display: "block", maxWidth: 256, overflowY: "auto", position: "absolute", top: 64, bottom: 0 },
                    menuItem: { fontSize: 13, padding: "3px 0px", color: "rgba(255,255,255,0.73)" },
                    menuLabel: function(r) {
                        for (var e = 1; e < arguments.length; e++) {
                            var i = null != arguments[e] ? arguments[e] : {};
                            e % 2 ? o(Object(i), !0).forEach(function(e) {
                                var t, n;
                                t = r, e = i[n = e], n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e
                            }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(i)) : o(Object(i)).forEach(function(e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(i, e)) })
                        }
                        return r
                    }({ opacity: .9 }, a),
                    flag: { display: "inline", backgroundColor: e.accent1Color, color: "white", height: 22, borderRadius: 10, padding: "0 5px", marginLeft: 5 },
                    subHeader: { fontSize: 12, color: "rgba(255,255,255,0.25)" },
                    iconStyle: { height: 20, width: 20, top: 0, fontSize: 20, transition: "none", color: "inherit" }
                },
                body: { mainPanel: { position: "absolute", top: 0, left: 256, right: 0, bottom: 0, backgroundColor: "#eceff1" }, block: { container: { border: "1px solid rgba(30, 58, 74, 0.14)", borderRadius: 6, margin: 16, overflow: "hidden" }, header: { backgroundColor: "#fbfbfc", color: "#607D8B" }, headerFull: { backgroundColor: "#fbfbfc", color: "#607D8B", fontSize: 12, fontWeight: 500, borderBottom: "1px solid #eceff1", height: 48, lineHeight: "48px", padding: "0 16px" }, props: { zDepth: 0, style: { border: "1px solid rgba(30, 58, 74, 0.14)", borderRadius: 6, margin: 16, overflow: "hidden" } } }, legend: { color: "rgba(31, 58, 74, 0.74)", fontStyle: "italic" }, lineColor: "#eceff1", tableMaster: { row: { borderBottomColor: "#eceff1" }, head: { backgroundColor: "#fbfbfc", color: "#607D8B" }, expanderRow: { backgroundColor: "#e0e0e0", fontWeight: 500, borderLeft: "2px solid #1e96f3" }, expandedRow: { borderLeft: "2px solid #1e96f3" } } },
                formCss: s,
                formCssForceGroup: u,
                formSimpleCss: d
            }
        };
        var r, i = (r = e("react")) && r.__esModule ? r : { default: r };

        function o(t, e) { var n, r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function(e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r }
        var a = { whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis" },
            l = "\n.react-mui-context .main-layout-nav-to-stack .pydio-form-panel.row-flex .pydio-form-group {\n    box-shadow: none !important;\n    border-radius: 6px !important;\n    border: 1px solid rgba(30, 58, 74, 0.14);\n}\n\n.react-mui-context .pydio-form-panel>.pydio-form-group .pydio-form-group {\n    border-width: 0 !important;\n}\n\n.react-mui-context .pydio-form-panel.row-flex>.pydio-form-group>h3 {\n    background-color:#fbfbfc;\n    color:#607D8B;\n    border-bottom: 1px solid #eceff1;\n}\n";

        function s() { return i.default.createElement("style", { type: "text/css", dangerouslySetInnerHTML: { __html: l } }) }
        var c = "\n.react-mui-context .app-canvas .pydio-form-group {\n    width: 100% !important;\n    margin: 16px !important;\n    margin-top: 0 !important;\n}\n";

        function u() { return i.default.createElement("style", { type: "text/css", dangerouslySetInnerHTML: { __html: c } }) }
        var f = "\n.react-mui-context .pydio-form-panel.form-panel-odd > .pydio-form-group {\n    background-color:white;\n    padding: 16px;  \n    border:1px solid rgba(30, 58, 74, 0.14);\n    border-radius:6px;                      \n}\n.react-mui-context .pydio-form-panel.form-panel-odd >.pydio-form-group > h1 {\n    background-color:#fbfbfc;\n    color:#607D8B;\n    border-bottom: 1px solid #eceff1;\n    font-size: 13px;\n    font-weight: 500;\n    margin: -16px -16px 8px;\n    letter-spacing: initial;\n    padding: 12px 20px;}\n\n";

        function d() { return i.default.createElement("style", { type: "text/css", dangerouslySetInnerHTML: { __html: f } }) }
        t.exports = n.default
    }, { react: "react" }],
    11: [function(e, t, n) {
        "use strict";

        function i(e) { return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) { return typeof e } : function(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = void 0;
        var o = e("react"),
            y = e("material-ui"),
            r = e("material-ui/styles"),
            v = a(e("pydio/util/dom")),
            b = a(e("./AdminStyles")),
            w = e("../board/AdminDashboard");

        function a(e) { return e && e.__esModule ? e : { default: e } }

        function x() { return (x = Object.assign || function(e) { for (var t = 1; t < arguments.length; t++) { var n, r = arguments[t]; for (n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) }

        function l(t, e) { var n, r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function(e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r }

        function C(r) {
            for (var e = 1; e < arguments.length; e++) {
                var i = null != arguments[e] ? arguments[e] : {};
                e % 2 ? l(Object(i), !0).forEach(function(e) {
                    var t, n;
                    t = r, e = i[n = e], n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(i)) : l(Object(i)).forEach(function(e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(i, e)) })
            }
            return r
        }

        function s(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }

        function c(e, t) { return (c = Object.setPrototypeOf || function(e, t) { return e.__proto__ = t, e })(e, t) }

        function u(n) { var r = function() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0 } catch (e) { return !1 } }(); return function() { var e, t = f(n); return e = r ? (e = f(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), t = this, !(e = e) || "object" !== i(e) && "function" != typeof e ? function(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(t) : e } }

        function f(e) { return (f = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }
        e = function() {
            ! function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && c(e, t)
            }(i, o.Component);
            var e, t, n, r = u(i);

            function i() { return function(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, i), r.apply(this, arguments) }
            return e = i, (t = [{
                key: "render",
                value: function() {
                    var e, t, n = this.props,
                        r = n.reloadAction,
                        i = n.loading,
                        o = n.backButtonAction,
                        a = n.scrolling,
                        l = n.title,
                        s = n.centerContent,
                        c = n.actions,
                        u = n.tabs,
                        f = n.tabValue,
                        d = n.onTabChange,
                        p = n.muiTheme,
                        h = n.editorMode,
                        n = (0, b.default)(p.palette),
                        g = w.LeftToggleListener.getInstance(),
                        m = { base: { padding: g.isActive() ? "0 16px 0 0" : "0 16px", backgroundColor: "#ffffff", boxShadow: "rgba(0, 0, 0, 0.1) 0px 1px 2px", zIndex: 10, marginLeft: g.isActive() && g.isOpen() ? 256 : 0 }, container: { display: "flex", width: "100%", paddingLeft: 12, height: 64, alignItems: "center" }, title: { fontSize: 18, whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis" }, legend: {}, icon: { color: "rgba(0,0,0,0.24)", marginRight: 6 }, refresh: { display: "inline-block", position: "relative", marginRight: 9, marginLeft: 9 }, tabs: { tab: { fontSize: 15, marginBottom: 0, paddingBottom: 13, paddingLeft: 20, paddingRight: 20, textTransform: "uppercase", fontWeight: 500, cursor: "pointer", whiteSpace: "nowrap", color: "rgba(0, 0, 0, 0.73)", transition: v.default.getBeziersTransition(), borderBottom: "2px solid transparent" }, tabIcon: { fontSize: 14, color: "inherit", marginRight: 5 }, tabActive: { borderBottom: "2px solid " + p.palette.primary2Color, color: p.palette.primary2Color } } };
                    m.scrolling = C(C({}, m.base), {}, { backgroundColor: "rgba(236,239,241,0.8)", borderBottom: 0, position: "absolute", zIndex: 8, left: 0, right: 0 }), h && (m.base = C(C({}, m.base), {}, { backgroundColor: p.palette.primary1Color, borderBottom: 0, borderRadius: "2px 2px 0 0 " }), m.title = C(C({}, m.title), {}, { color: "white" }), m.container = C(C({}, m.container), {}, { height: 48 }), m.scrolling = C(C(C({}, m.base), m.scrolling), {}, { backgroundColor: p.palette.primary1Color })), g.isActive() ? e = React.createElement(y.IconButton, { iconClassName: g.isOpen() ? "mdi mdi-backburger" : "mdi mdi-menu", iconStyle: m.icon, onClick: function() { return g.toggle() } }) : this.props.icon ? e = React.createElement(y.FontIcon, { className: this.props.icon, style: m.icon }) : o && (e = React.createElement(y.IconButton, { style: { marginLeft: -18 }, iconClassName: "mdi mdi-chevron-left", onClick: o })), r && (t = React.createElement(y.IconButton, x({ iconClassName: "mdi mdi-reload", onClick: r }, n.props.header.iconButton)));
                    l = React.createElement("h3", { style: m.title }, l);
                    u && (l = React.createElement("div", { style: { display: "flex" } }, u.map(function(e) {
                        var t = m.tabs.tab;
                        e.Value === f && (t = C(C({}, t), m.tabs.tabActive));
                        var n = e.Icon ? React.createElement(y.FontIcon, { className: e.Icon, style: m.tabs.tabIcon }) : null;
                        return React.createElement("h3", { style: t, onClick: function() { return d(e.Value) } }, n, e.Label)
                    })));
                    u = c;
                    u ? u.map || (u = [u]) : u = [];
                    c = C(C({}, c = a ? m.scrolling : m.base), this.props.style);
                    return React.createElement(y.Paper, { style: c, zDepth: a ? 1 : 0 }, React.createElement("div", { style: m.container }, e, l, React.createElement("div", { style: { flex: 1, marginRight: s ? 8 : 0 } }, s), React.createElement("div", { style: { display: "flex", alignItems: "center", marginTop: -2 } }, u.map(function(e) { return React.createElement("div", { style: { margin: "0 4px" } }, e) }), !i && t, i && React.createElement(y.RefreshIndicator, { size: 30, left: 0, top: 0, status: "loading", style: m.refresh }))))
                }
            }]) && s(e.prototype, t), n && s(e, n), i
        }();
        n.default = e, n.default = e = (0, r.muiThemeable)()(e), t.exports = n.default
    }, { "../board/AdminDashboard": 1, "./AdminStyles": 10, "material-ui": "material-ui", "material-ui/styles": "material-ui/styles", "pydio/util/dom": "pydio/util/dom", react: "react" }],
    12: [function(e, t, n) {
        "use strict";

        function i(e) { return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) { return typeof e } : function(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }
        Object.defineProperty(n, "__esModule", { value: !0 }), n.PaperEditorNavHeader = n.PaperEditorNavEntry = n.PaperEditorLayout = void 0;
        var g = a(e("pydio")),
            m = a(e("react")),
            r = a(e("prop-types")),
            y = e("material-ui"),
            o = e("material-ui/styles"),
            v = a(e("./AdminStyles"));

        function a(e) { return e && e.__esModule ? e : { default: e } }

        function l(t, e) { var n, r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function(e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r }

        function b(r) {
            for (var e = 1; e < arguments.length; e++) {
                var i = null != arguments[e] ? arguments[e] : {};
                e % 2 ? l(Object(i), !0).forEach(function(e) {
                    var t, n;
                    t = r, e = i[n = e], n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(i)) : l(Object(i)).forEach(function(e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(i, e)) })
            }
            return r
        }

        function s(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }

        function u(e, t, n) { return t && c(e.prototype, t), n && c(e, n), e }

        function f(e, t) {
            if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && d(e, t)
        }

        function d(e, t) { return (d = Object.setPrototypeOf || function(e, t) { return e.__proto__ = t, e })(e, t) }

        function p(n) { var r = function() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0 } catch (e) { return !1 } }(); return function() { var e, t = h(n); return e = r ? (e = h(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), t = this, !(e = e) || "object" !== i(e) && "function" != typeof e ? function(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(t) : e } }

        function h(e) { return (h = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }
        e = function() {
            f(n, m["default"].Component);
            var t = p(n);

            function n(e) { return s(this, n), (e = t.call(this, e)).state = { forceLeftOpen: !1 }, e }
            return u(n, [{
                key: "toggleMenu",
                value: function() {
                    var e = this.state && this.state.forceLeftOpen;
                    this.setState({ forceLeftOpen: !e })
                }
            }, {
                key: "render",
                value: function() {
                    var e, t = this.props,
                        n = t.muiTheme,
                        r = t.closeAction,
                        i = t.className,
                        o = t.title,
                        a = t.titleLeftIcon,
                        l = t.titleActionBar,
                        s = t.rightPanelStyle,
                        c = t.leftNavItems,
                        u = t.leftNavSelected,
                        f = t.leftNavChange,
                        d = t.contentFill,
                        p = t.children,
                        t = this.state.forceLeftOpen,
                        h = (0, v.default)(n.palette),
                        s = { title: { backgroundColor: "white", borderRadius: "4px 4px 0 0", display: "flex", alignItems: "center", height: 64, padding: "0 20px", zIndex: 12, boxShadow: "rgba(0, 0, 0, 0.1) 0px 1px 2px" }, titleH2: { color: "", flex: 1, fontSize: 18, padding: 0, margin: 0, whiteSpace: "nowrap", overflow: "hidden", textOverflow: "ellipsis", borderRadius: "4px 4px 0 0" }, titleLeftIcon: { color: "rgba(0, 0, 0, 0.24)", fontSize: 24, marginRight: 6 }, titleBar: { display: "flex", alignItems: "center" }, leftPanelStyle: { backgroundColor: h.menu.leftNav.backgroundColor, width: 200 }, rightPanelStyle: b({ backgroundColor: h.body.mainPanel.backgroundColor, overflowY: d ? null : "auto" }, s) };
                    return r && (e = m.default.createElement(y.IconButton, { tooltip: g.default.getMessages()[86], iconClassName: "mdi mdi-close", onClick: r, iconStyle: { color: n.palette.primary1Color } })), m.default.createElement("div", { className: "paper-editor-content layout-fill vertical-layout" + (i ? " " + i : "") }, m.default.createElement("div", { className: "paper-editor-title", style: s.title }, a && m.default.createElement("span", { style: s.titleLeftIcon, className: a + " hide-720" }), c && m.default.createElement(y.IconMenu, { onChange: function(e, t) { return f(t) }, iconButtonElement: m.default.createElement(y.IconButton, { iconClassName: "mdi mdi-menu", iconStyle: s.titleLeftIcon, className: "show-720" }) }, c.map(function(e) { return e.subHeader ? m.default.createElement(y.Subheader, null, e.subHeader) : m.default.createElement(y.MenuItem, { value: e.value, primaryText: e.label }) })), m.default.createElement("div", { style: s.titleH2 }, o), m.default.createElement("div", { style: s.titleBar }, l), e), m.default.createElement("div", { className: "layout-fill main-layout-nav-to-stack" }, c && m.default.createElement("div", { className: "paper-editor-left" + (t ? " picker-open" : ""), style: s.leftPanelStyle, onClick: this.toggleMenu.bind(this) }, m.default.createElement(y.Menu, { value: u, onChange: function(e, t) { return f(t) }, listStyle: h.menu.listStyle, autoWidth: !1, disableAutoFocus: !0, width: 200 }, c.map(function(e) { if (e.subHeader) return m.default.createElement(y.Subheader, { style: h.menu.subHeader }, e.subHeader); var t = e.label; return e.icon && (t = m.default.createElement("span", { style: { display: "flex", alignItems: "center" } }, m.default.createElement("span", { style: { fontSize: 20, marginRight: 16 }, className: e.icon }), " ", e.label)), m.default.createElement(y.MenuItem, { style: h.menu.menuItem, value: e.value, primaryText: t }) }))), m.default.createElement("div", { className: "layout-fill paper-editor-right" + (d ? " vertical-layout" : ""), style: s.rightPanelStyle }, p)))
                }
            }]), n
        }();
        (n.PaperEditorLayout = e).propTypes = { title: r.default.any, titleActionBar: r.default.any, closeAction: r.default.func, leftNav: r.default.any, contentFill: r.default.bool, className: r.default.string }, n.PaperEditorLayout = e = (0, o.muiThemeable)()(e);
        var w = function() {
                f(t, m["default"].Component);
                var e = p(t);

                function t() { return s(this, t), e.apply(this, arguments) }
                return u(t, [{
                    key: "render",
                    value: function() {
                        var e = this.props,
                            t = e.label,
                            n = e.icon,
                            r = e.action,
                            i = e.disabled,
                            e = e.muiTheme;
                        return m.default.createElement(y.IconButton, { tooltip: t, iconClassName: n, disabled: i, onClick: r, iconStyle: { color: e.palette.primary1Color, opacity: i ? ".3" : "1" } })
                    }
                }]), t
            }(),
            w = (0, o.muiThemeable)()(w);
        e.actionButton = function(e, t, n) { var r = 3 < arguments.length && void 0 !== arguments[3] && arguments[3]; return m.default.createElement(w, { label: e, icon: t, action: n, disabled: r }) };
        e = function() {
            f(t, m["default"].Component);
            var e = p(t);

            function t() { return s(this, t), e.apply(this, arguments) }
            return u(t, [{
                key: "render",
                value: function() {
                    var e = this.props,
                        t = e.muiTheme,
                        n = e.children,
                        e = e.label,
                        t = (0, v.default)(t.palette);
                    return m.default.createElement(y.Subheader, { style: t.menu.subHeader }, n, e)
                }
            }]), t
        }();
        n.PaperEditorNavHeader = e, n.PaperEditorNavHeader = e = (0, o.muiThemeable)()(e);
        e = function() {
            f(t, m["default"].Component);
            var e = p(t);

            function t() { return s(this, t), e.apply(this, arguments) }
            return u(t, [{
                key: "render",
                value: function() {
                    var e = this.props,
                        t = e.label,
                        n = (e.children, e.keyName),
                        e = (e.selectedKey, e.isLast, e.onClick, (0, v.default)(this.props.muiTheme.palette));
                    return m.default.createElement(y.MenuItem, { style: e.menu.menuItem, value: n, primaryText: t })
                }
            }]), t
        }();
        n.PaperEditorNavEntry = e, n.PaperEditorNavEntry = e = (0, o.muiThemeable)()(e)
    }, { "./AdminStyles": 10, "material-ui": "material-ui", "material-ui/styles": "material-ui/styles", "prop-types": "prop-types", pydio: "pydio", react: "react" }],
    13: [function(e, t, n) {
        "use strict";

        function i(e) { return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) { return typeof e } : function(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = void 0;
        var o = e("react"),
            a = e("material-ui"),
            r = e("material-ui/styles");

        function l(t, e) { var n, r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function(e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r }

        function s(r) {
            for (var e = 1; e < arguments.length; e++) {
                var i = null != arguments[e] ? arguments[e] : {};
                e % 2 ? l(Object(i), !0).forEach(function(e) {
                    var t, n;
                    t = r, e = i[n = e], n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(i)) : l(Object(i)).forEach(function(e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(i, e)) })
            }
            return r
        }

        function c(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }

        function u(e, t) { return (u = Object.setPrototypeOf || function(e, t) { return e.__proto__ = t, e })(e, t) }

        function f(n) { var r = function() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0 } catch (e) { return !1 } }(); return function() { var e, t = d(n); return e = r ? (e = d(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), t = this, !(e = e) || "object" !== i(e) && "function" != typeof e ? function(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(t) : e } }

        function d(e) { return (d = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }
        e = function() {
            ! function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && u(e, t)
            }(i, o.Component);
            var e, t, n, r = f(i);

            function i() { return function(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, i), r.apply(this, arguments) }
            return e = i, (t = [{
                key: "render",
                value: function() {
                    var e = this.props,
                        t = e.title,
                        n = e.legend,
                        r = e.muiTheme,
                        i = e.titleStyle,
                        e = e.legendStyle,
                        r = s({ textTransform: "uppercase", fontSize: 12, color: r.palette.accent2Color, paddingLeft: 20, paddingRight: 20 }, i),
                        i = s({ padding: "0 20px" }, e);
                    return t || (i = s({ padding: "20px 20px 0" }, e)), React.createElement("div", null, t && React.createElement(a.Subheader, { style: r }, t), n && React.createElement("div", { style: i }, n))
                }
            }]) && c(e.prototype, t), n && c(e, n), i
        }();
        n.default = e, n.default = e = (0, r.muiThemeable)()(e), t.exports = n.default
    }, { "material-ui": "material-ui", "material-ui/styles": "material-ui/styles", react: "react" }],
    14: [function(e, t, n) {
        "use strict";

        function a(e) { return (a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) { return typeof e } : function(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = void 0;
        var r, o = function(e, t) {
                if (!t && e && e.__esModule) return e;
                if (null === e || "object" !== a(e) && "function" != typeof e) return { default: e };
                t = s(t);
                if (t && t.has(e)) return t.get(e);
                var n, r = {},
                    i = Object.defineProperty && Object.getOwnPropertyDescriptor;
                for (n in e) { var o; "default" !== n && Object.prototype.hasOwnProperty.call(e, n) && ((o = i ? Object.getOwnPropertyDescriptor(e, n) : null) && (o.get || o.set) ? Object.defineProperty(r, n, o) : r[n] = e[n]) }
                r.default = e, t && t.set(e, r);
                return r
            }(e("react")),
            l = (r = e("react-codemirror")) && r.__esModule ? r : { default: r };

        function s(e) {
            if ("function" != typeof WeakMap) return null;
            var t = new WeakMap,
                n = new WeakMap;
            return (s = function(e) { return e ? n : t })(e)
        }

        function c(t, e) { var n, r = Object.keys(t); return Object.getOwnPropertySymbols && (n = Object.getOwnPropertySymbols(t), e && (n = n.filter(function(e) { return Object.getOwnPropertyDescriptor(t, e).enumerable })), r.push.apply(r, n)), r }

        function u(r) {
            for (var e = 1; e < arguments.length; e++) {
                var i = null != arguments[e] ? arguments[e] : {};
                e % 2 ? c(Object(i), !0).forEach(function(e) {
                    var t, n;
                    t = r, e = i[n = e], n in t ? Object.defineProperty(t, n, { value: e, enumerable: !0, configurable: !0, writable: !0 }) : t[n] = e
                }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(i)) : c(Object(i)).forEach(function(e) { Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(i, e)) })
            }
            return r
        }

        function f(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }

        function d(e, t) { return (d = Object.setPrototypeOf || function(e, t) { return e.__proto__ = t, e })(e, t) }

        function p(n) { var r = function() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0 } catch (e) { return !1 } }(); return function() { var e, t = i(n); return e = r ? (e = i(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), t = this, !(e = e) || "object" !== a(e) && "function" != typeof e ? function(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(t) : e } }

        function i(e) { return (i = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }
        e("codemirror/mode/javascript/javascript"), e("codemirror/addon/hint/show-hint"), e("codemirror/addon/hint/javascript-hint");
        var h = function() {
            ! function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && d(e, t)
            }(i, o["default"].Component);
            var e, t, n, r = p(i);

            function i() { return function(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, i), r.apply(this, arguments) }
            return e = i, (t = [{
                key: "jsAutoComplete",
                value: function(e) {
                    var t = this.refs.CodeMirror.getCodeMirrorInstance(),
                        n = { globalScope: this.props.globalScope, disableKeywords: !0, completeSingle: !1, completeOnSingleClick: !1 };
                    t.showHint(e, t.hint.javascript, n)
                }
            }, { key: "handleChange", value: function(e) { this.props.onChange(null, e) } }, { key: "componentDidMount", value: function() { setTimeout(function() { window.dispatchEvent(new Event("resize")) }, 0) } }, {
                key: "componentDidUpdate",
                value: function(e) {
                    var t = e.value ? e.value.length : 0,
                        e = this.props.value ? this.props.value.length : 0;
                    50 < Math.abs(e - t) && setTimeout(function() { window.dispatchEvent(new Event("resize")) }, 0)
                }
            }, {
                key: "render",
                value: function() {
                    var e = this.props,
                        t = e.value,
                        n = e.editorOptions,
                        e = { lineNumbers: !0, tabSize: 2, readOnly: this.props.readOnly || !1 };
                    return "javascript" === this.props.mode ? e = u(u({}, e), {}, { mode: "text/javascript", extraKeys: { "Ctrl-Space": this.jsAutoComplete.bind(this) } }) : "json" === this.props.mode && (e = u(u({}, e), {}, { mode: "application/json" })), n && (e = u(u({}, e), n)), o.default.createElement(l.default, { key: this.props.key, ref: "CodeMirror", value: t, onChange: this.handleChange.bind(this), options: e })
                }
            }]) && f(e.prototype, t), n && f(e, n), i
        }();
        n.default = h, t.exports = n.default
    }, { "codemirror/addon/hint/javascript-hint": 21, "codemirror/addon/hint/show-hint": 22, "codemirror/mode/javascript/javascript": 24, react: "react", "react-codemirror": 27 }],
    15: [function(e, t, n) {
        "use strict";
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = void 0;
        var i = r(e("pydio/util/path")),
            o = r(e("pydio/util/lang")),
            a = r(e("pydio/http/api"));

        function r(e) { return e && e.__esModule ? e : { default: e } }

        function l(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }
        e = function() {
            function e() {! function(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e) }
            var t, n, r;
            return t = e, r = [{
                key: "canDropNodeOnNode",
                value: function(e, t) {
                    var n, r = e.getAjxpMime(),
                        t = t.getAjxpMime();
                    if ("role" === r && "PYDIO_GRP_/" === e.getMetadata().get("role_id")) throw new Error("Cannot drop this!");
                    if ("role" === r && "user_editable" === t && (n = !0), !(n = "user_editable" === r && "group" === t ? !0 : n)) throw new Error("Cannot drop this!")
                }
            }, {
                key: "dropNodeOnNode",
                value: function(t, n) {
                    var e = t.getAjxpMime(),
                        r = n.getAjxpMime();
                    "user_editable" === e && "group" === r && (i.default.getDirname(t.getPath()) !== n.getPath() ? (e = t.getMetadata().get("IdmUser"), (r = n.getMetadata().get("IdmUser")) || "/idm/users" !== n.getPath() ? e.GroupPath = o.default.trimRight(r.GroupPath, "/") + "/" + r.GroupLabel : e.GroupPath = "/", a.default.getRestClient().getIdmApi().updateIdmUser(e).then(function(e) { t.getParent() && t.getParent().reload(), n.reload() })) : alert("Please drop user in a different group!"))
                }
            }], (n = null) && l(t.prototype, n), r && l(t, r), e
        }();
        n.default = e, t.exports = n.default
    }, { "pydio/http/api": "pydio/http/api", "pydio/util/lang": "pydio/util/lang", "pydio/util/path": "pydio/util/path" }],
    16: [function(e, t, n) {
        "use strict";

        function i(e) { return (i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) { return typeof e } : function(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

        function o(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }

        function a(e, t) { return (a = Object.setPrototypeOf || function(e, t) { return e.__proto__ = t, e })(e, t) }

        function l(n) { var r = function() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0 } catch (e) { return !1 } }(); return function() { var e, t = s(n); return e = r ? (e = s(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), t = this, !(e = e) || "object" !== i(e) && "function" != typeof e ? function(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(t) : e } }

        function s(e) { return (s = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = void 0;
        var r = function() {
            ! function(e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && a(e, t)
            }(i, Observable);
            var e, t, n, r = l(i);

            function i() { return function(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, i), r.apply(this, arguments) }
            return e = i, n = [{ key: "getInstance", value: function() { return i.INSTANCE = !i.INSTANCE ? new i : i.INSTANCE } }], (t = null) && o(e.prototype, t), n && o(e, n), i
        }();
        n.default = r, t.exports = n.default
    }, {}],
    17: [function(e, t, n) {
        "use strict";
        Object.defineProperty(n, "__esModule", { value: !0 }), n.PydioProviderMixin = n.PydioConsumerMixin = n.MessagesProviderMixin = n.MessagesConsumerMixin = void 0;
        i(e("react"));
        var r = i(e("prop-types"));

        function i(e) { return e && e.__esModule ? e : { default: e } }
        e = { contextTypes: { messages: r.default.object, getMessage: r.default.func } };
        n.MessagesConsumerMixin = e;
        e = { childContextTypes: { messages: r.default.object, getMessage: r.default.func }, getChildContext: function() { var n = this.props.pydio.MessageHash; return { messages: n, getMessage: function(t) { var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : "ajxp_admin"; try { return n[e + (e ? "." : "") + t] || t } catch (e) { return t } } } } };
        n.MessagesProviderMixin = e;
        e = { contextTypes: { pydio: r.default.instanceOf(Pydio) } };
        n.PydioConsumerMixin = e;
        r = { childContextTypes: { pydio: r.default.instanceOf(Pydio) }, getChildContext: function() { return { pydio: this.props.pydio } } };
        n.PydioProviderMixin = r
    }, { "prop-types": "prop-types", react: "react" }],
    18: [function(e, t, n) {
        "use strict";
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = void 0;
        var r, l = (r = e("../styles/AdminStyles")) && r.__esModule ? r : { default: r };

        function i(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }
        var o = e("material-ui"),
            a = o.MenuItem,
            s = (o.Divider, o.Subheader),
            c = o.FontIcon;

        function u(e, t, n, r) { n = 2 < arguments.length && void 0 !== n ? n : null, r = 3 < arguments.length && void 0 !== r && r, e = (0, l.default)(e).menu, n = n || t.getLabel(), n = t.getMetadata().get("flag") ? React.createElement("div", { style: e.menuLabel }, t.getLabel(), " ", React.createElement("span", { style: e.flag }, t.getMetadata().get("flag")), " ") : React.createElement("div", { style: e.menuLabel }, n); return React.createElement(a, { style: e.menuItem, innerDivStyle: e.menuItemInner, value: t, primaryText: n, leftIcon: !r && React.createElement(c, { className: t.getMetadata().get("icon_class"), style: e.iconStyle }) }) }
        o = function() {
            function e() {! function(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, e) }
            var t, n, r;
            return t = e, r = [{
                key: "buildNavigationItems",
                value: function(e, t, n) {
                    var r = 3 < arguments.length && void 0 !== arguments[3] && arguments[3],
                        i = 4 < arguments.length && void 0 !== arguments[4] && arguments[4],
                        o = [],
                        a = (0, l.default)(n).menu;
                    return t.getMetadata().get("component") && o.push(u(n, t, e.MessageHash["ajxp_admin.menu.0"], i)), t.getChildren().forEach(function(e) { var t;!e.getChildren().size && e.getMetadata().get("component") ? o.push(u(n, e, null, i)) : (t = [], e.getChildren().forEach(function(e) {!e.getLabel() || !r && e.getMetadata().get("advanced") || t.push(u(n, e, null, i, e.getMetadata().get("advanced"))) }), t.length && (e.getLabel() && o.push(React.createElement(s, { style: a.subHeader }, e.getLabel())), o.push.apply(o, t))) }), o
                }
            }], (n = null) && i(t.prototype, n), r && i(t, r), e
        }();
        n.default = o, t.exports = n.default
    }, { "../styles/AdminStyles": 10, "material-ui": "material-ui" }],
    19: [function(e, t, n) {
        "use strict";
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = void 0;
        var a = r(e("pydio/http/api")),
            o = r(e("pydio/util/xml")),
            l = r(e("pydio/util/lang")),
            s = r(e("pydio")),
            c = e("cells-sdk");

        function r(e) { return e && e.__esModule ? e : { default: e } }

        function i(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }
        var u = s.default.requireLib("form").Manager,
            e = function() {
                function t(e) {! function(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, t), this.pydio = e, this.pLoad = null, this.plugins = null }
                var e, n, r;
                return e = t, r = [{ key: "getInstance", value: function(e) { return t.INSTANCE = !t.INSTANCE ? new t(e) : t.INSTANCE } }], (n = [{
                    key: "loadPlugins",
                    value: function() {
                        var i = this,
                            e = 0 < arguments.length && void 0 !== arguments[0] && arguments[0];
                        return this.plugins && !e ? Promise.resolve(this.plugins) : (null !== this.pLoad || (this.pLoad = new Promise(function(n, r) {
                            a.default.getRestClient().getOrUpdateJwt().then(function(e) {
                                var t = { Authorization: "Bearer " + e },
                                    e = "en";
                                i.pydio.user && i.pydio.user.getPreference("lang") && (e = i.pydio.user.getPreference("lang"));
                                e = i.pydio.Parameters.get("ENDPOINT_REST_API") + "/frontend/plugins/" + e;
                                s.default.startLoading(), window.fetch(e, { method: "GET", credentials: "same-origin", headers: t }).then(function(e) { s.default.endLoading(), i.loading = !1, e.text().then(function(e) { i.plugins = o.default.parseXml(e).documentElement, i.pLoad = null, n(i.plugins) }) }).catch(function(e) { s.default.endLoading(), i.pLoad = null, r(e) })
                            })
                        })), this.pLoad)
                    }
                }, {
                    key: "toggleEnabled",
                    value: function(e, t, n) {
                        var r = new c.ConfigServiceApi(a.default.getRestClient()),
                            i = "frontend/plugin/" + e.getAttribute("id");
                        r.getConfig(i).then(function(e) { return e.Data }).then(function() {
                            var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "{}",
                                e = JSON.parse(e) || {};
                            e.PYDIO_PLUGIN_ENABLED = t;
                            e = c.RestConfiguration.constructFromObject({ FullPath: i, Data: JSON.stringify(e) });
                            r.putConfig(e.FullPath, e).then(function() { n() })
                        })
                    }
                }, { key: "loadServiceConfigs", value: function(e) { return new c.ConfigServiceApi(a.default.getRestClient()).getConfig("services/" + e).then(function(e) { return e || {} }).then(function(e) { return e.Data && JSON.parse(e.Data) || {} }) } }, {
                    key: "saveServiceConfigs",
                    value: function(e, t) {
                        var n = new c.ConfigServiceApi(a.default.getRestClient()),
                            r = new c.RestConfiguration;
                        return r.FullPath = "services/" + e, r.Data = JSON.stringify(t), n.putConfig(r.FullPath, r)
                    }
                }, {
                    key: "loadPluginConfigs",
                    value: function(e) {
                        var r = new c.ConfigServiceApi(a.default.getRestClient()),
                            i = "frontend/plugin/" + e;
                        return new Promise(function(t, n) {
                            r.getConfig(i).then(function(e) { return e.Data }).then(function() {
                                var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "{}",
                                    e = JSON.parse(e) || {};
                                t(e)
                            }).catch(function(e) { n(e) })
                        })
                    }
                }, {
                    key: "savePluginConfigs",
                    value: function(e, n, r) {
                        var i = new c.ConfigServiceApi(a.default.getRestClient()),
                            o = "frontend/plugin/" + e;
                        i.getConfig(o).then(function(e) { return e.Data }).then(function() {
                            var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "{}",
                                e = JSON.parse(e) || {},
                                t = l.default.mergeObjectsRecursive(e, n),
                                e = c.RestConfiguration.constructFromObject({ FullPath: o, Data: JSON.stringify(t) });
                            i.putConfig(e.FullPath, e).then(function() { r(t) })
                        })
                    }
                }, {
                    key: "allPluginsActionsAndParameters",
                    value: function() {
                        return this.loadPlugins().then(function(e) {
                            var t = o.default.XPathSelectNodes(e, "//action"),
                                e = o.default.XPathSelectNodes(e, "//global_param|//param"),
                                n = {},
                                r = {};
                            return t.map(function(e) {
                                var t = e.parentNode.parentNode.parentNode.getAttribute("id");
                                n[t] || (n[t] = []), n[t].push({ action: e.getAttribute("name"), label: e.getAttribute("name"), xmlNode: e })
                            }), e.map(function(e) { var t; "server_settings" === e.parentNode.nodeName && (t = e.parentNode.parentNode.getAttribute("id"), r[t] || (r[t] = []), r[t].push({ parameter: e.getAttribute("name"), label: e.getAttribute("name"), xmlNode: e })) }), { ACTIONS: n, PARAMETERS: r }
                        })
                    }
                }, {
                    key: "formParameters",
                    value: function(t) {
                        var n = this;
                        return this.loadPlugins().then(function(e) {
                            return o.default.XPathSelectNodes(e, t).filter(function(e) { return "server_settings" === e.parentNode.nodeName }).map(function(e) {
                                var t = u.parameterNodeToHash(e),
                                    n = e.parentNode.parentNode.getAttribute("id");
                                return t.pluginId = n, t.aclKey = "parameter:" + n + ":" + e.getAttribute("name"), t
                            }.bind(n))
                        })
                    }
                }, { key: "loadSites", value: function() { var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "*"; return new c.ConfigServiceApi(a.default.getRestClient()).listSites(e) } }]) && i(e.prototype, n), r && i(e, r), t
            }();
        n.default = e, t.exports = n.default
    }, { "cells-sdk": "cells-sdk", pydio: "pydio", "pydio/http/api": "pydio/http/api", "pydio/util/lang": "pydio/util/lang", "pydio/util/xml": "pydio/util/xml" }],
    20: [function(e, t, n) {
        "use strict";

        function o(e) { return (o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) { return typeof e } : function(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

        function a() { return (a = Object.assign || function(e) { for (var t = 1; t < arguments.length; t++) { var n, r = arguments[t]; for (n in r) Object.prototype.hasOwnProperty.call(r, n) && (e[n] = r[n]) } return e }).apply(this, arguments) }

        function l(e, t) {
            for (var n = 0; n < t.length; n++) {
                var r = t[n];
                r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r)
            }
        }

        function s(e, t) { return (s = Object.setPrototypeOf || function(e, t) { return e.__proto__ = t, e })(e, t) }

        function c(e) { return (c = Object.setPrototypeOf ? Object.getPrototypeOf : function(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }
        Object.defineProperty(n, "__esModule", { value: !0 }), n.default = function(i) {
            var e = function() {
                ! function(e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && s(e, t)
                }(t, u);
                var n, r, e = (n = t, r = function() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {})), !0 } catch (e) { return !1 } }(), function() { var e, t = c(n); return e = r ? (e = c(this).constructor, Reflect.construct(t, arguments, e)) : t.apply(this, arguments), t = this, !(e = e) || "object" !== o(e) && "function" != typeof e ? function(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(t) : e });

                function t() { return function(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, t), e.apply(this, arguments) }
                return function(e, t, n) {
                    t && l(e.prototype, t);
                    n && l(e, n)
                }(t, [{
                    key: "componentDidMount",
                    value: function() {
                        var e = this;
                        this.props.interval && (this.interval = setInterval(function() { e.refs.component.triggerReload() }, 1e3 * this.props.interval))
                    }
                }, { key: "componentWillUnmount", value: function() { this.interval && clearInterval(this.interval) } }, { key: "render", value: function() { return React.createElement(i, a({}, this.props, { ref: "component" })) } }]), t
            }();
            return e.propTypes = { interval: r.number }, e.displayName = i.displayName || i.name, e
        };
        var r = e("prop-types"),
            u = e("react").Component;
        t.exports = n.default
    }, { "prop-types": "prop-types", react: "react" }],
    21: [function(e, t, n) {
        var r;
        r = function(c) {
            var u = c.Pos;

            function h(e, t) { for (var n = 0, r = e.length; n < r; ++n) t(e[n]) }

            function n(e, t, n, r) {
                var i = e.getCursor(),
                    o = n(e, i);
                if (!/\b(?:string|comment)\b/.test(o.type)) {
                    var a = c.innerMode(e.getMode(), o.state);
                    if ("json" !== a.mode.helperType) {
                        o.state = a.state, /^[\w$_]*$/.test(o.string) ? o.end > i.ch && (o.end = i.ch, o.string = o.string.slice(0, i.ch - o.start)) : o = { start: i.ch, end: i.ch, string: "", state: o.state, type: "." == o.string ? "property" : null };
                        for (var l = o;
                            "property" == l.type;) {
                            if ("." != (l = n(e, u(i.line, l.start))).string) return;
                            var l = n(e, u(i.line, l.start)),
                                s = s || [];
                            s.push(l)
                        }
                        return {
                            list: function(e, t, n, r) {
                                var i = [],
                                    o = e.string,
                                    a = r && r.globalScope || window;

                                function l(e) {
                                    0 != e.lastIndexOf(o, 0) || function(e, t) {
                                        if (Array.prototype.indexOf) return -1 != e.indexOf(t);
                                        for (var n = e.length; n--;)
                                            if (e[n] === t) return 1
                                    }(i, e) || i.push(e)
                                }

                                function s(e) {
                                    "string" == typeof e ? h(g, l) : e instanceof Array ? h(m, l) : e instanceof Function && h(y, l),
                                        function(e, t) {
                                            if (Object.getOwnPropertyNames && Object.getPrototypeOf)
                                                for (var n = e; n; n = Object.getPrototypeOf(n)) Object.getOwnPropertyNames(n).forEach(t);
                                            else
                                                for (var r in e) t(r)
                                        }(e, l)
                                }
                                if (t && t.length) {
                                    var c, u = t.pop();
                                    for (u.type && 0 === u.type.indexOf("variable") ? (r && r.additionalContext && (c = r.additionalContext[u.string]), r && !1 === r.useGlobalScope || (c = c || a[u.string])) : "string" == u.type ? c = "" : "atom" == u.type ? c = 1 : "function" == u.type && (null == a.jQuery || "$" != u.string && "jQuery" != u.string || "function" != typeof a.jQuery ? null != a._ && "_" == u.string && "function" == typeof a._ && (c = a._()) : c = a.jQuery()); null != c && t.length;) c = c[t.pop().string];
                                    null != c && s(c)
                                } else {
                                    for (var f = e.state.localVars; f; f = f.next) l(f.name);
                                    for (var d = e.state.context; d; d = d.prev)
                                        for (f = d.vars; f; f = f.next) l(f.name);
                                    for (f = e.state.globalVars; f; f = f.next) l(f.name);
                                    if (r && null != r.additionalContext)
                                        for (var p in r.additionalContext) l(p);
                                    r && !1 === r.useGlobalScope || s(a), h(n, l)
                                }
                                return i
                            }(o, s, t, r),
                            from: u(i.line, o.start),
                            to: u(i.line, o.end)
                        }
                    }
                }
            }

            function r(e, t) { e = e.getTokenAt(t); return t.ch == e.start + 1 && "." == e.string.charAt(0) ? (e.end = e.start, e.string = ".", e.type = "property") : /^\.[\w$_]*$/.test(e.string) && (e.type = "property", e.start++, e.string = e.string.replace(/\./, "")), e }
            c.registerHelper("hint", "javascript", function(e, t) { return n(e, i, function(e, t) { return e.getTokenAt(t) }, t) }), c.registerHelper("hint", "coffeescript", function(e, t) { return n(e, o, r, t) });
            var g = "charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),
                m = "length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),
                y = "prototype apply call bind".split(" "),
                i = "break case catch class const continue debugger default delete do else export extends false finally for function if in import instanceof new null return super switch this throw true try typeof var void while with yield".split(" "),
                o = "and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")
        }, "object" == typeof n && "object" == typeof t ? r(e("../../lib/codemirror")) : "function" == typeof define && define.amd ? define(["../../lib/codemirror"], r) : r(CodeMirror)
    }, { "../../lib/codemirror": 23 }],
    22: [function(e, t, n) {
        var r;
        r = function(P) {
            "use strict";
            var L = "CodeMirror-hint-active";

            function r(e, t) {
                var n;
                this.cm = e, this.options = t, this.widget = null, this.debounce = 0, this.tick = 0, this.startPos = this.cm.getCursor("start"), this.startLen = this.cm.getLine(this.startPos.line).length - this.cm.getSelection().length, this.options.updateOnCursorActivity && (n = this, e.on("cursorActivity", this.activityFunc = function() { n.cursorActivity() }))
            }
            P.showHint = function(e, t, n) {
                if (!t) return e.showHint(n);
                n && n.async && (t.async = !0);
                var r = { hint: t };
                if (n)
                    for (var i in n) r[i] = n[i];
                return e.showHint(r)
            }, P.defineExtension("showHint", function(e) {
                e = function(e, t, n) {
                    var r = e.options.hintOptions,
                        i = {};
                    for (o in a) i[o] = a[o];
                    if (r)
                        for (var o in r) void 0 !== r[o] && (i[o] = r[o]);
                    if (n)
                        for (var o in n) void 0 !== n[o] && (i[o] = n[o]);
                    i.hint.resolve && (i.hint = i.hint.resolve(e, t));
                    return i
                }(this, this.getCursor("start"), e);
                var t = this.listSelections();
                if (!(1 < t.length)) {
                    if (this.somethingSelected()) {
                        if (!e.hint.supportsSelection) return;
                        for (var n = 0; n < t.length; n++)
                            if (t[n].head.line != t[n].anchor.line) return
                    }
                    this.state.completionActive && this.state.completionActive.close();
                    e = this.state.completionActive = new r(this, e);
                    e.options.hint && (P.signal(this, "startCompletion", this), e.update(!0))
                }
            }), P.defineExtension("closeHint", function() { this.state.completionActive && this.state.completionActive.close() });
            var i = window.requestAnimationFrame || function(e) { return setTimeout(e, 1e3 / 60) },
                o = window.cancelAnimationFrame || clearTimeout;

            function T(e) { return "string" == typeof e ? e : e.text }

            function E(e, t) {
                for (; t && t != e;) {
                    if ("LI" === t.nodeName.toUpperCase() && t.parentNode == e) return t;
                    t = t.parentNode
                }
            }

            function n(i, e) {
                this.completion = i, this.data = e, this.picked = !1;
                var n = this,
                    o = i.cm,
                    a = o.getInputField().ownerDocument,
                    l = a.defaultView || a.parentWindow,
                    s = this.hints = a.createElement("ul"),
                    t = i.cm.options.theme;
                s.className = "CodeMirror-hints " + t, this.selectedHint = e.selectedHint || 0;
                for (var r = e.list, c = 0; c < r.length; ++c) {
                    var u = s.appendChild(a.createElement("li")),
                        f = r[c],
                        d = "CodeMirror-hint" + (c != this.selectedHint ? "" : " " + L);
                    null != f.className && (d = f.className + " " + d), u.className = d, f.render ? f.render(u, e, f) : u.appendChild(a.createTextNode(f.displayText || T(f))), u.hintId = c
                }
                var p = i.options.container || a.body,
                    h = o.cursorCoords(i.options.alignWithWord ? e.from : null),
                    g = h.left,
                    m = h.bottom,
                    y = !0,
                    v = 0,
                    b = 0;
                p !== a.body && (w = (S = -1 !== ["absolute", "relative", "fixed"].indexOf(l.getComputedStyle(p).position) ? p : p.offsetParent).getBoundingClientRect(), C = a.body.getBoundingClientRect(), v = w.left - C.left - S.scrollLeft, b = w.top - C.top - S.scrollTop), s.style.left = g - v + "px", s.style.top = m - b + "px";
                var t = l.innerWidth || Math.max(a.body.offsetWidth, a.documentElement.offsetWidth),
                    w = l.innerHeight || Math.max(a.body.offsetHeight, a.documentElement.offsetHeight);
                p.appendChild(s);
                var x, C = i.options.moveOnOverlap ? s.getBoundingClientRect() : new DOMRect,
                    S = !!i.options.paddingForScrollbar && s.scrollHeight > s.clientHeight + 1;
                setTimeout(function() { x = o.getScrollInfo() }), 0 < C.bottom - w && (p = C.bottom - C.top, 0 < h.top - (h.bottom - C.top) - p ? (s.style.top = (m = h.top - p - b) + "px", y = !1) : w < p && (s.style.height = w - 5 + "px", s.style.top = (m = h.bottom - C.top - b) + "px", k = o.getCursor(), e.from.ch != k.ch && (h = o.cursorCoords(k), s.style.left = (g = h.left - v) + "px", C = s.getBoundingClientRect())));
                var O, k = C.right - t;
                if (0 < k && (C.right - C.left > t && (s.style.width = t - 5 + "px", k -= C.right - C.left - t), s.style.left = (g = h.left - k - v) + "px"), S)
                    for (var M = s.firstChild; M; M = M.nextSibling) M.style.paddingRight = o.display.nativeBarWidth + "px";
                o.addKeyMap(this.keyMap = function(e, r) {
                    var i = { Up: function() { r.moveFocus(-1) }, Down: function() { r.moveFocus(1) }, PageUp: function() { r.moveFocus(1 - r.menuSize(), !0) }, PageDown: function() { r.moveFocus(r.menuSize() - 1, !0) }, Home: function() { r.setFocus(0) }, End: function() { r.setFocus(r.length - 1) }, Enter: r.pick, Tab: r.pick, Esc: r.close };
                    /Mac/.test(navigator.platform) && (i["Ctrl-P"] = function() { r.moveFocus(-1) }, i["Ctrl-N"] = function() { r.moveFocus(1) });
                    var t = e.options.customKeys,
                        o = t ? {} : i;

                    function n(e, t) {
                        var n = "string" != typeof t ? function(e) { return t(e, r) } : i.hasOwnProperty(t) ? i[t] : t;
                        o[e] = n
                    }
                    if (t)
                        for (var a in t) t.hasOwnProperty(a) && n(a, t[a]);
                    var l = e.options.extraKeys;
                    if (l)
                        for (var a in l) l.hasOwnProperty(a) && n(a, l[a]);
                    return o
                }(i, { moveFocus: function(e, t) { n.changeActive(n.selectedHint + e, t) }, setFocus: function(e) { n.changeActive(e) }, menuSize: function() { return n.screenAmount() }, length: r.length, close: function() { i.close() }, pick: function() { n.pick() }, data: e })), i.options.closeOnUnfocus && (o.on("blur", this.onBlur = function() { O = setTimeout(function() { i.close() }, 100) }), o.on("focus", this.onFocus = function() { clearTimeout(O) })), o.on("scroll", this.onScroll = function() {
                    var e = o.getScrollInfo(),
                        t = o.getWrapperElement().getBoundingClientRect(),
                        n = m + x.top - e.top,
                        r = n - (l.pageYOffset || (a.documentElement || a.body).scrollTop);
                    if (y || (r += s.offsetHeight), r <= t.top || r >= t.bottom) return i.close();
                    s.style.top = n + "px", s.style.left = g + x.left - e.left + "px"
                }), P.on(s, "dblclick", function(e) {
                    e = E(s, e.target || e.srcElement);
                    e && null != e.hintId && (n.changeActive(e.hintId), n.pick())
                }), P.on(s, "click", function(e) {
                    e = E(s, e.target || e.srcElement);
                    e && null != e.hintId && (n.changeActive(e.hintId), i.options.completeOnSingleClick && n.pick())
                }), P.on(s, "mousedown", function() { setTimeout(function() { o.focus() }, 20) });
                S = this.getSelectedHintRange();
                return 0 === S.from && 0 === S.to || this.scrollToActive(), P.signal(e, "select", r[this.selectedHint], s.childNodes[this.selectedHint]), !0
            }

            function l(e, t, n, r) { e.async ? e(t, r, n) : (n = e(t, n)) && n.then ? n.then(r) : r(n) }
            r.prototype = {
                close: function() { this.active() && (this.cm.state.completionActive = null, this.tick = null, this.options.updateOnCursorActivity && this.cm.off("cursorActivity", this.activityFunc), this.widget && this.data && P.signal(this.data, "close"), this.widget && this.widget.close(), P.signal(this.cm, "endCompletion", this.cm)) },
                active: function() { return this.cm.state.completionActive == this },
                pick: function(e, t) {
                    var n = e.list[t],
                        r = this;
                    this.cm.operation(function() { n.hint ? n.hint(r.cm, e, n) : r.cm.replaceRange(T(n), n.from || e.from, n.to || e.to, "complete"), P.signal(e, "pick", n), r.cm.scrollIntoView() }), this.options.closeOnPick && this.close()
                },
                cursorActivity: function() {
                    this.debounce && (o(this.debounce), this.debounce = 0);
                    var e = this.startPos;
                    this.data && (e = this.data.from);
                    var t, n = this.cm.getCursor(),
                        r = this.cm.getLine(n.line);
                    n.line != this.startPos.line || r.length - n.ch != this.startLen - this.startPos.ch || n.ch < e.ch || this.cm.somethingSelected() || !n.ch || this.options.closeCharacters.test(r.charAt(n.ch - 1)) ? this.close() : ((t = this).debounce = i(function() { t.update() }), this.widget && this.widget.disable())
                },
                update: function(t) {
                    var n, r;
                    null != this.tick && (r = ++(n = this).tick, l(this.options.hint, this.cm, this.options, function(e) { n.tick == r && n.finishUpdate(e, t) }))
                },
                finishUpdate: function(e, t) {
                    this.data && P.signal(this.data, "update");
                    t = this.widget && this.widget.picked || t && this.options.completeSingle;
                    this.widget && this.widget.close(), (this.data = e) && e.list.length && (t && 1 == e.list.length ? this.pick(e, 0) : (this.widget = new n(this, e), P.signal(e, "shown")))
                }
            }, n.prototype = {
                close: function() {
                    var e;
                    this.completion.widget == this && (this.completion.widget = null, this.hints.parentNode.removeChild(this.hints), this.completion.cm.removeKeyMap(this.keyMap), e = this.completion.cm, this.completion.options.closeOnUnfocus && (e.off("blur", this.onBlur), e.off("focus", this.onFocus)), e.off("scroll", this.onScroll))
                },
                disable: function() {
                    this.completion.cm.removeKeyMap(this.keyMap);
                    var e = this;
                    this.keyMap = { Enter: function() { e.picked = !0 } }, this.completion.cm.addKeyMap(this.keyMap)
                },
                pick: function() { this.completion.pick(this.data, this.selectedHint) },
                changeActive: function(e, t) { e >= this.data.list.length ? e = t ? this.data.list.length - 1 : 0 : e < 0 && (e = t ? 0 : this.data.list.length - 1), this.selectedHint != e && ((t = this.hints.childNodes[this.selectedHint]) && (t.className = t.className.replace(" " + L, "")), (t = this.hints.childNodes[this.selectedHint = e]).className += " " + L, this.scrollToActive(), P.signal(this.data, "select", this.data.list[this.selectedHint], t)) },
                scrollToActive: function() {
                    var e = this.getSelectedHintRange(),
                        t = this.hints.childNodes[e.from],
                        n = this.hints.childNodes[e.to],
                        e = this.hints.firstChild;
                    t.offsetTop < this.hints.scrollTop ? this.hints.scrollTop = t.offsetTop - e.offsetTop : n.offsetTop + n.offsetHeight > this.hints.scrollTop + this.hints.clientHeight && (this.hints.scrollTop = n.offsetTop + n.offsetHeight - this.hints.clientHeight + e.offsetTop)
                },
                screenAmount: function() { return Math.floor(this.hints.clientHeight / this.hints.firstChild.offsetHeight) || 1 },
                getSelectedHintRange: function() { var e = this.completion.options.scrollMargin || 0; return { from: Math.max(0, this.selectedHint - e), to: Math.min(this.data.list.length - 1, this.selectedHint + e) } }
            }, P.registerHelper("hint", "auto", {
                resolve: function(e, t) {
                    var n, a = e.getHelpers(t, "hint");
                    if (a.length) {
                        t = function(e, r, i) {
                            var o = function(e, t) { if (!e.somethingSelected()) return t; for (var n = [], r = 0; r < t.length; r++) t[r].supportsSelection && n.push(t[r]); return n }(e, a);
                            ! function t(n) {
                                if (n == o.length) return r(null);
                                l(o[n], e, i, function(e) { e && 0 < e.list.length ? r(e) : t(n + 1) })
                            }(0)
                        };
                        return t.async = !0, t.supportsSelection = !0, t
                    }
                    return (n = e.getHelper(e.getCursor(), "hintWords")) ? function(e) { return P.hint.fromList(e, { words: n }) } : P.hint.anyword ? function(e, t) { return P.hint.anyword(e, t) } : function() {}
                }
            }), P.registerHelper("hint", "fromList", function(e, t) {
                var n, r = e.getCursor(),
                    i = e.getTokenAt(r),
                    o = P.Pos(r.line, i.start),
                    e = r;
                i.start < r.ch && /\w/.test(i.string.charAt(r.ch - i.start - 1)) ? n = i.string.substr(0, r.ch - i.start) : (n = "", o = r);
                for (var a = [], l = 0; l < t.words.length; l++) {
                    var s = t.words[l];
                    s.slice(0, n.length) == n && a.push(s)
                }
                if (a.length) return { list: a, from: o, to: e }
            }), P.commands.autocomplete = P.showHint;
            var a = { hint: P.hint.auto, completeSingle: !0, alignWithWord: !0, closeCharacters: /[\s()\[\]{};:>,]/, closeOnPick: !0, closeOnUnfocus: !0, updateOnCursorActivity: !0, completeOnSingleClick: !0, container: null, customKeys: null, extraKeys: null, paddingForScrollbar: !0, moveOnOverlap: !0 };
            P.defineOption("hintOptions", null)
        }, "object" == typeof n && "object" == typeof t ? r(e("../../lib/codemirror")) : "function" == typeof define && define.amd ? define(["../../lib/codemirror"], r) : r(CodeMirror)
    }, { "../../lib/codemirror": 23 }],
    23: [function(e, t, n) {
        var r, i;
        r = this, i = function() {
            "use strict";
            var e = navigator.userAgent,
                t = navigator.platform,
                d = /gecko\/\d/i.test(e),
                n = /MSIE \d/.test(e),
                r = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),
                i = /Edge\/(\d+)/.exec(e),
                w = n || r || i,
                y = w && (n ? document.documentMode || 6 : +(i || r)[1]),
                p = !i && /WebKit\//.test(e),
                r = p && /Qt\/\d+\.\d+/.test(e),
                o = !i && /Chrome\//.test(e),
                h = /Opera\//.test(e),
                u = /Apple Computer/.test(navigator.vendor),
                a = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),
                c = /PhantomJS/.test(e),
                l = u && (/Mobile\/\w+/.test(e) || 2 < navigator.maxTouchPoints),
                s = /Android/.test(e),
                f = l || s || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),
                g = l || /Mac/.test(t),
                m = /\bCrOS\b/.test(e),
                v = /win/i.test(t),
                e = h && e.match(/Version\/(\d*\.\d*)/);
            (e = e && Number(e[1])) && 15 <= e && (p = !(h = !1));
            var b = g && (r || h && (null == e || e < 12.11)),
                x = d || w && 9 <= y;

            function C(e) { return new RegExp("(^|\\s)" + e + "(?:$|\\s)\\s*") }
            var S = function(e, t) {
                var n = e.className,
                    r = C(t).exec(n);
                r && (t = n.slice(r.index + r[0].length), e.className = n.slice(0, r.index) + (t ? r[1] + t : ""))
            };

            function O(e) { for (var t = e.childNodes.length; 0 < t; --t) e.removeChild(e.firstChild); return e }

            function k(e, t) { return O(e).appendChild(t) }

            function P(e, t, n, r) {
                var i = document.createElement(e);
                if (n && (i.className = n), r && (i.style.cssText = r), "string" == typeof t) i.appendChild(document.createTextNode(t));
                else if (t)
                    for (var o = 0; o < t.length; ++o) i.appendChild(t[o]);
                return i
            }

            function M(e, t, n, r) { r = P(e, t, n, r); return r.setAttribute("role", "presentation"), r }

            function L(e, t) {
                if (3 == t.nodeType && (t = t.parentNode), e.contains) return e.contains(t);
                do { if ((t = 11 == t.nodeType ? t.host : t) == e) return !0 } while (t = t.parentNode)
            }

            function T() { var t; try { t = document.activeElement } catch (e) { t = document.body || null } for (; t && t.shadowRoot && t.shadowRoot.activeElement;) t = t.shadowRoot.activeElement; return t }

            function E(e, t) {
                var n = e.className;
                C(t).test(n) || (e.className += (n ? " " : "") + t)
            }

            function N(e, t) { for (var n = e.split(" "), r = 0; r < n.length; r++) n[r] && !C(n[r]).test(t) && (t += " " + n[r]); return t }
            var j = document.createRange ? function(e, t, n, r) { var i = document.createRange(); return i.setEnd(r || e, n), i.setStart(e, t), i } : function(e, t, n) { var r = document.body.createTextRange(); try { r.moveToElementText(e.parentNode) } catch (e) { return r } return r.collapse(!0), r.moveEnd("character", n), r.moveStart("character", t), r },
                A = function(e) { e.select() };

            function _(e) { var t = Array.prototype.slice.call(arguments, 1); return function() { return e.apply(null, t) } }

            function R(e, t, n) { for (var r in t = t || {}, e) !e.hasOwnProperty(r) || !1 === n && t.hasOwnProperty(r) || (t[r] = e[r]); return t }

            function D(e, t, n, r, i) {
                null == t && -1 == (t = e.search(/[^\s\u00a0]/)) && (t = e.length);
                for (var o = r || 0, a = i || 0;;) {
                    var l = e.indexOf("\t", o);
                    if (l < 0 || t <= l) return a + (t - o);
                    a += l - o, a += n - a % n, o = l + 1
                }
            }
            l ? A = function(e) { e.selectionStart = 0, e.selectionEnd = e.value.length } : w && (A = function(e) { try { e.select() } catch (e) {} });
            var I = function() { this.id = null, this.f = null, this.time = 0, this.handler = _(this.onTimeout, this) };

            function H(e, t) {
                for (var n = 0; n < e.length; ++n)
                    if (e[n] == t) return n;
                return -1
            }
            I.prototype.onTimeout = function(e) { e.id = 0, e.time <= +new Date ? e.f() : setTimeout(e.handler, e.time - +new Date) }, I.prototype.set = function(e, t) {
                this.f = t;
                t = +new Date + e;
                (!this.id || t < this.time) && (clearTimeout(this.id), this.id = setTimeout(this.handler, e), this.time = t)
            };
            var W = 50,
                F = { toString: function() { return "CodeMirror.Pass" } },
                z = { scroll: !1 },
                B = { origin: "*mouse" },
                U = { origin: "+move" };

            function V(e, t, n) {
                for (var r = 0, i = 0;;) {
                    var o = e.indexOf("\t", r),
                        a = (o = -1 == o ? e.length : o) - r;
                    if (o == e.length || t <= i + a) return r + Math.min(a, t - i);
                    if (i += o - r, r = o + 1, t <= (i += n - i % n)) return r
                }
            }
            var G = [""];

            function q(e) { for (; G.length <= e;) G.push(K(G) + " "); return G[e] }

            function K(e) { return e[e.length - 1] }

            function $(e, t) { for (var n = [], r = 0; r < e.length; r++) n[r] = t(e[r], r); return n }

            function X() {}

            function Y(e, t) { e = Object.create ? Object.create(e) : (X.prototype = e, new X); return t && R(t, e), e }
            var Q = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;

            function J(e) { return /\w/.test(e) || "" < e && (e.toUpperCase() != e.toLowerCase() || Q.test(e)) }

            function Z(e, t) { return t ? !!(-1 < t.source.indexOf("\\w") && J(e)) || t.test(e) : J(e) }

            function ee(e) {
                for (var t in e)
                    if (e.hasOwnProperty(t) && e[t]) return;
                return 1
            }
            var te = /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;

            function ne(e) { return 768 <= e.charCodeAt(0) && te.test(e) }

            function re(e, t, n) {
                for (;
                    (n < 0 ? 0 < t : t < e.length) && ne(e.charAt(t));) t += n;
                return t
            }

            function ie(e, t, n) {
                for (var r = n < t ? -1 : 1;;) {
                    if (t == n) return t;
                    var i = (t + n) / 2,
                        i = r < 0 ? Math.ceil(i) : Math.floor(i);
                    if (i == t) return e(i) ? t : n;
                    e(i) ? n = i : t = i + r
                }
            }
            var oe = null;

            function ae(e, t, n) {
                var r;
                oe = null;
                for (var i = 0; i < e.length; ++i) {
                    var o = e[i];
                    if (o.from < t && o.to > t) return i;
                    o.to == t && (o.from != o.to && "before" == n ? r = i : oe = i), o.from == t && (o.from != o.to && "before" != n ? r = i : oe = i)
                }
                return null != r ? r : oe
            }
            var le, se, ce, ue, fe, de, pe, he = (le = "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN", se = "nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111", ce = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/, ue = /[stwN]/, fe = /[LRr]/, de = /[Lb1n]/, pe = /[1n]/, function(e, t) {
                var n = "ltr" == t ? "L" : "R";
                if (0 == e.length || "ltr" == t && !ce.test(e)) return !1;
                for (var r, i = e.length, o = [], a = 0; a < i; ++a) o.push((r = e.charCodeAt(a)) <= 247 ? le.charAt(r) : 1424 <= r && r <= 1524 ? "R" : 1536 <= r && r <= 1785 ? se.charAt(r - 1536) : 1774 <= r && r <= 2220 ? "r" : 8192 <= r && r <= 8203 ? "w" : 8204 == r ? "b" : "L");
                for (var l = 0, s = n; l < i; ++l) { var c = o[l]; "m" == c ? o[l] = s : s = c }
                for (var u = 0, f = n; u < i; ++u) { var d = o[u]; "1" == d && "r" == f ? o[u] = "n" : fe.test(d) && "r" == (f = d) && (o[u] = "R") }
                for (var p = 1, h = o[0]; p < i - 1; ++p) { var g = o[p]; "+" == g && "1" == h && "1" == o[p + 1] ? o[p] = "1" : "," != g || h != o[p + 1] || "1" != h && "n" != h || (o[p] = h), h = g }
                for (var m = 0; m < i; ++m) {
                    var y = o[m];
                    if ("," == y) o[m] = "N";
                    else if ("%" == y) {
                        for (var v = void 0, v = m + 1; v < i && "%" == o[v]; ++v);
                        for (var b = m && "!" == o[m - 1] || v < i && "1" == o[v] ? "1" : "N", w = m; w < v; ++w) o[w] = b;
                        m = v - 1
                    }
                }
                for (var x = 0, C = n; x < i; ++x) { var S = o[x]; "L" == C && "1" == S ? o[x] = "L" : fe.test(S) && (C = S) }
                for (var O = 0; O < i; ++O)
                    if (ue.test(o[O])) {
                        for (var k = void 0, k = O + 1; k < i && ue.test(o[k]); ++k);
                        for (var M = "L" == (O ? o[O - 1] : n), P = M == ("L" == (k < i ? o[k] : n)) ? M ? "L" : "R" : n, L = O; L < k; ++L) o[L] = P;
                        O = k - 1
                    }
                for (var T, E = [], N = 0; N < i;)
                    if (de.test(o[N])) {
                        var j = N;
                        for (++N; N < i && de.test(o[N]); ++N);
                        E.push(new ge(0, j, N))
                    } else {
                        var A = N,
                            _ = E.length,
                            R = "rtl" == t ? 1 : 0;
                        for (++N; N < i && "L" != o[N]; ++N);
                        for (var D = A; D < N;)
                            if (pe.test(o[D])) {
                                A < D && (E.splice(_, 0, new ge(1, A, D)), _ += R);
                                var I = D;
                                for (++D; D < N && pe.test(o[D]); ++D);
                                E.splice(_, 0, new ge(2, I, D)), _ += R, A = D
                            } else ++D;
                        A < N && E.splice(_, 0, new ge(1, A, N))
                    }
                return "ltr" == t && (1 == E[0].level && (T = e.match(/^\s+/)) && (E[0].from = T[0].length, E.unshift(new ge(0, 0, T[0].length))), 1 == K(E).level && (T = e.match(/\s+$/)) && (K(E).to -= T[0].length, E.push(new ge(0, i - T[0].length, i)))), "rtl" == t ? E.reverse() : E
            });

            function ge(e, t, n) { this.level = e, this.from = t, this.to = n }

            function me(e, t) { var n = e.order; return n = null == n ? e.order = he(e.text, t) : n }
            var ye = [],
                ve = function(e, t, n) { e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent ? e.attachEvent("on" + t, n) : (e = e._handlers || (e._handlers = {}))[t] = (e[t] || ye).concat(n) };

            function be(e, t) { return e._handlers && e._handlers[t] || ye }

            function we(e, t, n) {
                var r;
                e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent ? e.detachEvent("on" + t, n) : !(e = (r = e._handlers) && r[t]) || -1 < (n = H(e, n)) && (r[t] = e.slice(0, n).concat(e.slice(n + 1)))
            }

            function xe(e, t) {
                var n = be(e, t);
                if (n.length)
                    for (var r = Array.prototype.slice.call(arguments, 2), i = 0; i < n.length; ++i) n[i].apply(null, r)
            }

            function Ce(e, t, n) { return "string" == typeof t && (t = { type: t, preventDefault: function() { this.defaultPrevented = !0 } }), xe(e, n || t.type, e, t), Le(t) || t.codemirrorIgnore }

            function Se(e) {
                var t = e._handlers && e._handlers.cursorActivity;
                if (t)
                    for (var n = e.curOp.cursorActivityHandlers || (e.curOp.cursorActivityHandlers = []), r = 0; r < t.length; ++r) - 1 == H(n, t[r]) && n.push(t[r])
            }

            function Oe(e, t) { return 0 < be(e, t).length }

            function ke(e) { e.prototype.on = function(e, t) { ve(this, e, t) }, e.prototype.off = function(e, t) { we(this, e, t) } }

            function Me(e) { e.preventDefault ? e.preventDefault() : e.returnValue = !1 }

            function Pe(e) { e.stopPropagation ? e.stopPropagation() : e.cancelBubble = !0 }

            function Le(e) { return null != e.defaultPrevented ? e.defaultPrevented : 0 == e.returnValue }

            function Te(e) { Me(e), Pe(e) }

            function Ee(e) { return e.target || e.srcElement }

            function Ne(e) { var t = e.which; return null == t && (1 & e.button ? t = 1 : 2 & e.button ? t = 3 : 4 & e.button && (t = 2)), t = g && e.ctrlKey && 1 == t ? 3 : t }
            var je, Ae, _e = function() { if (w && y < 9) return !1; var e = P("div"); return "draggable" in e || "dragDrop" in e }();
            var Re = 3 != "\n\nb".split(/\n/).length ? function(e) {
                    for (var t = 0, n = [], r = e.length; t <= r;) {
                        var i = e.indexOf("\n", t); - 1 == i && (i = e.length);
                        var o = e.slice(t, "\r" == e.charAt(i - 1) ? i - 1 : i),
                            a = o.indexOf("\r"); - 1 != a ? (n.push(o.slice(0, a)), t += a + 1) : (n.push(o), t = i + 1)
                    }
                    return n
                } : function(e) { return e.split(/\r\n?|\n/) },
                De = window.getSelection ? function(e) { try { return e.selectionStart != e.selectionEnd } catch (e) { return !1 } } : function(e) { var t; try { t = e.ownerDocument.selection.createRange() } catch (e) {} return !(!t || t.parentElement() != e) && 0 != t.compareEndPoints("StartToEnd", t) },
                Ie = "oncopy" in (r = P("div")) || (r.setAttribute("oncopy", "return;"), "function" == typeof r.oncopy),
                He = null;
            var We = {},
                Fe = {};

            function ze(e) {
                if ("string" == typeof e && Fe.hasOwnProperty(e)) e = Fe[e];
                else if (e && "string" == typeof e.name && Fe.hasOwnProperty(e.name)) {
                    var t = Fe[e.name];
                    (e = Y(t = "string" == typeof t ? { name: t } : t, e)).name = t.name
                } else { if ("string" == typeof e && /^[\w\-]+\/[\w\-]+\+xml$/.test(e)) return ze("application/xml"); if ("string" == typeof e && /^[\w\-]+\/[\w\-]+\+json$/.test(e)) return ze("application/json") }
                return "string" == typeof e ? { name: e } : e || { name: "null" }
            }

            function Be(e, t) {
                t = ze(t);
                var n = We[t.name];
                if (!n) return Be(e, "text/plain");
                var r = n(e, t);
                if (Ue.hasOwnProperty(t.name)) { var i, o = Ue[t.name]; for (i in o) o.hasOwnProperty(i) && (r.hasOwnProperty(i) && (r["_" + i] = r[i]), r[i] = o[i]) }
                if (r.name = t.name, t.helperType && (r.helperType = t.helperType), t.modeProps)
                    for (var a in t.modeProps) r[a] = t.modeProps[a];
                return r
            }
            var Ue = {};

            function Ve(e, t) { R(t, Ue.hasOwnProperty(e) ? Ue[e] : Ue[e] = {}) }

            function Ge(e, t) {
                if (!0 === t) return t;
                if (e.copyState) return e.copyState(t);
                var n, r = {};
                for (n in t) {
                    var i = t[n];
                    i instanceof Array && (i = i.concat([])), r[n] = i
                }
                return r
            }

            function qe(e, t) { for (var n; e.innerMode && (n = e.innerMode(t)) && n.mode != e;) t = n.state, e = n.mode; return n || { mode: e, state: t } }

            function Ke(e, t, n) { return !e.startState || e.startState(t, n) }
            var $e = function(e, t, n) { this.pos = this.start = 0, this.string = e, this.tabSize = t || 8, this.lastColumnPos = this.lastColumnValue = 0, this.lineStart = 0, this.lineOracle = n };

            function Xe(e, t) {
                if ((t -= e.first) < 0 || t >= e.size) throw new Error("There is no line " + (t + e.first) + " in the document.");
                for (var n = e; !n.lines;)
                    for (var r = 0;; ++r) {
                        var i = n.children[r],
                            o = i.chunkSize();
                        if (t < o) { n = i; break }
                        t -= o
                    }
                return n.lines[t]
            }

            function Ye(e, t, n) {
                var r = [],
                    i = t.line;
                return e.iter(t.line, n.line + 1, function(e) {
                    e = e.text;
                    i == n.line && (e = e.slice(0, n.ch)), i == t.line && (e = e.slice(t.ch)), r.push(e), ++i
                }), r
            }

            function Qe(e, t, n) { var r = []; return e.iter(t, n, function(e) { r.push(e.text) }), r }

            function Je(e, t) {
                var n = t - e.height;
                if (n)
                    for (var r = e; r; r = r.parent) r.height += n
            }

            function Ze(e) {
                if (null == e.parent) return null;
                for (var t = e.parent, n = H(t.lines, e), r = t.parent; r; r = (t = r).parent)
                    for (var i = 0; r.children[i] != t; ++i) n += r.children[i].chunkSize();
                return n + t.first
            }

            function et(e, t) {
                var n = e.first;
                e: do {
                    for (var r = 0; r < e.children.length; ++r) {
                        var i = e.children[r],
                            o = i.height;
                        if (t < o) { e = i; continue e }
                        t -= o, n += i.chunkSize()
                    }
                    return n
                } while (!e.lines);
                for (var a = 0; a < e.lines.length; ++a) {
                    var l = e.lines[a].height;
                    if (t < l) break;
                    t -= l
                }
                return n + a
            }

            function tt(e, t) { return t >= e.first && t < e.first + e.size }

            function nt(e, t) { return String(e.lineNumberFormatter(t + e.firstLineNumber)) }

            function rt(e, t, n) {
                if (void 0 === n && (n = null), !(this instanceof rt)) return new rt(e, t, n);
                this.line = e, this.ch = t, this.sticky = n
            }

            function it(e, t) { return e.line - t.line || e.ch - t.ch }

            function ot(e, t) { return e.sticky == t.sticky && 0 == it(e, t) }

            function at(e) { return rt(e.line, e.ch) }

            function lt(e, t) { return it(e, t) < 0 ? t : e }

            function st(e, t) { return it(e, t) < 0 ? e : t }

            function ct(e, t) { return Math.max(e.first, Math.min(t, e.first + e.size - 1)) }

            function ut(e, t) { if (t.line < e.first) return rt(e.first, 0); var n = e.first + e.size - 1; return t.line > n ? rt(n, Xe(e, n).text.length) : (e = Xe(e, (n = t).line).text.length, null == (t = n.ch) || e < t ? rt(n.line, e) : t < 0 ? rt(n.line, 0) : n) }

            function ft(e, t) { for (var n = [], r = 0; r < t.length; r++) n[r] = ut(e, t[r]); return n }
            $e.prototype.eol = function() { return this.pos >= this.string.length }, $e.prototype.sol = function() { return this.pos == this.lineStart }, $e.prototype.peek = function() { return this.string.charAt(this.pos) || void 0 }, $e.prototype.next = function() { if (this.pos < this.string.length) return this.string.charAt(this.pos++) }, $e.prototype.eat = function(e) {
                var t = this.string.charAt(this.pos),
                    e = "string" == typeof e ? t == e : t && (e.test ? e.test(t) : e(t));
                if (e) return ++this.pos, t
            }, $e.prototype.eatWhile = function(e) { for (var t = this.pos; this.eat(e);); return this.pos > t }, $e.prototype.eatSpace = function() {
                for (var e = this.pos;
                    /[\s\u00a0]/.test(this.string.charAt(this.pos));) ++this.pos;
                return this.pos > e
            }, $e.prototype.skipToEnd = function() { this.pos = this.string.length }, $e.prototype.skipTo = function(e) { e = this.string.indexOf(e, this.pos); if (-1 < e) return this.pos = e, !0 }, $e.prototype.backUp = function(e) { this.pos -= e }, $e.prototype.column = function() { return this.lastColumnPos < this.start && (this.lastColumnValue = D(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue), this.lastColumnPos = this.start), this.lastColumnValue - (this.lineStart ? D(this.string, this.lineStart, this.tabSize) : 0) }, $e.prototype.indentation = function() { return D(this.string, null, this.tabSize) - (this.lineStart ? D(this.string, this.lineStart, this.tabSize) : 0) }, $e.prototype.match = function(e, t, n) {
                if ("string" != typeof e) { var r = this.string.slice(this.pos).match(e); return r && 0 < r.index ? null : (r && !1 !== t && (this.pos += r[0].length), r) }
                r = function(e) { return n ? e.toLowerCase() : e };
                if (r(this.string.substr(this.pos, e.length)) == r(e)) return !1 !== t && (this.pos += e.length), !0
            }, $e.prototype.current = function() { return this.string.slice(this.start, this.pos) }, $e.prototype.hideFirstChars = function(e, t) { this.lineStart += e; try { return t() } finally { this.lineStart -= e } }, $e.prototype.lookAhead = function(e) { var t = this.lineOracle; return t && t.lookAhead(e) }, $e.prototype.baseToken = function() { var e = this.lineOracle; return e && e.baseToken(this.pos) };
            var dt = function(e, t) { this.state = e, this.lookAhead = t },
                pt = function(e, t, n, r) { this.state = t, this.doc = e, this.line = n, this.maxLookAhead = r || 0, this.baseTokens = null, this.baseTokenPos = 1 };

            function ht(t, n, r, e) {
                var s = [t.state.modeGen],
                    i = {};
                St(t, n.text, t.doc.mode, r, function(e, t) { return s.push(e, t) }, i, e);
                for (var c = r.state, o = 0; o < t.state.overlays.length; ++o) ! function(e) {
                    r.baseTokens = s;
                    var o = t.state.overlays[e],
                        a = 1,
                        l = 0;
                    r.state = !0, St(t, n.text, o.mode, r, function(e, t) {
                        for (var n = a; l < e;) {
                            var r = s[a];
                            e < r && s.splice(a, 1, e, s[a + 1], r), a += 2, l = Math.min(e, r)
                        }
                        if (t)
                            if (o.opaque) s.splice(n, a - n, e, "overlay " + t), a = n + 2;
                            else
                                for (; n < a; n += 2) {
                                    var i = s[n + 1];
                                    s[n + 1] = (i ? i + " " : "") + "overlay " + t
                                }
                    }, i), r.state = c, r.baseTokens = null, r.baseTokenPos = 1
                }(o);
                return { styles: s, classes: i.bgClass || i.textClass ? i : null }
            }

            function gt(e, t, n) { var r, i, o; return t.styles && t.styles[0] == e.state.modeGen || (r = mt(e, Ze(t)), i = t.text.length > e.options.maxHighlightLength && Ge(e.doc.mode, r.state), o = ht(e, t, r), i && (r.state = i), t.stateAfter = r.save(!i), t.styles = o.styles, o.classes ? t.styleClasses = o.classes : t.styleClasses && (t.styleClasses = null), n === e.doc.highlightFrontier && (e.doc.modeFrontier = Math.max(e.doc.modeFrontier, ++e.doc.highlightFrontier))), t.styles }

            function mt(n, r, e) {
                var t = n.doc,
                    i = n.display;
                if (!t.mode.startState) return new pt(t, !0, r);
                var o = function(e, t, n) {
                        for (var r, i, o = e.doc, a = n ? -1 : t - (e.doc.mode.innerMode ? 1e3 : 100), l = t; a < l; --l) {
                            if (l <= o.first) return o.first;
                            var s = Xe(o, l - 1),
                                c = s.stateAfter;
                            if (c && (!n || l + (c instanceof dt ? c.lookAhead : 0) <= o.modeFrontier)) return l;
                            s = D(s.text, null, e.options.tabSize);
                            (null == i || s < r) && (i = l - 1, r = s)
                        }
                        return i
                    }(n, r, e),
                    a = o > t.first && Xe(t, o - 1).stateAfter,
                    l = a ? pt.fromSaved(t, a, o) : new pt(t, Ke(t.mode), o);
                return t.iter(o, r, function(e) {
                    yt(n, e.text, l);
                    var t = l.line;
                    e.stateAfter = t == r - 1 || t % 5 == 0 || t >= i.viewFrom && t < i.viewTo ? l.save() : null, l.nextLine()
                }), e && (t.modeFrontier = l.line), l
            }

            function yt(e, t, n, r) {
                var i = e.doc.mode,
                    o = new $e(t, e.options.tabSize, n);
                for (o.start = o.pos = r || 0, "" == t && vt(i, n.state); !o.eol();) bt(i, o, n.state), o.start = o.pos
            }

            function vt(e, t) { if (e.blankLine) return e.blankLine(t); if (e.innerMode) { t = qe(e, t); return t.mode.blankLine ? t.mode.blankLine(t.state) : void 0 } }

            function bt(e, t, n, r) { for (var i = 0; i < 10; i++) { r && (r[0] = qe(e, n).mode); var o = e.token(t, n); if (t.pos > t.start) return o } throw new Error("Mode " + e.name + " failed to advance stream.") }
            pt.prototype.lookAhead = function(e) { var t = this.doc.getLine(this.line + e); return null != t && e > this.maxLookAhead && (this.maxLookAhead = e), t }, pt.prototype.baseToken = function(e) { if (!this.baseTokens) return null; for (; this.baseTokens[this.baseTokenPos] <= e;) this.baseTokenPos += 2; var t = this.baseTokens[this.baseTokenPos + 1]; return { type: t && t.replace(/( |^)overlay .*/, ""), size: this.baseTokens[this.baseTokenPos] - e } }, pt.prototype.nextLine = function() { this.line++, 0 < this.maxLookAhead && this.maxLookAhead-- }, pt.fromSaved = function(e, t, n) { return t instanceof dt ? new pt(e, Ge(e.mode, t.state), n, t.lookAhead) : new pt(e, Ge(e.mode, t), n) }, pt.prototype.save = function(e) { e = !1 !== e ? Ge(this.doc.mode, this.state) : this.state; return 0 < this.maxLookAhead ? new dt(e, this.maxLookAhead) : e };
            var wt = function(e, t, n) { this.start = e.start, this.end = e.pos, this.string = e.current(), this.type = t || null, this.state = n };

            function xt(e, t, n, r) {
                var i, o, a = e.doc,
                    l = a.mode,
                    s = Xe(a, (t = ut(a, t)).line),
                    c = mt(e, t.line, n),
                    u = new $e(s.text, e.options.tabSize, c);
                for (r && (o = []);
                    (r || u.pos < t.ch) && !u.eol();) u.start = u.pos, i = bt(l, u, c.state), r && o.push(new wt(u, i, Ge(a.mode, c.state)));
                return r ? o : new wt(u, i, c.state)
            }

            function Ct(e, t) {
                if (e)
                    for (;;) {
                        var n = e.match(/(?:^|\s+)line-(background-)?(\S+)/);
                        if (!n) break;
                        e = e.slice(0, n.index) + e.slice(n.index + n[0].length);
                        var r = n[1] ? "bgClass" : "textClass";
                        null == t[r] ? t[r] = n[2] : new RegExp("(?:^|\\s)" + n[2] + "(?:$|\\s)").test(t[r]) || (t[r] += " " + n[2])
                    }
                return e
            }

            function St(e, t, n, r, i, o, a) {
                var l = n.flattenSpans;
                null == l && (l = e.options.flattenSpans);
                var s = 0,
                    c = null,
                    u = new $e(t, e.options.tabSize, r),
                    f = e.options.addModeClass && [null];
                for ("" == t && Ct(vt(n, r.state), o); !u.eol();) {
                    var d, p = u.pos > e.options.maxHighlightLength ? (l = !1, a && yt(e, t, r, u.pos), u.pos = t.length, null) : Ct(bt(n, u, r.state, f), o);
                    if (!f || (d = f[0].name) && (p = "m-" + (p ? d + " " + p : d)), !l || c != p) {
                        for (; s < u.start;) i(s = Math.min(u.start, s + 5e3), c);
                        c = p
                    }
                    u.start = u.pos
                }
                for (; s < u.pos;) {
                    var h = Math.min(u.pos, s + 5e3);
                    i(h, c), s = h
                }
            }
            var Ot = !1,
                kt = !1;

            function Mt(e, t, n) { this.marker = e, this.from = t, this.to = n }

            function Pt(e, t) {
                if (e)
                    for (var n = 0; n < e.length; ++n) { var r = e[n]; if (r.marker == t) return r }
            }

            function Lt(e, t) {
                if (t.full) return null;
                var n = tt(e, t.from.line) && Xe(e, t.from.line).markedSpans,
                    r = tt(e, t.to.line) && Xe(e, t.to.line).markedSpans;
                if (!n && !r) return null;
                var i = t.from.ch,
                    o = t.to.ch,
                    e = 0 == it(t.from, t.to),
                    a = function(e, t, n) {
                        var r;
                        if (e)
                            for (var i = 0; i < e.length; ++i) {
                                var o, a = e[i],
                                    l = a.marker;
                                !(null == a.from || (l.inclusiveLeft ? a.from <= t : a.from < t)) && (a.from != t || "bookmark" != l.type || n && a.marker.insertLeft) || (o = null == a.to || (l.inclusiveRight ? a.to >= t : a.to > t), (r = r || []).push(new Mt(l, a.from, o ? null : a.to)))
                            }
                        return r
                    }(n, i, e),
                    l = function(e, t, n) {
                        var r;
                        if (e)
                            for (var i = 0; i < e.length; ++i) {
                                var o, a = e[i],
                                    l = a.marker;
                                !(null == a.to || (l.inclusiveRight ? a.to >= t : a.to > t)) && (a.from != t || "bookmark" != l.type || n && !a.marker.insertLeft) || (o = null == a.from || (l.inclusiveLeft ? a.from <= t : a.from < t), (r = r || []).push(new Mt(l, o ? null : a.from - t, null == a.to ? null : a.to - t)))
                            }
                        return r
                    }(r, o, e),
                    s = 1 == t.text.length,
                    c = K(t.text).length + (s ? i : 0);
                if (a)
                    for (var u = 0; u < a.length; ++u) {
                        var f, d = a[u];
                        null == d.to && ((f = Pt(l, d.marker)) ? s && (d.to = null == f.to ? null : f.to + c) : d.to = i)
                    }
                if (l)
                    for (var p = 0; p < l.length; ++p) {
                        var h = l[p];
                        null != h.to && (h.to += c), null == h.from ? Pt(a, h.marker) || (h.from = c, s && (a = a || []).push(h)) : (h.from += c, s && (a = a || []).push(h))
                    }
                a = a && Tt(a), l && l != a && (l = Tt(l));
                var g = [a];
                if (!s) {
                    var m, y = t.text.length - 2;
                    if (0 < y && a)
                        for (var v = 0; v < a.length; ++v) null == a[v].to && (m = m || []).push(new Mt(a[v].marker, null, null));
                    for (var b = 0; b < y; ++b) g.push(m);
                    g.push(l)
                }
                return g
            }

            function Tt(e) {
                for (var t = 0; t < e.length; ++t) {
                    var n = e[t];
                    null != n.from && n.from == n.to && !1 !== n.marker.clearWhenEmpty && e.splice(t--, 1)
                }
                return e.length ? e : null
            }

            function Et(e) {
                var t = e.markedSpans;
                if (t) {
                    for (var n = 0; n < t.length; ++n) t[n].marker.detachLine(e);
                    e.markedSpans = null
                }
            }

            function Nt(e, t) {
                if (t) {
                    for (var n = 0; n < t.length; ++n) t[n].marker.attachLine(e);
                    e.markedSpans = t
                }
            }

            function jt(e) { return e.inclusiveLeft ? -1 : 0 }

            function At(e) { return e.inclusiveRight ? 1 : 0 }

            function _t(e, t) {
                var n = e.lines.length - t.lines.length;
                if (0 != n) return n;
                var r = e.find(),
                    i = t.find(),
                    n = it(r.from, i.from) || jt(e) - jt(t);
                if (n) return -n;
                i = it(r.to, i.to) || At(e) - At(t);
                return i || t.id - e.id
            }

            function Rt(e, t) {
                var n, r = kt && e.markedSpans;
                if (r)
                    for (var i, o = 0; o < r.length; ++o)(i = r[o]).marker.collapsed && null == (t ? i.from : i.to) && (!n || _t(n, i.marker) < 0) && (n = i.marker);
                return n
            }

            function Dt(e) { return Rt(e, !0) }

            function It(e) { return Rt(e, !1) }

            function Ht(e, t, n, r, i) {
                var t = Xe(e, t),
                    o = kt && t.markedSpans;
                if (o)
                    for (var a = 0; a < o.length; ++a) {
                        var l = o[a];
                        if (l.marker.collapsed) {
                            var s = l.marker.find(0),
                                c = it(s.from, n) || jt(l.marker) - jt(i),
                                u = it(s.to, r) || At(l.marker) - At(i);
                            if (!(0 <= c && u <= 0 || c <= 0 && 0 <= u) && (c <= 0 && (l.marker.inclusiveRight && i.inclusiveLeft ? 0 <= it(s.to, n) : 0 < it(s.to, n)) || 0 <= c && (l.marker.inclusiveRight && i.inclusiveLeft ? it(s.from, r) <= 0 : it(s.from, r) < 0))) return 1
                        }
                    }
            }

            function Wt(e) { for (var t; t = Dt(e);) e = t.find(-1, !0).line; return e }

            function Ft(e, t) {
                var n = Xe(e, t),
                    e = Wt(n);
                return n == e ? t : Ze(e)
            }

            function zt(e, t) { if (t > e.lastLine()) return t; var n, r = Xe(e, t); if (!Bt(e, r)) return t; for (; n = It(r);) r = n.find(1, !0).line; return Ze(r) + 1 }

            function Bt(e, t) {
                var n = kt && t.markedSpans;
                if (n)
                    for (var r, i = 0; i < n.length; ++i)
                        if ((r = n[i]).marker.collapsed) {
                            if (null == r.from) return !0;
                            if (!r.marker.widgetNode && 0 == r.from && r.marker.inclusiveLeft && function e(t, n, r) {
                                    if (null == r.to) { var i = r.marker.find(1, !0); return e(t, i.line, Pt(i.line.markedSpans, r.marker)) }
                                    if (r.marker.inclusiveRight && r.to == n.text.length) return !0;
                                    for (var o = void 0, a = 0; a < n.markedSpans.length; ++a)
                                        if ((o = n.markedSpans[a]).marker.collapsed && !o.marker.widgetNode && o.from == r.to && (null == o.to || o.to != r.from) && (o.marker.inclusiveLeft || r.marker.inclusiveRight) && e(t, n, o)) return !0
                                }(e, t, r)) return !0
                        }
            }

            function Ut(e) {
                for (var t = 0, n = (e = Wt(e)).parent, r = 0; r < n.lines.length; ++r) {
                    var i = n.lines[r];
                    if (i == e) break;
                    t += i.height
                }
                for (var o = n.parent; o; o = (n = o).parent)
                    for (var a = 0; a < o.children.length; ++a) {
                        var l = o.children[a];
                        if (l == n) break;
                        t += l.height
                    }
                return t
            }

            function Vt(e) {
                if (0 == e.height) return 0;
                for (var t, n = e.text.length, r = e; t = Dt(r);) {
                    var i = t.find(0, !0),
                        r = i.from.line;
                    n += i.from.ch - i.to.ch
                }
                for (r = e; t = It(r);) {
                    var o = t.find(0, !0);
                    n -= r.text.length - o.from.ch, n += (r = o.to.line).text.length - o.to.ch
                }
                return n
            }

            function Gt(e) {
                var n = e.display,
                    e = e.doc;
                n.maxLine = Xe(e, e.first), n.maxLineLength = Vt(n.maxLine), n.maxLineChanged = !0, e.iter(function(e) {
                    var t = Vt(e);
                    t > n.maxLineLength && (n.maxLineLength = t, n.maxLine = e)
                })
            }
            var qt = function(e, t, n) { this.text = e, Nt(this, t), this.height = n ? n(this) : 1 };
            qt.prototype.lineNo = function() { return Ze(this) }, ke(qt);
            var Kt = {},
                $t = {};

            function Xt(e, t) {
                if (!e || /^\s*$/.test(e)) return null;
                t = t.addModeClass ? $t : Kt;
                return t[e] || (t[e] = e.replace(/\S+/g, "cm-$&"))
            }

            function Yt(e, t) {
                var n = M("span", null, null, p ? "padding-right: .1px" : null),
                    r = { pre: M("pre", [n], "CodeMirror-line"), content: n, col: 0, pos: 0, cm: e, trailingSpace: !1, splitSpaces: e.getOption("lineWrapping") };
                t.measure = {};
                for (var i = 0; i <= (t.rest ? t.rest.length : 0); i++) {
                    var o = i ? t.rest[i - 1] : t.line,
                        a = void 0;
                    r.pos = 0, r.addToken = Jt,
                        function(e) {
                            if (null != Ae) return Ae;
                            var t = k(e, document.createTextNode("AخA")),
                                n = j(t, 0, 1).getBoundingClientRect(),
                                t = j(t, 1, 2).getBoundingClientRect();
                            return O(e), n && n.left != n.right && (Ae = t.right - n.right < 3)
                        }(e.display.measure) && (a = me(o, e.doc.direction)) && (r.addToken = function(f, d) {
                            return function(e, t, n, r, i, o, a) {
                                n = n ? n + " cm-force-border" : "cm-force-border";
                                for (var l = e.pos, s = l + t.length;;) {
                                    for (var c = void 0, u = 0; u < d.length && !((c = d[u]).to > l && c.from <= l); u++);
                                    if (c.to >= s) return f(e, t, n, r, i, o, a);
                                    f(e, t.slice(0, c.to - l), n, r, null, o, a), r = null, t = t.slice(c.to - l), l = c.to
                                }
                            }
                        }(r.addToken, a)), r.map = [],
                        function(e, t, n) {
                            var r = e.markedSpans,
                                i = e.text,
                                o = 0;
                            if (!r) { for (var a = 1; a < n.length; a += 2) t.addToken(t, i.slice(o, o = n[a]), Xt(n[a + 1], t.cm.options)); return }
                            for (var l, s, c, u, f, d, p, h = i.length, g = 0, m = 1, y = "", v = 0;;) {
                                if (v == g) {
                                    c = u = f = s = "", d = p = null, v = 1 / 0;
                                    for (var b = [], w = void 0, x = 0; x < r.length; ++x) {
                                        var C = r[x],
                                            S = C.marker;
                                        if ("bookmark" == S.type && C.from == g && S.widgetNode) b.push(S);
                                        else if (C.from <= g && (null == C.to || C.to > g || S.collapsed && C.to == g && C.from == g)) {
                                            if (null != C.to && C.to != g && v > C.to && (v = C.to, u = ""), S.className && (c += " " + S.className), S.css && (s = (s ? s + ";" : "") + S.css), S.startStyle && C.from == g && (f += " " + S.startStyle), S.endStyle && C.to == v && (w = w || []).push(S.endStyle, C.to), S.title && ((p = p || {}).title = S.title), S.attributes)
                                                for (var O in S.attributes)(p = p || {})[O] = S.attributes[O];
                                            S.collapsed && (!d || _t(d.marker, S) < 0) && (d = C)
                                        } else C.from > g && v > C.from && (v = C.from)
                                    }
                                    if (w)
                                        for (var k = 0; k < w.length; k += 2) w[k + 1] == v && (u += " " + w[k]);
                                    if (!d || d.from == g)
                                        for (var M = 0; M < b.length; ++M) Zt(t, 0, b[M]);
                                    if (d && (d.from || 0) == g) {
                                        if (Zt(t, (null == d.to ? h + 1 : d.to) - g, d.marker, null == d.from), null == d.to) return;
                                        d.to == g && (d = !1)
                                    }
                                }
                                if (h <= g) break;
                                for (var P = Math.min(h, v);;) {
                                    if (y) {
                                        var L, T = g + y.length;
                                        if (d || (L = P < T ? y.slice(0, P - g) : y, t.addToken(t, L, l ? l + c : c, f, g + L.length == v ? u : "", s, p)), P <= T) { y = y.slice(P - g), g = P; break }
                                        g = T, f = ""
                                    }
                                    y = i.slice(o, o = n[m++]), l = Xt(n[m++], t.cm.options)
                                }
                            }
                        }(o, r, gt(e, o, t != e.display.externalMeasured && Ze(o))), o.styleClasses && (o.styleClasses.bgClass && (r.bgClass = N(o.styleClasses.bgClass, r.bgClass || "")), o.styleClasses.textClass && (r.textClass = N(o.styleClasses.textClass, r.textClass || ""))), 0 == r.map.length && r.map.push(0, 0, r.content.appendChild(function(e) { null == je && (t = P("span", "​"), k(e, P("span", [t, document.createTextNode("x")])), 0 != e.firstChild.offsetHeight && (je = t.offsetWidth <= 1 && 2 < t.offsetHeight && !(w && y < 8))); var t = je ? P("span", "​") : P("span", " ", null, "display: inline-block; width: 1px; margin-right: -1px"); return t.setAttribute("cm-text", ""), t }(e.display.measure))), 0 == i ? (t.measure.map = r.map, t.measure.cache = {}) : ((t.measure.maps || (t.measure.maps = [])).push(r.map), (t.measure.caches || (t.measure.caches = [])).push({}))
                }
                return p && (n = r.content.lastChild, (/\bcm-tab\b/.test(n.className) || n.querySelector && n.querySelector(".cm-tab")) && (r.content.className = "cm-tab-wrap-hack")), xe(e, "renderLine", e, t.line, r.pre), r.pre.className && (r.textClass = N(r.pre.className, r.textClass || "")), r
            }

            function Qt(e) { var t = P("span", "•", "cm-invalidchar"); return t.title = "\\u" + e.charCodeAt(0).toString(16), t.setAttribute("aria-label", t.title), t }

            function Jt(e, t, n, r, i, o, a) {
                if (t) {
                    var l = e.splitSpaces ? function(e, t) { if (1 < e.length && !/  /.test(e)) return e; for (var n = t, r = "", i = 0; i < e.length; i++) { var o = e.charAt(i); " " != o || !n || i != e.length - 1 && 32 != e.charCodeAt(i + 1) || (o = " "), r += o, n = " " == o } return r }(t, e.trailingSpace) : t,
                        s = e.cm.state.specialChars,
                        c = !1;
                    if (s.test(t))
                        for (var u = document.createDocumentFragment(), f = 0;;) {
                            s.lastIndex = f;
                            var d = s.exec(t),
                                p = d ? d.index - f : t.length - f;
                            if (p && (h = document.createTextNode(l.slice(f, f + p)), w && y < 9 ? u.appendChild(P("span", [h])) : u.appendChild(h), e.map.push(e.pos, e.pos + p, h), e.col += p, e.pos += p), !d) break;
                            f += 1 + p;
                            var h = void 0;
                            "\t" == d[0] ? (p = (p = e.cm.options.tabSize) - e.col % p, (h = u.appendChild(P("span", q(p), "cm-tab"))).setAttribute("role", "presentation"), h.setAttribute("cm-text", "\t"), e.col += p) : ("\r" == d[0] || "\n" == d[0] ? (h = u.appendChild(P("span", "\r" == d[0] ? "␍" : "␤", "cm-invalidchar"))).setAttribute("cm-text", d[0]) : ((h = e.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text", d[0]), w && y < 9 ? u.appendChild(P("span", [h])) : u.appendChild(h)), e.col += 1), e.map.push(e.pos, e.pos + 1, h), e.pos++
                        } else e.col += t.length, u = document.createTextNode(l), e.map.push(e.pos, e.pos + t.length, u), w && y < 9 && (c = !0), e.pos += t.length;
                    if (e.trailingSpace = 32 == l.charCodeAt(t.length - 1), n || r || i || c || o || a) {
                        n = n || "";
                        r && (n += r), i && (n += i);
                        var g = P("span", [u], n, o);
                        if (a)
                            for (var m in a) a.hasOwnProperty(m) && "style" != m && "class" != m && g.setAttribute(m, a[m]);
                        return e.content.appendChild(g)
                    }
                    e.content.appendChild(u)
                }
            }

            function Zt(e, t, n, r) {
                var i = !r && n.widgetNode;
                i && e.map.push(e.pos, e.pos + t, i), !r && e.cm.display.input.needsContentAttribute && (i = i || e.content.appendChild(document.createElement("span"))).setAttribute("cm-marker", n.id), i && (e.cm.display.input.setUneditable(i), e.content.appendChild(i)), e.pos += t, e.trailingSpace = !1
            }

            function en(e, t, n) { this.line = t, this.rest = function(e) { for (var t, n; t = It(e);) e = t.find(1, !0).line, (n = n || []).push(e); return n }(t), this.size = this.rest ? Ze(K(this.rest)) - n + 1 : 1, this.node = this.text = null, this.hidden = Bt(e, t) }

            function tn(e, t, n) {
                for (var r = [], i = t; i < n; i = a) {
                    var o = new en(e.doc, Xe(e.doc, i), i),
                        a = i + o.size;
                    r.push(o)
                }
                return r
            }
            var nn = null;

            function rn(e, t) {
                var n = e.ownsGroup;
                if (n) try {
                    ! function(e) {
                        var t = e.delayedCallbacks,
                            n = 0;
                        do {
                            for (; n < t.length; n++) t[n].call(null);
                            for (var r = 0; r < e.ops.length; r++) {
                                var i = e.ops[r];
                                if (i.cursorActivityHandlers)
                                    for (; i.cursorActivityCalled < i.cursorActivityHandlers.length;) i.cursorActivityHandlers[i.cursorActivityCalled++].call(null, i.cm)
                            }
                        } while (n < t.length)
                    }(n)
                } finally { nn = null, t(n) }
            }
            var on = null;

            function an(e, t) {
                var n = be(e, t);
                if (n.length) {
                    var r, i = Array.prototype.slice.call(arguments, 2);
                    nn ? r = nn.delayedCallbacks : on ? r = on : (r = on = [], setTimeout(ln, 0));
                    for (var o = 0; o < n.length; ++o) ! function(e) { r.push(function() { return n[e].apply(null, i) }) }(o)
                }
            }

            function ln() {
                var e = on;
                on = null;
                for (var t = 0; t < e.length; ++t) e[t]()
            }

            function sn(e, t, n, r) {
                for (var i = 0; i < t.changes.length; i++) {
                    var o = t.changes[i];
                    "text" == o ? function(e, t) {
                        var n = t.text.className,
                            r = un(e, t);
                        t.text == t.node && (t.node = r.pre);
                        t.text.parentNode.replaceChild(r.pre, t.text), t.text = r.pre, r.bgClass != t.bgClass || r.textClass != t.textClass ? (t.bgClass = r.bgClass, t.textClass = r.textClass, fn(e, t)) : n && (t.text.className = n)
                    }(e, t) : "gutter" == o ? dn(e, t, n, r) : "class" == o ? fn(e, t) : "widget" == o && function(e, t, n) {
                        t.alignable && (t.alignable = null);
                        for (var r = C("CodeMirror-linewidget"), i = t.node.firstChild, o = void 0; i; i = o) o = i.nextSibling, r.test(i.className) && t.node.removeChild(i);
                        pn(e, t, n)
                    }(e, t, r)
                }
                t.changes = null
            }

            function cn(e) { return e.node == e.text && (e.node = P("div", null, null, "position: relative"), e.text.parentNode && e.text.parentNode.replaceChild(e.node, e.text), e.node.appendChild(e.text), w && y < 8 && (e.node.style.zIndex = 2)), e.node }

            function un(e, t) { var n = e.display.externalMeasured; return n && n.line == t.line ? (e.display.externalMeasured = null, t.measure = n.measure, n.built) : Yt(e, t) }

            function fn(e, t) {
                var n, r;
                n = e, (r = (i = t).bgClass ? i.bgClass + " " + (i.line.bgClass || "") : i.line.bgClass) && (r += " CodeMirror-linebackground"), i.background ? r ? i.background.className = r : (i.background.parentNode.removeChild(i.background), i.background = null) : r && (e = cn(i), i.background = e.insertBefore(P("div", null, r), e.firstChild), n.display.input.setUneditable(i.background)), t.line.wrapClass ? cn(t).className = t.line.wrapClass : t.node != t.text && (t.node.className = "");
                var i = t.textClass ? t.textClass + " " + (t.line.textClass || "") : t.line.textClass;
                t.text.className = i || ""
            }

            function dn(e, t, n, r) {
                t.gutter && (t.node.removeChild(t.gutter), t.gutter = null), t.gutterBackground && (t.node.removeChild(t.gutterBackground), t.gutterBackground = null), t.line.gutterClass && (o = cn(t), t.gutterBackground = P("div", null, "CodeMirror-gutter-background " + t.line.gutterClass, "left: " + (e.options.fixedGutter ? r.fixedPos : -r.gutterTotalWidth) + "px; width: " + r.gutterTotalWidth + "px"), e.display.input.setUneditable(t.gutterBackground), o.insertBefore(t.gutterBackground, t.text));
                var i = t.line.gutterMarkers;
                if (e.options.lineNumbers || i) {
                    var o = cn(t),
                        a = t.gutter = P("div", null, "CodeMirror-gutter-wrapper", "left: " + (e.options.fixedGutter ? r.fixedPos : -r.gutterTotalWidth) + "px");
                    if (e.display.input.setUneditable(a), o.insertBefore(a, t.text), t.line.gutterClass && (a.className += " " + t.line.gutterClass), !e.options.lineNumbers || i && i["CodeMirror-linenumbers"] || (t.lineNumber = a.appendChild(P("div", nt(e.options, n), "CodeMirror-linenumber CodeMirror-gutter-elt", "left: " + r.gutterLeft["CodeMirror-linenumbers"] + "px; width: " + e.display.lineNumInnerWidth + "px"))), i)
                        for (var l = 0; l < e.display.gutterSpecs.length; ++l) {
                            var s = e.display.gutterSpecs[l].className,
                                c = i.hasOwnProperty(s) && i[s];
                            c && a.appendChild(P("div", [c], "CodeMirror-gutter-elt", "left: " + r.gutterLeft[s] + "px; width: " + r.gutterWidth[s] + "px"))
                        }
                }
            }

            function pn(e, t, n) {
                if (hn(e, t.line, t, n, !0), t.rest)
                    for (var r = 0; r < t.rest.length; r++) hn(e, t.rest[r], t, n, !1)
            }

            function hn(e, t, n, r, i) {
                if (t.widgets)
                    for (var o = cn(n), a = 0, l = t.widgets; a < l.length; ++a) {
                        var s = l[a],
                            c = P("div", [s.node], "CodeMirror-linewidget" + (s.className ? " " + s.className : ""));
                        s.handleMouseEvents || c.setAttribute("cm-ignore-events", "true"),
                            function(e, t, n, r) {
                                e.noHScroll && ((n.alignable || (n.alignable = [])).push(t), n = r.wrapperWidth, t.style.left = r.fixedPos + "px", e.coverGutter || (n -= r.gutterTotalWidth, t.style.paddingLeft = r.gutterTotalWidth + "px"), t.style.width = n + "px");
                                e.coverGutter && (t.style.zIndex = 5, t.style.position = "relative", e.noHScroll || (t.style.marginLeft = -r.gutterTotalWidth + "px"))
                            }(s, c, n, r), e.display.input.setUneditable(c), i && s.above ? o.insertBefore(c, n.gutter || n.text) : o.appendChild(c), an(s, "redraw")
                    }
            }

            function gn(e) { if (null != e.height) return e.height; var t, n = e.doc.cm; return n ? (L(document.body, e.node) || (t = "position: relative;", e.coverGutter && (t += "margin-left: -" + n.display.gutters.offsetWidth + "px;"), e.noHScroll && (t += "width: " + n.display.wrapper.clientWidth + "px;"), k(n.display.measure, P("div", [e.node], null, t))), e.height = e.node.parentNode.offsetHeight) : 0 }

            function mn(e, t) {
                for (var n = Ee(t); n != e.wrapper; n = n.parentNode)
                    if (!n || 1 == n.nodeType && "true" == n.getAttribute("cm-ignore-events") || n.parentNode == e.sizer && n != e.mover) return 1
            }

            function yn(e) { return e.lineSpace.offsetTop }

            function vn(e) { return e.mover.offsetHeight - e.lineSpace.offsetHeight }

            function bn(e) {
                if (e.cachedPaddingH) return e.cachedPaddingH;
                var t = k(e.measure, P("pre", "x", "CodeMirror-line-like")),
                    t = window.getComputedStyle ? window.getComputedStyle(t) : t.currentStyle,
                    t = { left: parseInt(t.paddingLeft), right: parseInt(t.paddingRight) };
                return isNaN(t.left) || isNaN(t.right) || (e.cachedPaddingH = t), t
            }

            function wn(e) { return W - e.display.nativeBarWidth }

            function xn(e) { return e.display.scroller.clientWidth - wn(e) - e.display.barWidth }

            function Cn(e) { return e.display.scroller.clientHeight - wn(e) - e.display.barHeight }

            function Sn(e, t, n) {
                if (e.line == t) return { map: e.measure.map, cache: e.measure.cache };
                for (var r = 0; r < e.rest.length; r++)
                    if (e.rest[r] == t) return { map: e.measure.maps[r], cache: e.measure.caches[r] };
                for (var i = 0; i < e.rest.length; i++)
                    if (Ze(e.rest[i]) > n) return { map: e.measure.maps[i], cache: e.measure.caches[i], before: !0 }
            }

            function On(e, t, n, r) { return Pn(e, Mn(e, t), n, r) }

            function kn(e, t) {
                if (t >= e.display.viewFrom && t < e.display.viewTo) return e.display.view[er(e, t)];
                e = e.display.externalMeasured;
                return e && t >= e.lineN && t < e.lineN + e.size ? e : void 0
            }

            function Mn(e, t) {
                var n, r, i = Ze(t),
                    o = kn(e, i);
                o && !o.text ? o = null : o && o.changes && (sn(e, o, i, Xn(e)), e.curOp.forceUpdate = !0), o || (n = e, e = Ze(r = Wt(r = t)), (r = n.display.externalMeasured = new en(n.doc, r, e)).lineN = e, e = r.built = Yt(n, r), r.text = e.pre, k(n.display.lineMeasure, e.pre), o = r);
                i = Sn(o, t, i);
                return { line: t, view: o, rect: null, map: i.map, cache: i.cache, before: i.before, hasHeights: !1 }
            }

            function Pn(e, t, n, r, i) {
                var o, a = (n = t.before ? -1 : n) + (r || "");
                return t.cache.hasOwnProperty(a) ? o = t.cache[a] : (t.rect || (t.rect = t.view.text.getBoundingClientRect()), t.hasHeights || (function(e, t, n) {
                    var r = e.options.lineWrapping,
                        e = r && xn(e);
                    if (!t.measure.heights || r && t.measure.width != e) {
                        var i = t.measure.heights = [];
                        if (r) {
                            t.measure.width = e;
                            for (var o = t.text.firstChild.getClientRects(), a = 0; a < o.length - 1; a++) {
                                var l = o[a],
                                    s = o[a + 1];
                                2 < Math.abs(l.bottom - s.bottom) && i.push((l.bottom + s.top) / 2 - n.top)
                            }
                        }
                        i.push(n.bottom - n.top)
                    }
                }(e, t.view, t.rect), t.hasHeights = !0), (o = function(e, t, n, r) {
                    var i, o = En(t.map, n, r),
                        a = o.node,
                        l = o.start,
                        s = o.end,
                        c = o.collapse;
                    if (3 == a.nodeType) {
                        for (var u = 0; u < 4; u++) {
                            for (; l && ne(t.line.text.charAt(o.coverStart + l));) --l;
                            for (; o.coverStart + s < o.coverEnd && ne(t.line.text.charAt(o.coverStart + s));) ++s;
                            if ((i = w && y < 9 && 0 == l && s == o.coverEnd - o.coverStart ? a.parentNode.getBoundingClientRect() : function(e, t) {
                                    var n = Tn;
                                    if ("left" == t)
                                        for (var r = 0; r < e.length && (n = e[r]).left == n.right; r++);
                                    else
                                        for (var i = e.length - 1; 0 <= i && (n = e[i]).left == n.right; i--);
                                    return n
                                }(j(a, l, s).getClientRects(), r)).left || i.right || 0 == l) break;
                            s = l, l -= 1, c = "right"
                        }
                        w && y < 11 && (i = function(e, t) {
                            if (!window.screen || null == screen.logicalXDPI || screen.logicalXDPI == screen.deviceXDPI || ! function(e) {
                                    if (null != He) return He;
                                    var e = (t = k(e, P("span", "x"))).getBoundingClientRect(),
                                        t = j(t, 0, 1).getBoundingClientRect();
                                    return He = 1 < Math.abs(e.left - t.left)
                                }(e)) return t;
                            var n = screen.logicalXDPI / screen.deviceXDPI,
                                e = screen.logicalYDPI / screen.deviceYDPI;
                            return { left: t.left * n, right: t.right * n, top: t.top * e, bottom: t.bottom * e }
                        }(e.display.measure, i))
                    } else 0 < l && (c = r = "right"), i = e.options.lineWrapping && 1 < (g = a.getClientRects()).length ? g["right" == r ? g.length - 1 : 0] : a.getBoundingClientRect();
                    !(w && y < 9) || l || i && (i.left || i.right) || (m = a.parentNode.getClientRects()[0], i = m ? { left: m.left, right: m.left + $n(e.display), top: m.top, bottom: m.bottom } : Tn);
                    for (var f = i.top - t.rect.top, n = i.bottom - t.rect.top, d = (f + n) / 2, p = t.view.measure.heights, h = 0; h < p.length - 1 && !(d < p[h]); h++);
                    var g = h ? p[h - 1] : 0,
                        m = p[h],
                        m = { left: ("right" == c ? i.right : i.left) - t.rect.left, right: ("left" == c ? i.left : i.right) - t.rect.left, top: g, bottom: m };
                    i.left || i.right || (m.bogus = !0);
                    e.options.singleCursorHeightPerLine || (m.rtop = f, m.rbottom = n);
                    return m
                }(e, t, n, r)).bogus || (t.cache[a] = o)), { left: o.left, right: o.right, top: i ? o.rtop : o.top, bottom: i ? o.rbottom : o.bottom }
            }
            var Ln, Tn = { left: 0, right: 0, top: 0, bottom: 0 };

            function En(e, t, n) {
                for (var r, i, o, a, l, s, c = 0; c < e.length; c += 3)
                    if (l = e[c], s = e[c + 1], t < l ? (i = 0, o = 1, a = "left") : t < s ? o = (i = t - l) + 1 : (c == e.length - 3 || t == s && e[c + 3] > t) && (i = (o = s - l) - 1, s <= t && (a = "right")), null != i) {
                        if (r = e[c + 2], l == s && n == (r.insertLeft ? "left" : "right") && (a = n), "left" == n && 0 == i)
                            for (; c && e[c - 2] == e[c - 3] && e[c - 1].insertLeft;) r = e[2 + (c -= 3)], a = "left";
                        if ("right" == n && i == s - l)
                            for (; c < e.length - 3 && e[c + 3] == e[c + 4] && !e[c + 5].insertLeft;) r = e[(c += 3) + 2], a = "right";
                        break
                    }
                return { node: r, start: i, end: o, collapse: a, coverStart: l, coverEnd: s }
            }

            function Nn(e) {
                if (e.measure && (e.measure.cache = {}, e.measure.heights = null, e.rest))
                    for (var t = 0; t < e.rest.length; t++) e.measure.caches[t] = {}
            }

            function jn(e) { e.display.externalMeasure = null, O(e.display.lineMeasure); for (var t = 0; t < e.display.view.length; t++) Nn(e.display.view[t]) }

            function An(e) { jn(e), e.display.cachedCharWidth = e.display.cachedTextHeight = e.display.cachedPaddingH = null, e.options.lineWrapping || (e.display.maxLineChanged = !0), e.display.lineNumChars = null }

            function _n() { return o && s ? -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft)) : window.pageXOffset || (document.documentElement || document.body).scrollLeft }

            function Rn() { return o && s ? -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop)) : window.pageYOffset || (document.documentElement || document.body).scrollTop }

            function Dn(e) {
                var t = 0;
                if (e.widgets)
                    for (var n = 0; n < e.widgets.length; ++n) e.widgets[n].above && (t += gn(e.widgets[n]));
                return t
            }

            function In(e, t, n, r, i) {
                if (i || (i = Dn(t), n.top += i, n.bottom += i), "line" == r) return n;
                r = r || "local";
                t = Ut(t);
                return "local" == r ? t += yn(e.display) : t -= e.display.viewOffset, "page" != r && "window" != r || (t += (e = e.display.lineSpace.getBoundingClientRect()).top + ("window" == r ? 0 : Rn()), r = e.left + ("window" == r ? 0 : _n()), n.left += r, n.right += r), n.top += t, n.bottom += t, n
            }

            function Hn(e, t, n) {
                if ("div" == n) return t;
                var r = t.left,
                    t = t.top;
                "page" == n ? (r -= _n(), t -= Rn()) : "local" != n && n || (r += (n = e.display.sizer.getBoundingClientRect()).left, t += n.top);
                e = e.display.lineSpace.getBoundingClientRect();
                return { left: r - e.left, top: t - e.top }
            }

            function Wn(e, t, n, r, i) { return In(e, r = r || Xe(e.doc, t.line), On(e, r, t.ch, i), n) }

            function Fn(n, e, r, i, o, a) {
                function l(e, t) { e = Pn(n, o, e, t ? "right" : "left", a); return t ? e.left = e.right : e.right = e.left, In(n, i, e, r) }
                i = i || Xe(n.doc, e.line), o = o || Mn(n, i);
                var s = me(i, n.doc.direction),
                    t = e.ch,
                    c = e.sticky;
                if (t >= i.text.length ? (t = i.text.length, c = "before") : t <= 0 && (t = 0, c = "after"), !s) return l("before" == c ? t - 1 : t, "before" == c);

                function u(e, t, n) { return l(n ? e - 1 : e, 1 == s[t].level != n) }
                var f = ae(s, t, c),
                    e = oe,
                    f = u(t, f, "before" == c);
                return null != e && (f.other = u(t, e, "before" != c)), f
            }

            function zn(e, t) {
                var n = 0;
                t = ut(e.doc, t), e.options.lineWrapping || (n = $n(e.display) * t.ch);
                t = Xe(e.doc, t.line), e = Ut(t) + yn(e.display);
                return { left: n, right: n, top: e, bottom: e + t.height }
            }

            function Bn(e, t, n, r, i) { n = rt(e, t, n); return n.xRel = i, r && (n.outside = r), n }

            function Un(e, t, n) {
                var r = e.doc;
                if ((n += e.display.viewOffset) < 0) return Bn(r.first, 0, null, -1, -1);
                var i = et(r, n),
                    o = r.first + r.size - 1;
                if (o < i) return Bn(r.first + r.size - 1, Xe(r, o).text.length, null, 1, 1);
                t < 0 && (t = 0);
                for (var a = Xe(r, i);;) {
                    var l = function(n, e, t, r, i) {
                            i -= Ut(e);
                            var o = Mn(n, e),
                                a = Dn(e),
                                l = 0,
                                s = e.text.length,
                                c = !0,
                                u = me(e, n.doc.direction);
                            u && (p = (n.options.lineWrapping ? function(e, t, n, r, i, o, a) {
                                var a = Vn(e, t, r, a),
                                    l = a.begin,
                                    s = a.end;
                                /\s/.test(t.text.charAt(s - 1)) && s--;
                                for (var c = null, u = null, f = 0; f < i.length; f++) {
                                    var d, p = i[f];
                                    p.from >= s || p.to <= l || (d = 1 != p.level, d = Pn(e, r, d ? Math.min(s, p.to) - 1 : Math.max(l, p.from)).right, d = d < o ? o - d + 1e9 : d - o, (!c || d < u) && (c = p, u = d))
                                }
                                c = c || i[i.length - 1];
                                c.from < l && (c = { from: l, to: c.to, level: c.level });
                                c.to > s && (c = { from: c.from, to: s, level: c.level });
                                return c
                            } : function(n, r, i, o, a, l, s) {
                                var e = ie(function(e) {
                                        var t = a[e],
                                            e = 1 != t.level;
                                        return qn(Fn(n, rt(i, e ? t.to : t.from, e ? "before" : "after"), "line", r, o), l, s, !0)
                                    }, 0, a.length - 1),
                                    t = a[e]; {
                                    var c;
                                    0 < e && (c = 1 != t.level, qn(c = Fn(n, rt(i, c ? t.from : t.to, c ? "after" : "before"), "line", r, o), l, s, !0) && c.top > s && (t = a[e - 1]))
                                }
                                return t
                            })(n, e, t, o, u, r, i), c = 1 != p.level, l = c ? p.from : p.to - 1, s = c ? p.to : p.from - 1);
                            var f = null,
                                d = null,
                                u = ie(function(e) { var t = Pn(n, o, e); return t.top += a, t.bottom += a, qn(t, r, i, !1) && (t.top <= i && t.left <= r && (f = e, d = t), 1) }, l, s),
                                p = !1; {
                                var h, g;
                                d ? (h = r - d.left < d.right - r, u = f + ((g = h == c) ? 0 : 1), g = g ? "after" : "before", h = h ? d.left : d.right) : (c || u != s && u != l || u++, g = 0 == u || u != e.text.length && Pn(n, o, u - (c ? 1 : 0)).bottom + a <= i == c ? "after" : "before", c = Fn(n, rt(t, u, g), "line", e, o), h = c.left, p = i < c.top ? -1 : i >= c.bottom ? 1 : 0)
                            }
                            return u = re(e.text, u, 1), Bn(t, u, g, p, r - h)
                        }(e, a, i, t, n),
                        s = function(e, t) {
                            var n, r = kt && e.markedSpans;
                            if (r)
                                for (var i = 0; i < r.length; ++i) {
                                    var o = r[i];
                                    o.marker.collapsed && (null == o.from || o.from < t) && (null == o.to || o.to > t) && (!n || _t(n, o.marker) < 0) && (n = o.marker)
                                }
                            return n
                        }(a, l.ch + (0 < l.xRel || 0 < l.outside ? 1 : 0));
                    if (!s) return l;
                    s = s.find(1);
                    if (s.line == i) return s;
                    a = Xe(r, i = s.line)
                }
            }

            function Vn(t, e, n, r) {
                r -= Dn(e);
                var i = e.text.length,
                    e = ie(function(e) { return Pn(t, n, e - 1).bottom <= r }, i, 0);
                return { begin: e, end: i = ie(function(e) { return Pn(t, n, e).top > r }, e, i) }
            }

            function Gn(e, t, n, r) { return Vn(e, t, n = n || Mn(e, t), In(e, t, Pn(e, n, r), "line").top) }

            function qn(e, t, n, r) { return !(e.bottom <= n) && (e.top > n || (r ? e.left : e.right) > t) }

            function Kn(e) {
                if (null != e.cachedTextHeight) return e.cachedTextHeight;
                if (null == Ln) {
                    Ln = P("pre", null, "CodeMirror-line-like");
                    for (var t = 0; t < 49; ++t) Ln.appendChild(document.createTextNode("x")), Ln.appendChild(P("br"));
                    Ln.appendChild(document.createTextNode("x"))
                }
                k(e.measure, Ln);
                var n = Ln.offsetHeight / 50;
                return 3 < n && (e.cachedTextHeight = n), O(e.measure), n || 1
            }

            function $n(e) {
                if (null != e.cachedCharWidth) return e.cachedCharWidth;
                var t = P("span", "xxxxxxxxxx"),
                    n = P("pre", [t], "CodeMirror-line-like");
                k(e.measure, n);
                t = t.getBoundingClientRect(), t = (t.right - t.left) / 10;
                return 2 < t && (e.cachedCharWidth = t), t || 10
            }

            function Xn(e) {
                for (var t = e.display, n = {}, r = {}, i = t.gutters.clientLeft, o = t.gutters.firstChild, a = 0; o; o = o.nextSibling, ++a) {
                    var l = e.display.gutterSpecs[a].className;
                    n[l] = o.offsetLeft + o.clientLeft + i, r[l] = o.clientWidth
                }
                return { fixedPos: Yn(t), gutterTotalWidth: t.gutters.offsetWidth, gutterLeft: n, gutterWidth: r, wrapperWidth: t.wrapper.clientWidth }
            }

            function Yn(e) { return e.scroller.getBoundingClientRect().left - e.sizer.getBoundingClientRect().left }

            function Qn(r) {
                var i = Kn(r.display),
                    o = r.options.lineWrapping,
                    a = o && Math.max(5, r.display.scroller.clientWidth / $n(r.display) - 3);
                return function(e) {
                    if (Bt(r.doc, e)) return 0;
                    var t = 0;
                    if (e.widgets)
                        for (var n = 0; n < e.widgets.length; n++) e.widgets[n].height && (t += e.widgets[n].height);
                    return o ? t + (Math.ceil(e.text.length / a) || 1) * i : t + i
                }
            }

            function Jn(e) {
                var t = e.doc,
                    n = Qn(e);
                t.iter(function(e) {
                    var t = n(e);
                    t != e.height && Je(e, t)
                })
            }

            function Zn(e, t, n, r) { var i = e.display; if (!n && "true" == Ee(t).getAttribute("cm-not-content")) return null; var o, a, l = i.lineSpace.getBoundingClientRect(); try { o = t.clientX - l.left, a = t.clientY - l.top } catch (e) { return null } var s, i = Un(e, o, a); return r && 0 < i.xRel && (s = Xe(e.doc, i.line).text).length == i.ch && (s = D(s, s.length, e.options.tabSize) - s.length, i = rt(i.line, Math.max(0, Math.round((o - bn(e.display).left) / $n(e.display)) - s))), i }

            function er(e, t) {
                if (t >= e.display.viewTo) return null;
                if ((t -= e.display.viewFrom) < 0) return null;
                for (var n = e.display.view, r = 0; r < n.length; r++)
                    if ((t -= n[r].size) < 0) return r
            }

            function tr(e, t, n, r) {
                null == t && (t = e.doc.first), null == n && (n = e.doc.first + e.doc.size), r = r || 0;
                var i, o, a = e.display;
                r && n < a.viewTo && (null == a.updateLineNumbers || a.updateLineNumbers > t) && (a.updateLineNumbers = t), e.curOp.viewChanged = !0, t >= a.viewTo ? kt && Ft(e.doc, t) < a.viewTo && rr(e) : n <= a.viewFrom ? kt && zt(e.doc, n + r) > a.viewFrom ? rr(e) : (a.viewFrom += r, a.viewTo += r) : t <= a.viewFrom && n >= a.viewTo ? rr(e) : t <= a.viewFrom ? (i = ir(e, n, n + r, 1)) ? (a.view = a.view.slice(i.index), a.viewFrom = i.lineN, a.viewTo += r) : rr(e) : n >= a.viewTo ? (o = ir(e, t, t, -1)) ? (a.view = a.view.slice(0, o.index), a.viewTo = o.lineN) : rr(e) : (i = ir(e, t, t, -1), o = ir(e, n, n + r, 1), i && o ? (a.view = a.view.slice(0, i.index).concat(tn(e, i.lineN, o.lineN)).concat(a.view.slice(o.index)), a.viewTo += r) : rr(e));
                e = a.externalMeasured;
                e && (n < e.lineN ? e.lineN += r : t < e.lineN + e.size && (a.externalMeasured = null))
            }

            function nr(e, t, n) {
                e.curOp.viewChanged = !0;
                var r = e.display,
                    i = e.display.externalMeasured;
                i && t >= i.lineN && t < i.lineN + i.size && (r.externalMeasured = null), t < r.viewFrom || t >= r.viewTo || (null == (t = r.view[er(e, t)]).node || -1 == H(t = t.changes || (t.changes = []), n) && t.push(n))
            }

            function rr(e) { e.display.viewFrom = e.display.viewTo = e.doc.first, e.display.view = [], e.display.viewOffset = 0 }

            function ir(e, t, n, r) {
                var i, o = er(e, t),
                    a = e.display.view;
                if (!kt || n == e.doc.first + e.doc.size) return { index: o, lineN: n };
                for (var l = e.display.viewFrom, s = 0; s < o; s++) l += a[s].size;
                if (l != t) {
                    if (0 < r) {
                        if (o == a.length - 1) return null;
                        i = l + a[o].size - t, o++
                    } else i = l - t;
                    t += i, n += i
                }
                for (; Ft(e.doc, n) != n;) {
                    if (o == (r < 0 ? 0 : a.length - 1)) return null;
                    n += r * a[o - (r < 0 ? 1 : 0)].size, o += r
                }
                return { index: o, lineN: n }
            }

            function or(e) {
                for (var t = e.display.view, n = 0, r = 0; r < t.length; r++) {
                    var i = t[r];
                    i.hidden || i.node && !i.changes || ++n
                }
                return n
            }

            function ar(e) { e.display.input.showSelection(e.display.input.prepareSelection()) }

            function lr(e, t) {
                void 0 === t && (t = !0);
                for (var n, r, i = e.doc, o = {}, a = o.cursors = document.createDocumentFragment(), l = o.selection = document.createDocumentFragment(), s = 0; s < i.sel.ranges.length; s++) !t && s == i.sel.primIndex || ((n = i.sel.ranges[s]).from().line >= e.display.viewTo || n.to().line < e.display.viewFrom || (((r = n.empty()) || e.options.showCursorWhenSelecting) && sr(e, n.head, a), r || function(i, e, t) {
                    var n = i.display,
                        o = i.doc,
                        a = document.createDocumentFragment(),
                        r = bn(i.display),
                        S = r.left,
                        O = Math.max(n.sizerWidth, xn(i) - n.sizer.offsetLeft) - r.right,
                        k = "ltr" == o.direction;

                    function M(e, t, n, r) { t < 0 && (t = 0), t = Math.round(t), r = Math.round(r), a.appendChild(P("div", null, "CodeMirror-selected", "position: absolute; left: " + e + "px;\n                             top: " + t + "px; width: " + (null == n ? O - e : n) + "px;\n                             height: " + (r - t) + "px")) }

                    function l(n, g, m) {
                        var y, v, r = Xe(o, n),
                            b = r.text.length;

                        function w(e, t) { return Wn(i, rt(n, e), "div", r, t) }

                        function x(e, t, n) { e = Gn(i, r, null, e), t = "ltr" == t == ("after" == n) ? "left" : "right"; return w("after" == n ? e.begin : e.end - (/\s/.test(r.text.charAt(e.end - 1)) ? 2 : 1), t)[t] }
                        var C = me(r, o.direction);
                        return function(e, t, n, r) {
                            if (!e) return r(t, n, "ltr", 0);
                            for (var i = !1, o = 0; o < e.length; ++o) {
                                var a = e[o];
                                (a.from < n && a.to > t || t == n && a.to == t) && (r(Math.max(a.from, t), Math.min(a.to, n), 1 == a.level ? "rtl" : "ltr", o), i = !0)
                            }
                            i || r(t, n, "ltr")
                        }(C, g || 0, null == m ? b : m, function(e, t, n, r) {
                            var i, o, a, l, s = "ltr" == n,
                                c = w(e, s ? "left" : "right"),
                                u = w(t - 1, s ? "right" : "left"),
                                f = null == g && 0 == e,
                                d = null == m && t == b,
                                p = 0 == r,
                                h = !C || r == C.length - 1;
                            u.top - c.top <= 3 ? (i = (k ? d : f) && h, r = (k ? f : d) && p ? S : (s ? c : u).left, i = i ? O : (s ? u : c).right, M(r, c.top, i - r, c.bottom)) : (n = s ? (o = k && f && p ? S : c.left, a = k ? O : x(e, n, "before"), l = k ? S : x(t, n, "after"), k && d && h ? O : u.right) : (o = k ? x(e, n, "before") : S, a = !k && f && p ? O : c.right, l = !k && d && h ? S : u.left, k ? x(t, n, "after") : O), M(o, c.top, a - o, c.bottom), c.bottom < u.top && M(S, c.bottom, null, u.top), M(l, u.top, n - l, u.bottom)), (!y || cr(c, y) < 0) && (y = c), cr(u, y) < 0 && (y = u), (!v || cr(c, v) < 0) && (v = c), cr(u, v) < 0 && (v = u)
                        }), { start: y, end: v }
                    }
                    var s = e.from(),
                        n = e.to();
                    s.line == n.line ? l(s.line, s.ch, n.ch) : (r = Xe(o, s.line), e = Xe(o, n.line), e = Wt(r) == Wt(e), r = l(s.line, s.ch, e ? r.text.length + 1 : null).end, n = l(n.line, e ? 0 : null, n.ch).start, e && (r.top < n.top - 2 ? (M(r.right, r.top, null, r.bottom), M(S, n.top, n.left, n.bottom)) : M(r.right, r.top, n.left - r.right, r.bottom)), r.bottom < n.top && M(S, r.bottom, null, n.top));
                    t.appendChild(a)
                }(e, n, l)));
                return o
            }

            function sr(e, t, n) {
                var r = Fn(e, t, "div", null, null, !e.options.singleCursorHeightPerLine),
                    t = n.appendChild(P("div", " ", "CodeMirror-cursor"));
                t.style.left = r.left + "px", t.style.top = r.top + "px", t.style.height = Math.max(0, r.bottom - r.top) * e.options.cursorHeight + "px", r.other && ((n = n.appendChild(P("div", " ", "CodeMirror-cursor CodeMirror-secondarycursor"))).style.display = "", n.style.left = r.other.left + "px", n.style.top = r.other.top + "px", n.style.height = .85 * (r.other.bottom - r.other.top) + "px")
            }

            function cr(e, t) { return e.top - t.top || e.left - t.left }

            function ur(e) {
                var t, n;
                e.state.focused && (t = e.display, clearInterval(t.blinker), n = !0, t.cursorDiv.style.visibility = "", 0 < e.options.cursorBlinkRate ? t.blinker = setInterval(function() { e.hasFocus() || hr(e), t.cursorDiv.style.visibility = (n = !n) ? "" : "hidden" }, e.options.cursorBlinkRate) : e.options.cursorBlinkRate < 0 && (t.cursorDiv.style.visibility = "hidden"))
            }

            function fr(e) { e.hasFocus() || (e.display.input.focus(), e.state.focused || pr(e)) }

            function dr(e) { e.state.delayingBlurEvent = !0, setTimeout(function() { e.state.delayingBlurEvent && (e.state.delayingBlurEvent = !1, e.state.focused && hr(e)) }, 100) }

            function pr(e, t) { e.state.delayingBlurEvent && !e.state.draggingText && (e.state.delayingBlurEvent = !1), "nocursor" != e.options.readOnly && (e.state.focused || (xe(e, "focus", e, t), e.state.focused = !0, E(e.display.wrapper, "CodeMirror-focused"), e.curOp || e.display.selForContextMenu == e.doc.sel || (e.display.input.reset(), p && setTimeout(function() { return e.display.input.reset(!0) }, 20)), e.display.input.receivedFocus()), ur(e)) }

            function hr(e, t) { e.state.delayingBlurEvent || (e.state.focused && (xe(e, "blur", e, t), e.state.focused = !1, S(e.display.wrapper, "CodeMirror-focused")), clearInterval(e.display.blinker), setTimeout(function() { e.state.focused || (e.display.shift = !1) }, 150)) }

            function gr(e) {
                for (var t = e.display, n = t.lineDiv.offsetTop, r = 0; r < t.view.length; r++) {
                    var i, o = t.view[r],
                        a = e.options.lineWrapping,
                        l = void 0,
                        s = 0;
                    if (!o.hidden) {
                        w && y < 8 ? (l = (i = o.node.offsetTop + o.node.offsetHeight) - n, n = i) : (l = (c = o.node.getBoundingClientRect()).bottom - c.top, !a && o.text.firstChild && (s = o.text.firstChild.getBoundingClientRect().right - c.left - 1));
                        var c = o.line.height - l;
                        if ((.005 < c || c < -.005) && (Je(o.line, l), mr(o.line), o.rest))
                            for (var u = 0; u < o.rest.length; u++) mr(o.rest[u]);
                        s > e.display.sizerWidth && ((s = Math.ceil(s / $n(e.display))) > e.display.maxLineLength && (e.display.maxLineLength = s, e.display.maxLine = o.line, e.display.maxLineChanged = !0))
                    }
                }
            }

            function mr(e) {
                if (e.widgets)
                    for (var t = 0; t < e.widgets.length; ++t) {
                        var n = e.widgets[t],
                            r = n.node.parentNode;
                        r && (n.height = r.offsetHeight)
                    }
            }

            function yr(e, t, n) {
                var r = n && null != n.top ? Math.max(0, n.top) : e.scroller.scrollTop,
                    r = Math.floor(r - yn(e)),
                    i = n && null != n.bottom ? n.bottom : r + e.wrapper.clientHeight,
                    o = et(t, r),
                    r = et(t, i);
                return n && n.ensure && (i = n.ensure.from.line, n = n.ensure.to.line, i < o ? r = et(t, Ut(Xe(t, o = i)) + e.wrapper.clientHeight) : Math.min(n, t.lastLine()) >= r && (o = et(t, Ut(Xe(t, n)) - e.wrapper.clientHeight), r = n)), { from: o, to: Math.max(r, o + 1) }
            }

            function vr(e, t) {
                var n = e.display,
                    r = Kn(e.display);
                t.top < 0 && (t.top = 0);
                var i = (e.curOp && null != e.curOp.scrollTop ? e.curOp : n.scroller).scrollTop,
                    o = Cn(e),
                    a = {};
                t.bottom - t.top > o && (t.bottom = t.top + o);
                var l = e.doc.height + vn(n),
                    s = t.top < r,
                    r = t.bottom > l - r;
                t.top < i ? a.scrollTop = s ? 0 : t.top : t.bottom > i + o && ((c = Math.min(t.top, (r ? l : t.bottom) - o)) != i && (a.scrollTop = c));
                var i = e.options.fixedGutter ? 0 : n.gutters.offsetWidth,
                    c = e.curOp && null != e.curOp.scrollLeft ? e.curOp.scrollLeft : n.scroller.scrollLeft - i,
                    e = xn(e) - n.gutters.offsetWidth,
                    n = t.right - t.left > e;
                return n && (t.right = t.left + e), t.left < 10 ? a.scrollLeft = 0 : t.left < c ? a.scrollLeft = Math.max(0, t.left + i - (n ? 0 : 10)) : t.right > e + c - 3 && (a.scrollLeft = t.right + (n ? 0 : 10) - e), a
            }

            function br(e, t) { null != t && (Cr(e), e.curOp.scrollTop = (null == e.curOp.scrollTop ? e.doc : e.curOp).scrollTop + t) }

            function wr(e) {
                Cr(e);
                var t = e.getCursor();
                e.curOp.scrollToPos = { from: t, to: t, margin: e.options.cursorScrollMargin }
            }

            function xr(e, t, n) { null == t && null == n || Cr(e), null != t && (e.curOp.scrollLeft = t), null != n && (e.curOp.scrollTop = n) }

            function Cr(e) {
                var t = e.curOp.scrollToPos;
                t && (e.curOp.scrollToPos = null, Sr(e, zn(e, t.from), zn(e, t.to), t.margin))
            }

            function Sr(e, t, n, r) {
                r = vr(e, { left: Math.min(t.left, n.left), top: Math.min(t.top, n.top) - r, right: Math.max(t.right, n.right), bottom: Math.max(t.bottom, n.bottom) + r });
                xr(e, r.scrollLeft, r.scrollTop)
            }

            function Or(e, t) { Math.abs(e.doc.scrollTop - t) < 2 || (d || Vr(e, { top: t }), kr(e, t, !0), d && Vr(e), Wr(e, 100)) }

            function kr(e, t, n) { t = Math.max(0, Math.min(e.display.scroller.scrollHeight - e.display.scroller.clientHeight, t)), e.display.scroller.scrollTop == t && !n || (e.doc.scrollTop = t, e.display.scrollbars.setScrollTop(t), e.display.scroller.scrollTop != t && (e.display.scroller.scrollTop = t)) }

            function Mr(e, t, n, r) { t = Math.max(0, Math.min(t, e.display.scroller.scrollWidth - e.display.scroller.clientWidth)), (n ? t == e.doc.scrollLeft : Math.abs(e.doc.scrollLeft - t) < 2) && !r || (e.doc.scrollLeft = t, Kr(e), e.display.scroller.scrollLeft != t && (e.display.scroller.scrollLeft = t), e.display.scrollbars.setScrollLeft(t)) }

            function Pr(e) {
                var t = e.display,
                    n = t.gutters.offsetWidth,
                    r = Math.round(e.doc.height + vn(e.display));
                return { clientHeight: t.scroller.clientHeight, viewHeight: t.wrapper.clientHeight, scrollWidth: t.scroller.scrollWidth, clientWidth: t.scroller.clientWidth, viewWidth: t.wrapper.clientWidth, barLeft: e.options.fixedGutter ? n : 0, docHeight: r, scrollHeight: r + wn(e) + t.barHeight, nativeBarWidth: t.nativeBarWidth, gutterWidth: n }
            }
            e = function(e, t, n) {
                this.cm = n;
                var r = this.vert = P("div", [P("div", null, null, "min-width: 1px")], "CodeMirror-vscrollbar"),
                    i = this.horiz = P("div", [P("div", null, null, "height: 100%; min-height: 1px")], "CodeMirror-hscrollbar");
                r.tabIndex = i.tabIndex = -1, e(r), e(i), ve(r, "scroll", function() { r.clientHeight && t(r.scrollTop, "vertical") }), ve(i, "scroll", function() { i.clientWidth && t(i.scrollLeft, "horizontal") }), this.checkedZeroWidth = !1, w && y < 8 && (this.horiz.style.minHeight = this.vert.style.minWidth = "18px")
            };
            e.prototype.update = function(e) {
                var t, n = e.scrollWidth > e.clientWidth + 1,
                    r = e.scrollHeight > e.clientHeight + 1,
                    i = e.nativeBarWidth;
                return r ? (this.vert.style.display = "block", this.vert.style.bottom = n ? i + "px" : "0", t = e.viewHeight - (n ? i : 0), this.vert.firstChild.style.height = Math.max(0, e.scrollHeight - e.clientHeight + t) + "px") : (this.vert.style.display = "", this.vert.firstChild.style.height = "0"), n ? (this.horiz.style.display = "block", this.horiz.style.right = r ? i + "px" : "0", this.horiz.style.left = e.barLeft + "px", t = e.viewWidth - e.barLeft - (r ? i : 0), this.horiz.firstChild.style.width = Math.max(0, e.scrollWidth - e.clientWidth + t) + "px") : (this.horiz.style.display = "", this.horiz.firstChild.style.width = "0"), !this.checkedZeroWidth && 0 < e.clientHeight && (0 == i && this.zeroWidthHack(), this.checkedZeroWidth = !0), { right: r ? i : 0, bottom: n ? i : 0 }
            }, e.prototype.setScrollLeft = function(e) { this.horiz.scrollLeft != e && (this.horiz.scrollLeft = e), this.disableHoriz && this.enableZeroWidthBar(this.horiz, this.disableHoriz, "horiz") }, e.prototype.setScrollTop = function(e) { this.vert.scrollTop != e && (this.vert.scrollTop = e), this.disableVert && this.enableZeroWidthBar(this.vert, this.disableVert, "vert") }, e.prototype.zeroWidthHack = function() {
                var e = g && !a ? "12px" : "18px";
                this.horiz.style.height = this.vert.style.width = e, this.horiz.style.pointerEvents = this.vert.style.pointerEvents = "none", this.disableHoriz = new I, this.disableVert = new I
            }, e.prototype.enableZeroWidthBar = function(n, r, i) {
                n.style.pointerEvents = "auto", r.set(1e3, function e() {
                    var t = n.getBoundingClientRect();
                    ("vert" == i ? document.elementFromPoint(t.right - 1, (t.top + t.bottom) / 2) : document.elementFromPoint((t.right + t.left) / 2, t.bottom - 1)) != n ? n.style.pointerEvents = "none" : r.set(1e3, e)
                })
            }, e.prototype.clear = function() {
                var e = this.horiz.parentNode;
                e.removeChild(this.horiz), e.removeChild(this.vert)
            };
            r = function() {};

            function Lr(e, t) {
                t = t || Pr(e);
                var n = e.display.barWidth,
                    r = e.display.barHeight;
                Tr(e, t);
                for (var i = 0; i < 4 && n != e.display.barWidth || r != e.display.barHeight; i++) n != e.display.barWidth && e.options.lineWrapping && gr(e), Tr(e, Pr(e)), n = e.display.barWidth, r = e.display.barHeight
            }

            function Tr(e, t) {
                var n = e.display,
                    r = n.scrollbars.update(t);
                n.sizer.style.paddingRight = (n.barWidth = r.right) + "px", n.sizer.style.paddingBottom = (n.barHeight = r.bottom) + "px", n.heightForcer.style.borderBottom = r.bottom + "px solid transparent", r.right && r.bottom ? (n.scrollbarFiller.style.display = "block", n.scrollbarFiller.style.height = r.bottom + "px", n.scrollbarFiller.style.width = r.right + "px") : n.scrollbarFiller.style.display = "", r.bottom && e.options.coverGutterNextToScrollbar && e.options.fixedGutter ? (n.gutterFiller.style.display = "block", n.gutterFiller.style.height = r.bottom + "px", n.gutterFiller.style.width = t.gutterWidth + "px") : n.gutterFiller.style.display = ""
            }
            r.prototype.update = function() { return { bottom: 0, right: 0 } }, r.prototype.setScrollLeft = function() {}, r.prototype.setScrollTop = function() {}, r.prototype.clear = function() {};
            var Er = { native: e, null: r };

            function Nr(n) {
                n.display.scrollbars && (n.display.scrollbars.clear(), n.display.scrollbars.addClass && S(n.display.wrapper, n.display.scrollbars.addClass)), n.display.scrollbars = new Er[n.options.scrollbarStyle](function(e) { n.display.wrapper.insertBefore(e, n.display.scrollbarFiller), ve(e, "mousedown", function() { n.state.focused && setTimeout(function() { return n.display.input.focus() }, 0) }), e.setAttribute("cm-not-content", "true") }, function(e, t) {
                    ("horizontal" == t ? Mr : Or)(n, e)
                }, n), n.display.scrollbars.addClass && E(n.display.wrapper, n.display.scrollbars.addClass)
            }
            var jr = 0;

            function Ar(e) { e.curOp = { cm: e, viewChanged: !1, startHeight: e.doc.height, forceUpdate: !1, updateInput: 0, typing: !1, changeObjs: null, cursorActivityHandlers: null, cursorActivityCalled: 0, selectionChanged: !1, updateMaxLine: !1, scrollLeft: null, scrollTop: null, scrollToPos: null, focus: !1, id: ++jr }, e = e.curOp, nn ? nn.ops.push(e) : e.ownsGroup = nn = { ops: [e], delayedCallbacks: [] } }

            function _r(e) {
                e = e.curOp;
                e && rn(e, function(e) {
                    for (var t = 0; t < e.ops.length; t++) e.ops[t].cm.curOp = null;
                    ! function(e) {
                        for (var t = e.ops, n = 0; n < t.length; n++) ! function(e) {
                            var t = e.cm,
                                n = t.display;
                            (function(e) { var t = e.display;!t.scrollbarsClipped && t.scroller.offsetWidth && (t.nativeBarWidth = t.scroller.offsetWidth - t.scroller.clientWidth, t.heightForcer.style.height = wn(e) + "px", t.sizer.style.marginBottom = -t.nativeBarWidth + "px", t.sizer.style.borderRightWidth = wn(e) + "px", t.scrollbarsClipped = !0) })(t), e.updateMaxLine && Gt(t);
                            e.mustUpdate = e.viewChanged || e.forceUpdate || null != e.scrollTop || e.scrollToPos && (e.scrollToPos.from.line < n.viewFrom || e.scrollToPos.to.line >= n.viewTo) || n.maxLineChanged && t.options.lineWrapping, e.update = e.mustUpdate && new zr(t, e.mustUpdate && { top: e.scrollTop, ensure: e.scrollToPos }, e.forceUpdate)
                        }(t[n]);
                        for (var r = 0; r < t.length; r++) ! function(e) { e.updatedDisplay = e.mustUpdate && Br(e.cm, e.update) }(t[r]);
                        for (var i = 0; i < t.length; i++) ! function(e) {
                            var t = e.cm,
                                n = t.display;
                            e.updatedDisplay && gr(t);
                            e.barMeasure = Pr(t), n.maxLineChanged && !t.options.lineWrapping && (e.adjustWidthTo = On(t, n.maxLine, n.maxLine.text.length).left + 3, t.display.sizerWidth = e.adjustWidthTo, e.barMeasure.scrollWidth = Math.max(n.scroller.clientWidth, n.sizer.offsetLeft + e.adjustWidthTo + wn(t) + t.display.barWidth), e.maxScrollLeft = Math.max(0, n.sizer.offsetLeft + e.adjustWidthTo - xn(t)));
                            (e.updatedDisplay || e.selectionChanged) && (e.preparedSelection = n.input.prepareSelection())
                        }(t[i]);
                        for (var o = 0; o < t.length; o++) ! function(e) {
                            var t = e.cm;
                            null != e.adjustWidthTo && (t.display.sizer.style.minWidth = e.adjustWidthTo + "px", e.maxScrollLeft < t.doc.scrollLeft && Mr(t, Math.min(t.display.scroller.scrollLeft, e.maxScrollLeft), !0), t.display.maxLineChanged = !1);
                            var n = e.focus && e.focus == T();
                            e.preparedSelection && t.display.input.showSelection(e.preparedSelection, n);
                            !e.updatedDisplay && e.startHeight == t.doc.height || Lr(t, e.barMeasure);
                            e.updatedDisplay && qr(t, e.barMeasure);
                            e.selectionChanged && ur(t);
                            t.state.focused && e.updateInput && t.display.input.reset(e.typing);
                            n && fr(e.cm)
                        }(t[o]);
                        for (var a = 0; a < t.length; a++) ! function(e) {
                            var t = e.cm,
                                n = t.display,
                                r = t.doc;
                            e.updatedDisplay && Ur(t, e.update);
                            null == n.wheelStartX || null == e.scrollTop && null == e.scrollLeft && !e.scrollToPos || (n.wheelStartX = n.wheelStartY = null);
                            null != e.scrollTop && kr(t, e.scrollTop, e.forceScroll);
                            null != e.scrollLeft && Mr(t, e.scrollLeft, !0, !0); {
                                var i;
                                e.scrollToPos && (i = function(e, t, n, r) {
                                    null == r && (r = 0), e.options.lineWrapping || t != n || (n = "before" == (t = t.ch ? rt(t.line, "before" == t.sticky ? t.ch - 1 : t.ch, "after") : t).sticky ? rt(t.line, t.ch + 1, "before") : t);
                                    for (var i = 0; i < 5; i++) {
                                        var o, a = !1,
                                            l = Fn(e, t),
                                            s = n && n != t ? Fn(e, n) : l,
                                            c = vr(e, o = { left: Math.min(l.left, s.left), top: Math.min(l.top, s.top) - r, right: Math.max(l.left, s.left), bottom: Math.max(l.bottom, s.bottom) + r }),
                                            l = e.doc.scrollTop,
                                            s = e.doc.scrollLeft;
                                        if (null != c.scrollTop && (Or(e, c.scrollTop), 1 < Math.abs(e.doc.scrollTop - l) && (a = !0)), null != c.scrollLeft && (Mr(e, c.scrollLeft), 1 < Math.abs(e.doc.scrollLeft - s) && (a = !0)), !a) break
                                    }
                                    return o
                                }(t, ut(r, e.scrollToPos.from), ut(r, e.scrollToPos.to), e.scrollToPos.margin), function(e, t) {
                                    var n, r, i;
                                    Ce(e, "scrollCursorIntoView") || (r = (n = e.display).sizer.getBoundingClientRect(), i = null, t.top + r.top < 0 ? i = !0 : t.bottom + r.top > (window.innerHeight || document.documentElement.clientHeight) && (i = !1), null == i || c || (t = P("div", "​", null, "position: absolute;\n                         top: " + (t.top - n.viewOffset - yn(e.display)) + "px;\n                         height: " + (t.bottom - t.top + wn(e) + n.barHeight) + "px;\n                         left: " + t.left + "px; width: " + Math.max(2, t.right - t.left) + "px;"), e.display.lineSpace.appendChild(t), t.scrollIntoView(i), e.display.lineSpace.removeChild(t)))
                                }(t, i))
                            }
                            var o = e.maybeHiddenMarkers,
                                a = e.maybeUnhiddenMarkers;
                            if (o)
                                for (var l = 0; l < o.length; ++l) o[l].lines.length || xe(o[l], "hide");
                            if (a)
                                for (var s = 0; s < a.length; ++s) a[s].lines.length && xe(a[s], "unhide");
                            n.wrapper.offsetHeight && (r.scrollTop = t.display.scroller.scrollTop);
                            e.changeObjs && xe(t, "changes", t, e.changeObjs);
                            e.update && e.update.finish()
                        }(t[a])
                    }(e)
                })
            }

            function Rr(e, t) {
                if (e.curOp) return t();
                Ar(e);
                try { return t() } finally { _r(e) }
            }

            function Dr(e, t) {
                return function() {
                    if (e.curOp) return t.apply(e, arguments);
                    Ar(e);
                    try { return t.apply(e, arguments) } finally { _r(e) }
                }
            }

            function Ir(e) {
                return function() {
                    if (this.curOp) return e.apply(this, arguments);
                    Ar(this);
                    try { return e.apply(this, arguments) } finally { _r(this) }
                }
            }

            function Hr(t) {
                return function() {
                    var e = this.cm;
                    if (!e || e.curOp) return t.apply(this, arguments);
                    Ar(e);
                    try { return t.apply(this, arguments) } finally { _r(e) }
                }
            }

            function Wr(e, t) { e.doc.highlightFrontier < e.display.viewTo && e.state.highlight.set(t, _(Fr, e)) }

            function Fr(a) {
                var l, s, c, u = a.doc;
                u.highlightFrontier >= a.display.viewTo || (l = +new Date + a.options.workTime, s = mt(a, u.highlightFrontier), c = [], u.iter(s.line, Math.min(u.first + u.size, a.display.viewTo + 500), function(e) {
                    if (s.line >= a.display.viewFrom) {
                        var t = e.styles,
                            n = e.text.length > a.options.maxHighlightLength ? Ge(u.mode, s.state) : null,
                            r = ht(a, e, s, !0);
                        n && (s.state = n), e.styles = r.styles;
                        n = e.styleClasses, r = r.classes;
                        r ? e.styleClasses = r : n && (e.styleClasses = null);
                        for (var i = !t || t.length != e.styles.length || n != r && (!n || !r || n.bgClass != r.bgClass || n.textClass != r.textClass), o = 0; !i && o < t.length; ++o) i = t[o] != e.styles[o];
                        i && c.push(s.line), e.stateAfter = s.save(), s.nextLine()
                    } else e.text.length <= a.options.maxHighlightLength && yt(a, e.text, s), e.stateAfter = s.line % 5 == 0 ? s.save() : null, s.nextLine();
                    if (+new Date > l) return Wr(a, a.options.workDelay), !0
                }), u.highlightFrontier = s.line, u.modeFrontier = Math.max(u.modeFrontier, s.line), c.length && Rr(a, function() { for (var e = 0; e < c.length; e++) nr(a, c[e], "text") }))
            }
            var zr = function(e, t, n) {
                var r = e.display;
                this.viewport = t, this.visible = yr(r, e.doc, t), this.editorIsHidden = !r.wrapper.offsetWidth, this.wrapperHeight = r.wrapper.clientHeight, this.wrapperWidth = r.wrapper.clientWidth, this.oldDisplayWidth = xn(e), this.force = n, this.dims = Xn(e), this.events = []
            };

            function Br(e, t) {
                var n = e.display,
                    r = e.doc;
                if (t.editorIsHidden) return rr(e), !1;
                if (!t.force && t.visible.from >= n.viewFrom && t.visible.to <= n.viewTo && (null == n.updateLineNumbers || n.updateLineNumbers >= n.viewTo) && n.renderedView == n.view && 0 == or(e)) return !1;
                $r(e) && (rr(e), t.dims = Xn(e));
                var i = r.first + r.size,
                    o = Math.max(t.visible.from - e.options.viewportMargin, r.first),
                    a = Math.min(i, t.visible.to + e.options.viewportMargin);
                n.viewFrom < o && o - n.viewFrom < 20 && (o = Math.max(r.first, n.viewFrom)), n.viewTo > a && n.viewTo - a < 20 && (a = Math.min(i, n.viewTo)), kt && (o = Ft(e.doc, o), a = zt(e.doc, a));
                var l = o != n.viewFrom || a != n.viewTo || n.lastWrapHeight != t.wrapperHeight || n.lastWrapWidth != t.wrapperWidth;
                r = o, i = a, 0 == (a = (o = e).display).view.length || r >= a.viewTo || i <= a.viewFrom ? (a.view = tn(o, r, i), a.viewFrom = r) : (a.viewFrom > r ? a.view = tn(o, r, a.viewFrom).concat(a.view) : a.viewFrom < r && (a.view = a.view.slice(er(o, r))), a.viewFrom = r, a.viewTo < i ? a.view = a.view.concat(tn(o, a.viewTo, i)) : a.viewTo > i && (a.view = a.view.slice(0, er(o, i)))), a.viewTo = i, n.viewOffset = Ut(Xe(e.doc, n.viewFrom)), e.display.mover.style.top = n.viewOffset + "px";
                o = or(e);
                if (!l && 0 == o && !t.force && n.renderedView == n.view && (null == n.updateLineNumbers || n.updateLineNumbers >= n.viewTo)) return !1;
                a = function(e) { if (e.hasFocus()) return null; var t = T(); if (!t || !L(e.display.lineDiv, t)) return null; var n = { activeElt: t }; return !window.getSelection || (t = window.getSelection()).anchorNode && t.extend && L(e.display.lineDiv, t.anchorNode) && (n.anchorNode = t.anchorNode, n.anchorOffset = t.anchorOffset, n.focusNode = t.focusNode, n.focusOffset = t.focusOffset), n }(e);
                return 4 < o && (n.lineDiv.style.display = "none"),
                    function(n, e, t) {
                        var r = n.display,
                            i = n.options.lineNumbers,
                            o = r.lineDiv,
                            a = o.firstChild;

                        function l(e) { var t = e.nextSibling; return p && g && n.display.currentWheelTarget == e ? e.style.display = "none" : e.parentNode.removeChild(e), t }
                        for (var s = r.view, c = r.viewFrom, u = 0; u < s.length; u++) {
                            var f = s[u];
                            if (!f.hidden)
                                if (f.node && f.node.parentNode == o) {
                                    for (; a != f.node;) a = l(a);
                                    var d = i && null != e && e <= c && f.lineNumber;
                                    f.changes && (-1 < H(f.changes, "gutter") && (d = !1), sn(n, f, c, t)), d && (O(f.lineNumber), f.lineNumber.appendChild(document.createTextNode(nt(n.options, c)))), a = f.node.nextSibling
                                } else {
                                    d = function(e, t, n, r) { var i = un(e, t); return t.text = t.node = i.pre, i.bgClass && (t.bgClass = i.bgClass), i.textClass && (t.textClass = i.textClass), fn(e, t), dn(e, t, n, r), pn(e, t, r), t.node }(n, f, c, t);
                                    o.insertBefore(d, a)
                                }
                            c += f.size
                        }
                        for (; a;) a = l(a)
                    }(e, n.updateLineNumbers, t.dims), 4 < o && (n.lineDiv.style.display = ""), n.renderedView = n.view, (i = a) && i.activeElt && i.activeElt != T() && (i.activeElt.focus(), !/^(INPUT|TEXTAREA)$/.test(i.activeElt.nodeName) && i.anchorNode && L(document.body, i.anchorNode) && L(document.body, i.focusNode) && (o = window.getSelection(), (a = document.createRange()).setEnd(i.anchorNode, i.anchorOffset), a.collapse(!1), o.removeAllRanges(), o.addRange(a), o.extend(i.focusNode, i.focusOffset))), O(n.cursorDiv), O(n.selectionDiv), n.gutters.style.height = n.sizer.style.minHeight = 0, l && (n.lastWrapHeight = t.wrapperHeight, n.lastWrapWidth = t.wrapperWidth, Wr(e, 400)), !(n.updateLineNumbers = null)
            }

            function Ur(e, t) {
                for (var n = t.viewport, r = !0;; r = !1) {
                    if (r && e.options.lineWrapping && t.oldDisplayWidth != xn(e)) r && (t.visible = yr(e.display, e.doc, n));
                    else if (n && null != n.top && (n = { top: Math.min(e.doc.height + vn(e.display) - Cn(e), n.top) }), t.visible = yr(e.display, e.doc, n), t.visible.from >= e.display.viewFrom && t.visible.to <= e.display.viewTo) break;
                    if (!Br(e, t)) break;
                    gr(e);
                    var i = Pr(e);
                    ar(e), Lr(e, i), qr(e, i), t.force = !1
                }
                t.signal(e, "update", e), e.display.viewFrom == e.display.reportedViewFrom && e.display.viewTo == e.display.reportedViewTo || (t.signal(e, "viewportChange", e, e.display.viewFrom, e.display.viewTo), e.display.reportedViewFrom = e.display.viewFrom, e.display.reportedViewTo = e.display.viewTo)
            }

            function Vr(e, t) {
                var n = new zr(e, t);
                Br(e, n) && (gr(e), Ur(e, n), t = Pr(e), ar(e), Lr(e, t), qr(e, t), n.finish())
            }

            function Gr(e) {
                var t = e.gutters.offsetWidth;
                e.sizer.style.marginLeft = t + "px"
            }

            function qr(e, t) { e.display.sizer.style.minHeight = t.docHeight + "px", e.display.heightForcer.style.top = t.docHeight + "px", e.display.gutters.style.height = t.docHeight + e.display.barHeight + wn(e) + "px" }

            function Kr(e) {
                var t = e.display,
                    n = t.view;
                if (t.alignWidgets || t.gutters.firstChild && e.options.fixedGutter) {
                    for (var r = Yn(t) - t.scroller.scrollLeft + e.doc.scrollLeft, i = t.gutters.offsetWidth, o = r + "px", a = 0; a < n.length; a++)
                        if (!n[a].hidden) {
                            e.options.fixedGutter && (n[a].gutter && (n[a].gutter.style.left = o), n[a].gutterBackground && (n[a].gutterBackground.style.left = o));
                            var l = n[a].alignable;
                            if (l)
                                for (var s = 0; s < l.length; s++) l[s].style.left = o
                        }
                    e.options.fixedGutter && (t.gutters.style.left = r + i + "px")
                }
            }

            function $r(e) {
                if (e.options.lineNumbers) {
                    var t = e.doc,
                        n = nt(e.options, t.first + t.size - 1),
                        r = e.display;
                    if (n.length != r.lineNumChars) {
                        var i = r.measure.appendChild(P("div", [P("div", n)], "CodeMirror-linenumber CodeMirror-gutter-elt")),
                            t = i.firstChild.offsetWidth,
                            i = i.offsetWidth - t;
                        return r.lineGutter.style.width = "", r.lineNumInnerWidth = Math.max(t, r.lineGutter.offsetWidth - i) + 1, r.lineNumWidth = r.lineNumInnerWidth + i, r.lineNumChars = r.lineNumInnerWidth ? n.length : -1, r.lineGutter.style.width = r.lineNumWidth + "px", Gr(e.display), 1
                    }
                }
            }

            function Xr(e, t) {
                for (var n = [], r = !1, i = 0; i < e.length; i++) {
                    var o = e[i],
                        a = null;
                    if ("string" != typeof o && (a = o.style, o = o.className), "CodeMirror-linenumbers" == o) {
                        if (!t) continue;
                        r = !0
                    }
                    n.push({ className: o, style: a })
                }
                return t && !r && n.push({ className: "CodeMirror-linenumbers", style: null }), n
            }

            function Yr(e) {
                var t = e.gutters,
                    n = e.gutterSpecs;
                O(t), e.lineGutter = null;
                for (var r = 0; r < n.length; ++r) {
                    var i = n[r],
                        o = i.className,
                        a = i.style,
                        i = t.appendChild(P("div", null, "CodeMirror-gutter " + o));
                    a && (i.style.cssText = a), "CodeMirror-linenumbers" == o && ((e.lineGutter = i).style.width = (e.lineNumWidth || 1) + "px")
                }
                t.style.display = n.length ? "" : "none", Gr(e)
            }

            function Qr(e) { Yr(e.display), tr(e), Kr(e) }

            function Jr(e, t, n, r) {
                var i = this;
                this.input = n, i.scrollbarFiller = P("div", null, "CodeMirror-scrollbar-filler"), i.scrollbarFiller.setAttribute("cm-not-content", "true"), i.gutterFiller = P("div", null, "CodeMirror-gutter-filler"), i.gutterFiller.setAttribute("cm-not-content", "true"), i.lineDiv = M("div", null, "CodeMirror-code"), i.selectionDiv = P("div", null, null, "position: relative; z-index: 1"), i.cursorDiv = P("div", null, "CodeMirror-cursors"), i.measure = P("div", null, "CodeMirror-measure"), i.lineMeasure = P("div", null, "CodeMirror-measure"), i.lineSpace = M("div", [i.measure, i.lineMeasure, i.selectionDiv, i.cursorDiv, i.lineDiv], null, "position: relative; outline: none");
                var o = M("div", [i.lineSpace], "CodeMirror-lines");
                i.mover = P("div", [o], null, "position: relative"), i.sizer = P("div", [i.mover], "CodeMirror-sizer"), i.sizerWidth = null, i.heightForcer = P("div", null, null, "position: absolute; height: " + W + "px; width: 1px;"), i.gutters = P("div", null, "CodeMirror-gutters"), i.lineGutter = null, i.scroller = P("div", [i.sizer, i.heightForcer, i.gutters], "CodeMirror-scroll"), i.scroller.setAttribute("tabIndex", "-1"), i.wrapper = P("div", [i.scrollbarFiller, i.gutterFiller, i.scroller], "CodeMirror"), w && y < 8 && (i.gutters.style.zIndex = -1, i.scroller.style.paddingRight = 0), p || d && f || (i.scroller.draggable = !0), e && (e.appendChild ? e.appendChild(i.wrapper) : e(i.wrapper)), i.viewFrom = i.viewTo = t.first, i.reportedViewFrom = i.reportedViewTo = t.first, i.view = [], i.renderedView = null, i.externalMeasured = null, i.viewOffset = 0, i.lastWrapHeight = i.lastWrapWidth = 0, i.updateLineNumbers = null, i.nativeBarWidth = i.barHeight = i.barWidth = 0, i.scrollbarsClipped = !1, i.lineNumWidth = i.lineNumInnerWidth = i.lineNumChars = null, i.alignWidgets = !1, i.cachedCharWidth = i.cachedTextHeight = i.cachedPaddingH = null, i.maxLine = null, i.maxLineLength = 0, i.maxLineChanged = !1, i.wheelDX = i.wheelDY = i.wheelStartX = i.wheelStartY = null, i.shift = !1, i.selForContextMenu = null, i.activeTouch = null, i.gutterSpecs = Xr(r.gutters, r.lineNumbers), Yr(i), n.init(i)
            }
            zr.prototype.signal = function(e, t) { Oe(e, t) && this.events.push(arguments) }, zr.prototype.finish = function() { for (var e = 0; e < this.events.length; e++) xe.apply(null, this.events[e]) };
            var Zr = 0,
                ei = null;

            function ti(e) {
                var t = e.wheelDeltaX,
                    n = e.wheelDeltaY;
                return null == t && e.detail && e.axis == e.HORIZONTAL_AXIS && (t = e.detail), null == n && e.detail && e.axis == e.VERTICAL_AXIS ? n = e.detail : null == n && (n = e.wheelDelta), { x: t, y: n }
            }

            function ni(e) { e = ti(e); return e.x *= ei, e.y *= ei, e }

            function ri(e, t) {
                var n = ti(t),
                    r = n.x,
                    i = n.y,
                    o = e.display,
                    a = o.scroller,
                    l = a.scrollWidth > a.clientWidth,
                    s = a.scrollHeight > a.clientHeight;
                if (r && l || i && s) {
                    if (i && g && p) e: for (var c = t.target, u = o.view; c != a; c = c.parentNode)
                        for (var f = 0; f < u.length; f++)
                            if (u[f].node == c) { e.display.currentWheelTarget = c; break e }
                    if (r && !d && !h && null != ei) return i && s && Or(e, Math.max(0, a.scrollTop + i * ei)), Mr(e, Math.max(0, a.scrollLeft + r * ei)), (!i || i && s) && Me(t), void(o.wheelStartX = null);
                    i && null != ei && (n = i * ei, s = (l = e.doc.scrollTop) + o.wrapper.clientHeight, n < 0 ? l = Math.max(0, l + n - 50) : s = Math.min(e.doc.height, s + n + 50), Vr(e, { top: l, bottom: s })), Zr < 20 && (null == o.wheelStartX ? (o.wheelStartX = a.scrollLeft, o.wheelStartY = a.scrollTop, o.wheelDX = r, o.wheelDY = i, setTimeout(function() {
                        var e, t;
                        null != o.wheelStartX && (t = a.scrollLeft - o.wheelStartX, t = (e = a.scrollTop - o.wheelStartY) && o.wheelDY && e / o.wheelDY || t && o.wheelDX && t / o.wheelDX, o.wheelStartX = o.wheelStartY = null, t && (ei = (ei * Zr + t) / (Zr + 1), ++Zr))
                    }, 200)) : (o.wheelDX += r, o.wheelDY += i))
                }
            }
            w ? ei = -.53 : d ? ei = 15 : o ? ei = -.7 : u && (ei = -1 / 3);
            var ii = function(e, t) { this.ranges = e, this.primIndex = t };
            ii.prototype.primary = function() { return this.ranges[this.primIndex] }, ii.prototype.equals = function(e) {
                if (e == this) return !0;
                if (e.primIndex != this.primIndex || e.ranges.length != this.ranges.length) return !1;
                for (var t = 0; t < this.ranges.length; t++) {
                    var n = this.ranges[t],
                        r = e.ranges[t];
                    if (!ot(n.anchor, r.anchor) || !ot(n.head, r.head)) return !1
                }
                return !0
            }, ii.prototype.deepCopy = function() { for (var e = [], t = 0; t < this.ranges.length; t++) e[t] = new oi(at(this.ranges[t].anchor), at(this.ranges[t].head)); return new ii(e, this.primIndex) }, ii.prototype.somethingSelected = function() {
                for (var e = 0; e < this.ranges.length; e++)
                    if (!this.ranges[e].empty()) return !0;
                return !1
            }, ii.prototype.contains = function(e, t) { t = t || e; for (var n = 0; n < this.ranges.length; n++) { var r = this.ranges[n]; if (0 <= it(t, r.from()) && it(e, r.to()) <= 0) return n } return -1 };
            var oi = function(e, t) { this.anchor = e, this.head = t };

            function ai(e, t, n) {
                var r = e && e.options.selectionsMayTouch,
                    e = t[n];
                t.sort(function(e, t) { return it(e.from(), t.from()) }), n = H(t, e);
                for (var i = 1; i < t.length; i++) {
                    var o, a = t[i],
                        l = t[i - 1],
                        s = it(l.to(), a.from());
                    (r && !a.empty() ? 0 < s : 0 <= s) && (o = st(l.from(), a.from()), s = lt(l.to(), a.to()), l = l.empty() ? a.from() == a.head : l.from() == l.head, i <= n && --n, t.splice(--i, 2, new oi(l ? s : o, l ? o : s)))
                }
                return new ii(t, n)
            }

            function li(e, t) { return new ii([new oi(e, t || e)], 0) }

            function si(e) { return e.text ? rt(e.from.line + e.text.length - 1, K(e.text).length + (1 == e.text.length ? e.from.ch : 0)) : e.to }

            function ci(e, t) {
                if (it(e, t.from) < 0) return e;
                if (it(e, t.to) <= 0) return si(t);
                var n = e.line + t.text.length - (t.to.line - t.from.line) - 1,
                    r = e.ch;
                return e.line == t.to.line && (r += si(t).ch - t.to.ch), rt(n, r)
            }

            function ui(e, t) {
                for (var n = [], r = 0; r < e.sel.ranges.length; r++) {
                    var i = e.sel.ranges[r];
                    n.push(new oi(ci(i.anchor, t), ci(i.head, t)))
                }
                return ai(e.cm, n, e.sel.primIndex)
            }

            function fi(e, t, n) { return e.line == t.line ? rt(n.line, e.ch - t.ch + n.ch) : rt(n.line + (e.line - t.line), e.ch) }

            function di(e) { e.doc.mode = Be(e.options, e.doc.modeOption), pi(e) }

            function pi(e) { e.doc.iter(function(e) { e.stateAfter && (e.stateAfter = null), e.styles && (e.styles = null) }), e.doc.modeFrontier = e.doc.highlightFrontier = e.doc.first, Wr(e, 100), e.state.modeGen++, e.curOp && tr(e) }

            function hi(e, t) { return 0 == t.from.ch && 0 == t.to.ch && "" == K(t.text) && (!e.cm || e.cm.options.wholeLineUpdateBefore) }

            function gi(e, o, t, a) {
                function i(e) { return t ? t[e] : null }

                function n(e, t, n) {
                    var r, i;
                    r = t, i = n, t = a, (n = e).text = r, n.stateAfter && (n.stateAfter = null), n.styles && (n.styles = null), null != n.order && (n.order = null), Et(n), Nt(n, i), (t = t ? t(n) : 1) != n.height && Je(n, t), an(e, "change", e, o)
                }

                function r(e, t) { for (var n = [], r = e; r < t; ++r) n.push(new qt(u[r], i(r), a)); return n }
                var l, s = o.from,
                    c = o.to,
                    u = o.text,
                    f = Xe(e, s.line),
                    d = Xe(e, c.line),
                    p = K(u),
                    h = i(u.length - 1),
                    g = c.line - s.line;
                o.full ? (e.insert(0, r(0, u.length)), e.remove(u.length, e.size - u.length)) : hi(e, o) ? (l = r(0, u.length - 1), n(d, d.text, h), g && e.remove(s.line, g), l.length && e.insert(s.line, l)) : f == d ? 1 == u.length ? n(f, f.text.slice(0, s.ch) + p + f.text.slice(c.ch), h) : ((l = r(1, u.length - 1)).push(new qt(p + f.text.slice(c.ch), h, a)), n(f, f.text.slice(0, s.ch) + u[0], i(0)), e.insert(s.line + 1, l)) : 1 == u.length ? (n(f, f.text.slice(0, s.ch) + u[0] + d.text.slice(c.ch), i(0)), e.remove(s.line + 1, g)) : (n(f, f.text.slice(0, s.ch) + u[0], i(0)), n(d, p + d.text.slice(c.ch), h), h = r(1, u.length - 1), 1 < g && e.remove(s.line + 1, g - 1), e.insert(s.line + 1, h)), an(e, "change", e, o)
            }

            function mi(e, l, s) {
                ! function e(t, n, r) {
                    if (t.linked)
                        for (var i = 0; i < t.linked.length; ++i) {
                            var o, a = t.linked[i];
                            a.doc != n && (o = r && a.sharedHist, s && !o || (l(a.doc, o), e(a.doc, t, o)))
                        }
                }(e, null, !0)
            }

            function yi(e, t) {
                if (t.cm) throw new Error("This document is already in use.");
                Jn((e.doc = t).cm = e), di(e), vi(e), e.options.lineWrapping || Gt(e), e.options.mode = t.modeOption, tr(e)
            }

            function vi(e) {
                ("rtl" == e.doc.direction ? E : S)(e.display.lineDiv, "CodeMirror-rtl")
            }

            function bi(e) { this.done = [], this.undone = [], this.undoDepth = e ? e.undoDepth : 1 / 0, this.lastModTime = this.lastSelTime = 0, this.lastOp = this.lastSelOp = null, this.lastOrigin = this.lastSelOrigin = null, this.generation = this.maxGeneration = e ? e.maxGeneration : 1 }

            function wi(e, t) { var n = { from: at(t.from), to: si(t), text: Ye(e, t.from, t.to) }; return ki(e, n, t.from.line, t.to.line + 1), mi(e, function(e) { return ki(e, n, t.from.line, t.to.line + 1), 0 }, !0), n }

            function xi(e) {
                for (; e.length;) {
                    if (!K(e).ranges) break;
                    e.pop()
                }
            }

            function Ci(e, t, n, r) {
                var i = e.history;
                i.undone.length = 0;
                var o, a, l = +new Date;
                if ((i.lastOp == r || i.lastOrigin == t.origin && t.origin && ("+" == t.origin.charAt(0) && i.lastModTime > l - (e.cm ? e.cm.options.historyEventDelay : 500) || "*" == t.origin.charAt(0))) && (o = (s = i).lastOp == r ? (xi(s.done), K(s.done)) : s.done.length && !K(s.done).ranges ? K(s.done) : 1 < s.done.length && !s.done[s.done.length - 2].ranges ? (s.done.pop(), K(s.done)) : void 0)) a = K(o.changes), 0 == it(t.from, t.to) && 0 == it(t.from, a.to) ? a.to = si(t) : o.changes.push(wi(e, t));
                else { var s = K(i.done); for (s && s.ranges || Oi(e.sel, i.done), o = { changes: [wi(e, t)], generation: i.generation }, i.done.push(o); i.done.length > i.undoDepth;) i.done.shift(), i.done[0].ranges || i.done.shift() }
                i.done.push(n), i.generation = ++i.maxGeneration, i.lastModTime = i.lastSelTime = l, i.lastOp = i.lastSelOp = r, i.lastOrigin = i.lastSelOrigin = t.origin, a || xe(e, "historyAdded")
            }

            function Si(e, t, n, r) {
                var i, o, a, l = e.history,
                    s = r && r.origin;
                n == l.lastSelOp || s && l.lastSelOrigin == s && (l.lastModTime == l.lastSelTime && l.lastOrigin == s || (i = e, o = s, a = K(l.done), e = t, "*" == (o = o.charAt(0)) || "+" == o && a.ranges.length == e.ranges.length && a.somethingSelected() == e.somethingSelected() && new Date - i.history.lastSelTime <= (i.cm ? i.cm.options.historyEventDelay : 500))) ? l.done[l.done.length - 1] = t : Oi(t, l.done), l.lastSelTime = +new Date, l.lastSelOrigin = s, l.lastSelOp = n, r && !1 !== r.clearRedo && xi(l.undone)
            }

            function Oi(e, t) {
                var n = K(t);
                n && n.ranges && n.equals(e) || t.push(e)
            }

            function ki(t, n, e, r) {
                var i = n["spans_" + t.id],
                    o = 0;
                t.iter(Math.max(t.first, e), Math.min(t.first + t.size, r), function(e) { e.markedSpans && ((i = i || (n["spans_" + t.id] = {}))[o] = e.markedSpans), ++o })
            }

            function Mi(e, t) { var n = t["spans_" + e.id]; if (!n) return null; for (var r = [], i = 0; i < t.text.length; ++i) r.push(function(e) { if (!e) return null; for (var t, n = 0; n < e.length; ++n) e[n].marker.explicitlyCleared ? t = t || e.slice(0, n) : t && t.push(e[n]); return t ? t.length ? t : null : e }(n[i])); return r }

            function Pi(e, t) {
                var n = Mi(e, t),
                    r = Lt(e, t);
                if (!n) return r;
                if (!r) return n;
                for (var i = 0; i < n.length; ++i) {
                    var o = n[i],
                        a = r[i];
                    if (o && a) e: for (var l = 0; l < a.length; ++l) {
                        for (var s = a[l], c = 0; c < o.length; ++c)
                            if (o[c].marker == s.marker) continue e;
                        o.push(s)
                    } else a && (n[i] = a)
                }
                return n
            }

            function Li(e, t, n) {
                for (var r = [], i = 0; i < e.length; ++i) {
                    var o = e[i];
                    if (o.ranges) r.push(n ? ii.prototype.deepCopy.call(o) : o);
                    else {
                        var a = o.changes,
                            l = [];
                        r.push({ changes: l });
                        for (var s = 0; s < a.length; ++s) {
                            var c, u = a[s];
                            if (l.push({ from: u.from, to: u.to, text: u.text }), t)
                                for (var f in u)(c = f.match(/^spans_(\d+)$/)) && -1 < H(t, Number(c[1])) && (K(l)[f] = u[f], delete u[f])
                        }
                    }
                }
                return r
            }

            function Ti(e, t, n, r) { if (r) { r = e.anchor; return n && ((e = it(t, r) < 0) != it(n, r) < 0 ? (r = t, t = n) : e != it(t, n) < 0 && (t = n)), new oi(r, t) } return new oi(n || t, t) }

            function Ei(e, t, n, r, i) { null == i && (i = e.cm && (e.cm.display.shift || e.extend)), Ri(e, new ii([Ti(e.sel.primary(), t, n, i)], 0), r) }

            function Ni(e, t, n) {
                for (var r = [], i = e.cm && (e.cm.display.shift || e.extend), o = 0; o < e.sel.ranges.length; o++) r[o] = Ti(e.sel.ranges[o], t[o], null, i);
                Ri(e, ai(e.cm, r, e.sel.primIndex), n)
            }

            function ji(e, t, n, r) {
                var i = e.sel.ranges.slice(0);
                i[t] = n, Ri(e, ai(e.cm, i, e.sel.primIndex), r)
            }

            function Ai(e, t, n, r) { Ri(e, li(t, n), r) }

            function _i(e, t, n) {
                var r = e.history.done,
                    i = K(r);
                i && i.ranges ? Di(e, r[r.length - 1] = t, n) : Ri(e, t, n)
            }

            function Ri(e, t, n) { Di(e, t, n), Si(e, e.sel, e.cm ? e.cm.curOp.id : NaN, n) }

            function Di(e, t, n) {
                var r, i;
                (Oe(e, "beforeSelectionChange") || e.cm && Oe(e.cm, "beforeSelectionChange")) && (r = e, i = n, i = { ranges: (o = t).ranges, update: function(e) { this.ranges = []; for (var t = 0; t < e.length; t++) this.ranges[t] = new oi(ut(r, e[t].anchor), ut(r, e[t].head)) }, origin: i && i.origin }, xe(r, "beforeSelectionChange", r, i), r.cm && xe(r.cm, "beforeSelectionChange", r.cm, i), t = i.ranges != o.ranges ? ai(r.cm, i.ranges, i.ranges.length - 1) : o);
                var o = n && n.bias || (it(t.primary().head, e.sel.primary().head) < 0 ? -1 : 1);
                Ii(e, Wi(e, t, o, !0)), n && !1 === n.scroll || !e.cm || "nocursor" == e.cm.getOption("readOnly") || wr(e.cm)
            }

            function Ii(e, t) { t.equals(e.sel) || (e.sel = t, e.cm && (e.cm.curOp.updateInput = 1, e.cm.curOp.selectionChanged = !0, Se(e.cm)), an(e, "cursorActivity", e)) }

            function Hi(e) { Ii(e, Wi(e, e.sel, null, !1)) }

            function Wi(e, t, n, r) {
                for (var i, o = 0; o < t.ranges.length; o++) {
                    var a = t.ranges[o],
                        l = t.ranges.length == e.sel.ranges.length && e.sel.ranges[o],
                        s = zi(e, a.anchor, l && l.anchor, n, r),
                        l = zi(e, a.head, l && l.head, n, r);
                    !i && s == a.anchor && l == a.head || ((i = i || t.ranges.slice(0, o))[o] = new oi(s, l))
                }
                return i ? ai(e.cm, i, t.primIndex) : t
            }

            function Fi(e, t, n, r, i) {
                var o = Xe(e, t.line);
                if (o.markedSpans)
                    for (var a = 0; a < o.markedSpans.length; ++a) {
                        var l = o.markedSpans[a],
                            s = l.marker,
                            c = "selectLeft" in s ? !s.selectLeft : s.inclusiveLeft,
                            u = "selectRight" in s ? !s.selectRight : s.inclusiveRight;
                        if ((null == l.from || (c ? l.from <= t.ch : l.from < t.ch)) && (null == l.to || (u ? l.to >= t.ch : l.to > t.ch))) {
                            if (i && (xe(s, "beforeCursorEnter"), s.explicitlyCleared)) { if (o.markedSpans) {--a; continue } break }
                            if (s.atomic) {
                                if (n) {
                                    var f = s.find(r < 0 ? 1 : -1),
                                        l = void 0;
                                    if ((f = (r < 0 ? u : c) ? Bi(e, f, -r, f && f.line == t.line ? o : null) : f) && f.line == t.line && (l = it(f, n)) && (r < 0 ? l < 0 : 0 < l)) return Fi(e, f, t, r, i)
                                }
                                s = s.find(r < 0 ? -1 : 1);
                                return (s = (r < 0 ? c : u) ? Bi(e, s, r, s.line == t.line ? o : null) : s) ? Fi(e, s, t, r, i) : null
                            }
                        }
                    }
                return t
            }

            function zi(e, t, n, r, i) { r = r || 1, r = Fi(e, t, n, r, i) || !i && Fi(e, t, n, r, !0) || Fi(e, t, n, -r, i) || !i && Fi(e, t, n, -r, !0); return r || (e.cantEdit = !0, rt(e.first, 0)) }

            function Bi(e, t, n, r) { return n < 0 && 0 == t.ch ? t.line > e.first ? ut(e, rt(t.line - 1)) : null : 0 < n && t.ch == (r || Xe(e, t.line)).text.length ? t.line < e.first + e.size - 1 ? rt(t.line + 1, 0) : null : new rt(t.line, t.ch + n) }

            function Ui(e) { e.setSelection(rt(e.firstLine(), 0), rt(e.lastLine()), z) }

            function Vi(i, e, t) { var o = { canceled: !1, from: e.from, to: e.to, text: e.text, origin: e.origin, cancel: function() { return o.canceled = !0 } }; return t && (o.update = function(e, t, n, r) { e && (o.from = ut(i, e)), t && (o.to = ut(i, t)), n && (o.text = n), void 0 !== r && (o.origin = r) }), xe(i, "beforeChange", i, o), i.cm && xe(i.cm, "beforeChange", i.cm, o), o.canceled ? (i.cm && (i.cm.curOp.updateInput = 2), null) : { from: o.from, to: o.to, text: o.text, origin: o.origin } }

            function Gi(e, t, n) {
                if (e.cm) { if (!e.cm.curOp) return Dr(e.cm, Gi)(e, t, n); if (e.cm.state.suppressEdits) return }
                if (!(Oe(e, "beforeChange") || e.cm && Oe(e.cm, "beforeChange")) || (t = Vi(e, t, !0))) {
                    var r = Ot && !n && function(e, t, n) {
                        var r = null;
                        if (e.iter(t.line, n.line + 1, function(e) {
                                if (e.markedSpans)
                                    for (var t = 0; t < e.markedSpans.length; ++t) { var n = e.markedSpans[t].marker;!n.readOnly || r && -1 != H(r, n) || (r = r || []).push(n) }
                            }), !r) return null;
                        for (var i = [{ from: t, to: n }], o = 0; o < r.length; ++o)
                            for (var a = r[o], l = a.find(0), s = 0; s < i.length; ++s) {
                                var c, u, f, d = i[s];
                                it(d.to, l.from) < 0 || 0 < it(d.from, l.to) || (c = [s, 1], u = it(d.from, l.from), f = it(d.to, l.to), (u < 0 || !a.inclusiveLeft && !u) && c.push({ from: d.from, to: l.from }), (0 < f || !a.inclusiveRight && !f) && c.push({ from: l.to, to: d.to }), i.splice.apply(i, c), s += c.length - 3)
                            }
                        return i
                    }(e, t.from, t.to);
                    if (r)
                        for (var i = r.length - 1; 0 <= i; --i) qi(e, { from: r[i].from, to: r[i].to, text: i ? [""] : t.text, origin: t.origin });
                    else qi(e, t)
                }
            }

            function qi(e, n) {
                var t, r;
                1 == n.text.length && "" == n.text[0] && 0 == it(n.from, n.to) || (t = ui(e, n), Ci(e, n, t, e.cm ? e.cm.curOp.id : NaN), Xi(e, n, t, Lt(e, n)), r = [], mi(e, function(e, t) { t || -1 != H(r, e.history) || (Zi(e.history, n), r.push(e.history)), Xi(e, n, null, Lt(e, n)) }))
            }

            function Ki(i, o, e) {
                var t = i.cm && i.cm.state.suppressEdits;
                if (!t || e) {
                    for (var a, n = i.history, r = i.sel, l = "undo" == o ? n.done : n.undone, s = "undo" == o ? n.undone : n.done, c = 0; c < l.length && (a = l[c], e ? !a.ranges || a.equals(i.sel) : a.ranges); c++);
                    if (c != l.length) {
                        for (n.lastOrigin = n.lastSelOrigin = null;;) {
                            if (!(a = l.pop()).ranges) { if (t) return void l.push(a); break }
                            if (Oi(a, s), e && !a.equals(i.sel)) return void Ri(i, a, { clearRedo: !1 });
                            r = a
                        }
                        var u = [];
                        Oi(r, s), s.push({ changes: u, generation: n.generation }), n.generation = a.generation || ++n.maxGeneration;
                        for (var f = Oe(i, "beforeChange") || i.cm && Oe(i.cm, "beforeChange"), d = a.changes.length - 1; 0 <= d; --d) {
                            var p = function(e) {
                                var n = a.changes[e];
                                if (n.origin = o, f && !Vi(i, n, !1)) return l.length = 0, {};
                                u.push(wi(i, n));
                                var t = e ? ui(i, n) : K(l);
                                Xi(i, n, t, Pi(i, n)), !e && i.cm && i.cm.scrollIntoView({ from: n.from, to: si(n) });
                                var r = [];
                                mi(i, function(e, t) { t || -1 != H(r, e.history) || (Zi(e.history, n), r.push(e.history)), Xi(e, n, null, Pi(e, n)) })
                            }(d);
                            if (p) return p.v
                        }
                    }
                }
            }

            function $i(e, t) { if (0 != t && (e.first += t, e.sel = new ii($(e.sel.ranges, function(e) { return new oi(rt(e.anchor.line + t, e.anchor.ch), rt(e.head.line + t, e.head.ch)) }), e.sel.primIndex), e.cm)) { tr(e.cm, e.first, e.first - t, t); for (var n = e.cm.display, r = n.viewFrom; r < n.viewTo; r++) nr(e.cm, r, "gutter") } }

            function Xi(e, t, n, r) {
                if (e.cm && !e.cm.curOp) return Dr(e.cm, Xi)(e, t, n, r);
                var i;
                t.to.line < e.first ? $i(e, t.text.length - 1 - (t.to.line - t.from.line)) : t.from.line > e.lastLine() || (t.from.line < e.first && ($i(e, i = t.text.length - 1 - (e.first - t.from.line)), t = { from: rt(e.first, 0), to: rt(t.to.line + i, t.to.ch), text: [K(t.text)], origin: t.origin }), i = e.lastLine(), (t = t.to.line > i ? { from: t.from, to: rt(i, Xe(e, i).text.length), text: [t.text[0]], origin: t.origin } : t).removed = Ye(e, t.from, t.to), n = n || ui(e, t), e.cm ? function(e, t, n) {
                    var r = e.doc,
                        i = e.display,
                        o = t.from,
                        a = t.to,
                        l = !1,
                        s = o.line;
                    e.options.lineWrapping || (s = Ze(Wt(Xe(r, o.line))), r.iter(s, a.line + 1, function(e) { if (e == i.maxLine) return l = !0 })); - 1 < r.sel.contains(t.from, t.to) && Se(e);
                    gi(r, t, n, Qn(e)), e.options.lineWrapping || (r.iter(s, o.line + t.text.length, function(e) {
                        var t = Vt(e);
                        t > i.maxLineLength && (i.maxLine = e, i.maxLineLength = t, i.maxLineChanged = !0, l = !1)
                    }), l && (e.curOp.updateMaxLine = !0));
                    (function(e, t) {
                        if (e.modeFrontier = Math.min(e.modeFrontier, t), !(e.highlightFrontier < t - 10)) {
                            for (var n = e.first, r = t - 1; n < r; r--) { var i = Xe(e, r).stateAfter; if (i && (!(i instanceof dt) || r + i.lookAhead < t)) { n = r + 1; break } }
                            e.highlightFrontier = Math.min(e.highlightFrontier, n)
                        }
                    })(r, o.line), Wr(e, 400);
                    s = t.text.length - (a.line - o.line) - 1;
                    t.full ? tr(e) : o.line != a.line || 1 != t.text.length || hi(e.doc, t) ? tr(e, o.line, a.line + 1, s) : nr(e, o.line, "text");
                    r = Oe(e, "changes"), s = Oe(e, "change");
                    (s || r) && (t = { from: o, to: a, text: t.text, removed: t.removed, origin: t.origin }, s && an(e, "change", e, t), r && (e.curOp.changeObjs || (e.curOp.changeObjs = [])).push(t));
                    e.display.selForContextMenu = null
                }(e.cm, t, r) : gi(e, t, r), Di(e, n, z), e.cantEdit && zi(e, rt(e.firstLine(), 0)) && (e.cantEdit = !1))
            }

            function Yi(e, t, n, r, i) {
                var o;
                it(r = r || n, n) < 0 && (n = (o = [r, n])[0], r = o[1]), "string" == typeof t && (t = e.splitLines(t)), Gi(e, { from: n, to: r, text: t, origin: i })
            }

            function Qi(e, t, n, r) { n < e.line ? e.line += r : t < e.line && (e.line = t, e.ch = 0) }

            function Ji(e, t, n, r) {
                for (var i = 0; i < e.length; ++i) {
                    var o = e[i],
                        a = !0;
                    if (o.ranges) { o.copied || ((o = e[i] = o.deepCopy()).copied = !0); for (var l = 0; l < o.ranges.length; l++) Qi(o.ranges[l].anchor, t, n, r), Qi(o.ranges[l].head, t, n, r) } else {
                        for (var s = 0; s < o.changes.length; ++s) {
                            var c = o.changes[s];
                            if (n < c.from.line) c.from = rt(c.from.line + r, c.from.ch), c.to = rt(c.to.line + r, c.to.ch);
                            else if (t <= c.to.line) { a = !1; break }
                        }
                        a || (e.splice(0, i + 1), i = 0)
                    }
                }
            }

            function Zi(e, t) {
                var n = t.from.line,
                    r = t.to.line,
                    t = t.text.length - (r - n) - 1;
                Ji(e.done, n, r, t), Ji(e.undone, n, r, t)
            }

            function eo(e, t, n, r) {
                var i = t,
                    o = t;
                return "number" == typeof t ? o = Xe(e, ct(e, t)) : i = Ze(t), null == i ? null : (r(o, i) && e.cm && nr(e.cm, i, n), o)
            }

            function to(e) {
                this.lines = e, this.parent = null;
                for (var t = 0, n = 0; n < e.length; ++n) e[n].parent = this, t += e[n].height;
                this.height = t
            }

            function no(e) {
                this.children = e;
                for (var t = 0, n = 0, r = 0; r < e.length; ++r) {
                    var i = e[r];
                    t += i.chunkSize(), n += i.height, i.parent = this
                }
                this.size = t, this.height = n, this.parent = null
            }
            oi.prototype.from = function() { return st(this.anchor, this.head) }, oi.prototype.to = function() { return lt(this.anchor, this.head) }, oi.prototype.empty = function() { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch }, to.prototype = {
                chunkSize: function() { return this.lines.length },
                removeInner: function(e, t) {
                    for (var n, r = e, i = e + t; r < i; ++r) {
                        var o = this.lines[r];
                        this.height -= o.height, (n = o).parent = null, Et(n), an(o, "delete")
                    }
                    this.lines.splice(e, t)
                },
                collapse: function(e) { e.push.apply(e, this.lines) },
                insertInner: function(e, t, n) { this.height += n, this.lines = this.lines.slice(0, e).concat(t).concat(this.lines.slice(e)); for (var r = 0; r < t.length; ++r) t[r].parent = this },
                iterN: function(e, t, n) {
                    for (var r = e + t; e < r; ++e)
                        if (n(this.lines[e])) return !0
                }
            }, no.prototype = {
                chunkSize: function() { return this.size },
                removeInner: function(e, t) {
                    this.size -= t;
                    for (var n, r = 0; r < this.children.length; ++r) {
                        var i = this.children[r],
                            o = i.chunkSize();
                        if (e < o) {
                            var a = Math.min(t, o - e),
                                l = i.height;
                            if (i.removeInner(e, a), this.height -= l - i.height, o == a && (this.children.splice(r--, 1), i.parent = null), 0 == (t -= a)) break;
                            e = 0
                        } else e -= o
                    }
                    this.size - t < 25 && (1 < this.children.length || !(this.children[0] instanceof to)) && (n = [], this.collapse(n), this.children = [new to(n)], this.children[0].parent = this)
                },
                collapse: function(e) { for (var t = 0; t < this.children.length; ++t) this.children[t].collapse(e) },
                insertInner: function(e, t, n) {
                    this.size += t.length, this.height += n;
                    for (var r = 0; r < this.children.length; ++r) {
                        var i = this.children[r],
                            o = i.chunkSize();
                        if (e <= o) {
                            if (i.insertInner(e, t, n), i.lines && 50 < i.lines.length) {
                                for (var a = i.lines.length % 25 + 25, l = a; l < i.lines.length;) {
                                    var s = new to(i.lines.slice(l, l += 25));
                                    i.height -= s.height, this.children.splice(++r, 0, s), s.parent = this
                                }
                                i.lines = i.lines.slice(0, a), this.maybeSpill()
                            }
                            break
                        }
                        e -= o
                    }
                },
                maybeSpill: function() {
                    if (!(this.children.length <= 10)) {
                        var e = this;
                        do { var t, n = new no(e.children.splice(e.children.length - 5, 5)) } while (e.parent ? (e.size -= n.size, e.height -= n.height, t = H(e.parent.children, e), e.parent.children.splice(t + 1, 0, n)) : (((t = new no(e.children)).parent = e).children = [t, n], e = t), n.parent = e.parent, 10 < e.children.length);
                        e.parent.maybeSpill()
                    }
                },
                iterN: function(e, t, n) {
                    for (var r = 0; r < this.children.length; ++r) {
                        var i = this.children[r],
                            o = i.chunkSize();
                        if (e < o) {
                            var a = Math.min(t, o - e);
                            if (i.iterN(e, a, n)) return !0;
                            if (0 == (t -= a)) break;
                            e = 0
                        } else e -= o
                    }
                }
            };

            function ro(e, t, n) {
                if (n)
                    for (var r in n) n.hasOwnProperty(r) && (this[r] = n[r]);
                this.doc = e, this.node = t
            }

            function io(e, t, n) { Ut(t) < (e.curOp && e.curOp.scrollTop || e.doc.scrollTop) && br(e, n) }
            ro.prototype.clear = function() {
                var e = this.doc.cm,
                    t = this.line.widgets,
                    n = this.line,
                    r = Ze(n);
                if (null != r && t) {
                    for (var i = 0; i < t.length; ++i) t[i] == this && t.splice(i--, 1);
                    t.length || (n.widgets = null);
                    var o = gn(this);
                    Je(n, Math.max(0, n.height - o)), e && (Rr(e, function() { io(e, n, -o), nr(e, r, "widget") }), an(e, "lineWidgetCleared", e, this, r))
                }
            }, ro.prototype.changed = function() {
                var e = this,
                    t = this.height,
                    n = this.doc.cm,
                    r = this.line;
                this.height = null;
                var i = gn(this) - t;
                i && (Bt(this.doc, r) || Je(r, r.height + i), n && Rr(n, function() { n.curOp.forceUpdate = !0, io(n, r, i), an(n, "lineWidgetChanged", n, e, Ze(r)) }))
            }, ke(ro);
            var oo = 0,
                ao = function(e, t) { this.lines = [], this.type = t, this.doc = e, this.id = ++oo };

            function lo(t, n, r, e, i) {
                if (e && e.shared) return function(e, n, r, i, o) {
                    (i = R(i)).shared = !1;
                    var a = [lo(e, n, r, i, o)],
                        l = a[0],
                        s = i.widgetNode;
                    return mi(e, function(e) {
                        s && (i.widgetNode = s.cloneNode(!0)), a.push(lo(e, ut(e, n), ut(e, r), i, o));
                        for (var t = 0; t < e.linked.length; ++t)
                            if (e.linked[t].isParent) return;
                        l = K(a)
                    }), new so(a, l)
                }(t, n, r, e, i);
                if (t.cm && !t.cm.curOp) return Dr(t.cm, lo)(t, n, r, e, i);
                var o = new ao(t, i),
                    i = it(n, r);
                if (e && R(e, o, !1), 0 < i || 0 == i && !1 !== o.clearWhenEmpty) return o;
                if (o.replacedWith && (o.collapsed = !0, o.widgetNode = M("span", [o.replacedWith], "CodeMirror-widget"), e.handleMouseEvents || o.widgetNode.setAttribute("cm-ignore-events", "true"), e.insertLeft && (o.widgetNode.insertLeft = !0)), o.collapsed) {
                    if (Ht(t, n.line, n, r, o) || n.line != r.line && Ht(t, r.line, n, r, o)) throw new Error("Inserting collapsed marker partially overlapping an existing one");
                    kt = !0
                }
                o.addToHistory && Ci(t, { from: n, to: r, origin: "markText" }, t.sel, NaN);
                var a, l = n.line,
                    s = t.cm;
                if (t.iter(l, r.line + 1, function(e) {
                        var t;
                        s && o.collapsed && !s.options.lineWrapping && Wt(e) == s.display.maxLine && (a = !0), o.collapsed && l != n.line && Je(e, 0), t = e, e = new Mt(o, l == n.line ? n.ch : null, l == r.line ? r.ch : null), t.markedSpans = t.markedSpans ? t.markedSpans.concat([e]) : [e], e.marker.attachLine(t), ++l
                    }), o.collapsed && t.iter(n.line, r.line + 1, function(e) { Bt(t, e) && Je(e, 0) }), o.clearOnEnter && ve(o, "beforeCursorEnter", function() { return o.clear() }), o.readOnly && (Ot = !0, (t.history.done.length || t.history.undone.length) && t.clearHistory()), o.collapsed && (o.id = ++oo, o.atomic = !0), s) {
                    if (a && (s.curOp.updateMaxLine = !0), o.collapsed) tr(s, n.line, r.line + 1);
                    else if (o.className || o.startStyle || o.endStyle || o.css || o.attributes || o.title)
                        for (var c = n.line; c <= r.line; c++) nr(s, c, "text");
                    o.atomic && Hi(s.doc), an(s, "markerAdded", s, o)
                }
                return o
            }
            ao.prototype.clear = function() {
                if (!this.explicitlyCleared) {
                    var e, t = this.doc.cm,
                        n = t && !t.curOp;
                    n && Ar(t), !Oe(this, "clear") || (e = this.find()) && an(this, "clear", e.from, e.to);
                    for (var r = null, i = null, o = 0; o < this.lines.length; ++o) {
                        var a = this.lines[o],
                            l = Pt(a.markedSpans, this);
                        t && !this.collapsed ? nr(t, Ze(a), "text") : t && (null != l.to && (i = Ze(a)), null != l.from && (r = Ze(a))), a.markedSpans = function(e, t) { for (var n, r = 0; r < e.length; ++r) e[r] != t && (n = n || []).push(e[r]); return n }(a.markedSpans, l), null == l.from && this.collapsed && !Bt(this.doc, a) && t && Je(a, Kn(t.display))
                    }
                    if (t && this.collapsed && !t.options.lineWrapping)
                        for (var s = 0; s < this.lines.length; ++s) {
                            var c = Wt(this.lines[s]),
                                u = Vt(c);
                            u > t.display.maxLineLength && (t.display.maxLine = c, t.display.maxLineLength = u, t.display.maxLineChanged = !0)
                        }
                    null != r && t && this.collapsed && tr(t, r, i + 1), this.lines.length = 0, this.explicitlyCleared = !0, this.atomic && this.doc.cantEdit && (this.doc.cantEdit = !1, t && Hi(t.doc)), t && an(t, "markerCleared", t, this, r, i), n && _r(t), this.parent && this.parent.clear()
                }
            }, ao.prototype.find = function(e, t) {
                var n, r;
                null == e && "bookmark" == this.type && (e = 1);
                for (var i = 0; i < this.lines.length; ++i) {
                    var o = this.lines[i],
                        a = Pt(o.markedSpans, this);
                    if (null != a.from && (n = rt(t ? o : Ze(o), a.from), -1 == e)) return n;
                    if (null != a.to && (r = rt(t ? o : Ze(o), a.to), 1 == e)) return r
                }
                return n && { from: n, to: r }
            }, ao.prototype.changed = function() {
                var n = this,
                    r = this.find(-1, !0),
                    i = this,
                    o = this.doc.cm;
                r && o && Rr(o, function() {
                    var e = r.line,
                        t = Ze(r.line),
                        t = kn(o, t);
                    t && (Nn(t), o.curOp.selectionChanged = o.curOp.forceUpdate = !0), o.curOp.updateMaxLine = !0, Bt(i.doc, e) || null == i.height || (t = i.height, i.height = null, (t = gn(i) - t) && Je(e, e.height + t)), an(o, "markerChanged", o, n)
                })
            }, ao.prototype.attachLine = function(e) { var t;!this.lines.length && this.doc.cm && ((t = this.doc.cm.curOp).maybeHiddenMarkers && -1 != H(t.maybeHiddenMarkers, this) || (t.maybeUnhiddenMarkers || (t.maybeUnhiddenMarkers = [])).push(this)), this.lines.push(e) }, ao.prototype.detachLine = function(e) { this.lines.splice(H(this.lines, e), 1), !this.lines.length && this.doc.cm && ((e = this.doc.cm.curOp).maybeHiddenMarkers || (e.maybeHiddenMarkers = [])).push(this) }, ke(ao);
            var so = function(e, t) { this.markers = e, this.primary = t; for (var n = 0; n < e.length; ++n) e[n].parent = this };

            function co(e) { return e.findMarks(rt(e.first, 0), e.clipPos(rt(e.lastLine())), function(e) { return e.parent }) }

            function uo(o) {
                for (var e = 0; e < o.length; e++) ! function(e) {
                    var t = o[e],
                        n = [t.primary.doc];
                    mi(t.primary.doc, function(e) { return n.push(e) });
                    for (var r = 0; r < t.markers.length; r++) { var i = t.markers[r]; - 1 == H(n, i.doc) && (i.parent = null, t.markers.splice(r--, 1)) }
                }(e)
            }
            so.prototype.clear = function() {
                if (!this.explicitlyCleared) {
                    this.explicitlyCleared = !0;
                    for (var e = 0; e < this.markers.length; ++e) this.markers[e].clear();
                    an(this, "clear")
                }
            }, so.prototype.find = function(e, t) { return this.primary.find(e, t) }, ke(so);
            var fo = 0,
                po = function(e, t, n, r, i) {
                    if (!(this instanceof po)) return new po(e, t, n, r, i);
                    null == n && (n = 0), no.call(this, [new to([new qt("", null)])]), this.first = n, this.scrollTop = this.scrollLeft = 0, this.cantEdit = !1, this.cleanGeneration = 1;
                    n = rt(this.modeFrontier = this.highlightFrontier = n, 0);
                    this.sel = li(n), this.history = new bi(null), this.id = ++fo, this.modeOption = t, this.lineSep = r, this.direction = "rtl" == i ? "rtl" : "ltr", this.extend = !1, "string" == typeof e && (e = this.splitLines(e)), gi(this, { from: n, to: n, text: e }), Ri(this, li(n), z)
                };
            po.prototype = Y(no.prototype, {
                constructor: po,
                iter: function(e, t, n) { n ? this.iterN(e - this.first, t - e, n) : this.iterN(this.first, this.first + this.size, e) },
                insert: function(e, t) {
                    for (var n = 0, r = 0; r < t.length; ++r) n += t[r].height;
                    this.insertInner(e - this.first, t, n)
                },
                remove: function(e, t) { this.removeInner(e - this.first, t) },
                getValue: function(e) { var t = Qe(this, this.first, this.first + this.size); return !1 === e ? t : t.join(e || this.lineSeparator()) },
                setValue: Hr(function(e) {
                    var t = rt(this.first, 0),
                        n = this.first + this.size - 1;
                    Gi(this, { from: t, to: rt(n, Xe(this, n).text.length), text: this.splitLines(e), origin: "setValue", full: !0 }, !0), this.cm && xr(this.cm, 0, 0), Ri(this, li(t), z)
                }),
                replaceRange: function(e, t, n, r) { Yi(this, e, t = ut(this, t), n = n ? ut(this, n) : t, r) },
                getRange: function(e, t, n) { t = Ye(this, ut(this, e), ut(this, t)); return !1 === n ? t : t.join(n || this.lineSeparator()) },
                getLine: function(e) { e = this.getLineHandle(e); return e && e.text },
                getLineHandle: function(e) { if (tt(this, e)) return Xe(this, e) },
                getLineNumber: Ze,
                getLineHandleVisualStart: function(e) { return Wt(e = "number" == typeof e ? Xe(this, e) : e) },
                lineCount: function() { return this.size },
                firstLine: function() { return this.first },
                lastLine: function() { return this.first + this.size - 1 },
                clipPos: function(e) { return ut(this, e) },
                getCursor: function(e) {
                    var t = this.sel.primary(),
                        t = null == e || "head" == e ? t.head : "anchor" == e ? t.anchor : "end" == e || "to" == e || !1 === e ? t.to() : t.from();
                    return t
                },
                listSelections: function() { return this.sel.ranges },
                somethingSelected: function() { return this.sel.somethingSelected() },
                setCursor: Hr(function(e, t, n) { Ai(this, ut(this, "number" == typeof e ? rt(e, t || 0) : e), null, n) }),
                setSelection: Hr(function(e, t, n) { Ai(this, ut(this, e), ut(this, t || e), n) }),
                extendSelection: Hr(function(e, t, n) { Ei(this, ut(this, e), t && ut(this, t), n) }),
                extendSelections: Hr(function(e, t) { Ni(this, ft(this, e), t) }),
                extendSelectionsBy: Hr(function(e, t) { Ni(this, ft(this, $(this.sel.ranges, e)), t) }),
                setSelections: Hr(function(e, t, n) {
                    if (e.length) {
                        for (var r = [], i = 0; i < e.length; i++) r[i] = new oi(ut(this, e[i].anchor), ut(this, e[i].head));
                        null == t && (t = Math.min(e.length - 1, this.sel.primIndex)), Ri(this, ai(this.cm, r, t), n)
                    }
                }),
                addSelection: Hr(function(e, t, n) {
                    var r = this.sel.ranges.slice(0);
                    r.push(new oi(ut(this, e), ut(this, t || e))), Ri(this, ai(this.cm, r, r.length - 1), n)
                }),
                getSelection: function(e) {
                    for (var t = this.sel.ranges, n = 0; n < t.length; n++) var r = Ye(this, t[n].from(), t[n].to()),
                        i = i ? i.concat(r) : r;
                    return !1 === e ? i : i.join(e || this.lineSeparator())
                },
                getSelections: function(e) { for (var t = [], n = this.sel.ranges, r = 0; r < n.length; r++) { var i = Ye(this, n[r].from(), n[r].to());!1 !== e && (i = i.join(e || this.lineSeparator())), t[r] = i } return t },
                replaceSelection: function(e, t, n) {
                    for (var r = [], i = 0; i < this.sel.ranges.length; i++) r[i] = e;
                    this.replaceSelections(r, t, n || "+input")
                },
                replaceSelections: Hr(function(e, t, n) {
                    for (var r = [], i = this.sel, o = 0; o < i.ranges.length; o++) {
                        var a = i.ranges[o];
                        r[o] = { from: a.from(), to: a.to(), text: this.splitLines(e[o]), origin: n }
                    }
                    for (var t = t && "end" != t && function(e, t, n) {
                            for (var r = [], i = c = rt(e.first, 0), o = 0; o < t.length; o++) {
                                var a = t[o],
                                    l = fi(a.from, c, i),
                                    s = fi(si(a), c, i),
                                    c = a.to,
                                    i = s;
                                "around" == n ? (a = it((a = e.sel.ranges[o]).head, a.anchor) < 0, r[o] = new oi(a ? s : l, a ? l : s)) : r[o] = new oi(l, l)
                            }
                            return new ii(r, e.sel.primIndex)
                        }(this, r, t), l = r.length - 1; 0 <= l; l--) Gi(this, r[l]);
                    t ? _i(this, t) : this.cm && wr(this.cm)
                }),
                undo: Hr(function() { Ki(this, "undo") }),
                redo: Hr(function() { Ki(this, "redo") }),
                undoSelection: Hr(function() { Ki(this, "undo", !0) }),
                redoSelection: Hr(function() { Ki(this, "redo", !0) }),
                setExtending: function(e) { this.extend = e },
                getExtending: function() { return this.extend },
                historySize: function() { for (var e = this.history, t = 0, n = 0, r = 0; r < e.done.length; r++) e.done[r].ranges || ++t; for (var i = 0; i < e.undone.length; i++) e.undone[i].ranges || ++n; return { undo: t, redo: n } },
                clearHistory: function() {
                    var t = this;
                    this.history = new bi(this.history), mi(this, function(e) { return e.history = t.history }, !0)
                },
                markClean: function() { this.cleanGeneration = this.changeGeneration(!0) },
                changeGeneration: function(e) { return e && (this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null), this.history.generation },
                isClean: function(e) { return this.history.generation == (e || this.cleanGeneration) },
                getHistory: function() { return { done: Li(this.history.done), undone: Li(this.history.undone) } },
                setHistory: function(e) {
                    var t = this.history = new bi(this.history);
                    t.done = Li(e.done.slice(0), null, !0), t.undone = Li(e.undone.slice(0), null, !0)
                },
                setGutterMarker: Hr(function(e, n, r) { return eo(this, e, "gutter", function(e) { var t = e.gutterMarkers || (e.gutterMarkers = {}); return !(t[n] = r) && ee(t) && (e.gutterMarkers = null), 1 }) }),
                clearGutter: Hr(function(t) {
                    var n = this;
                    this.iter(function(e) { e.gutterMarkers && e.gutterMarkers[t] && eo(n, e, "gutter", function() { return e.gutterMarkers[t] = null, ee(e.gutterMarkers) && (e.gutterMarkers = null), 1 }) })
                }),
                lineInfo: function(e) { var t; if ("number" == typeof e) { if (!tt(this, e)) return null; if (!(e = Xe(this, t = e))) return null } else if (null == (t = Ze(e))) return null; return { line: t, handle: e, text: e.text, gutterMarkers: e.gutterMarkers, textClass: e.textClass, bgClass: e.bgClass, wrapClass: e.wrapClass, widgets: e.widgets } },
                addLineClass: Hr(function(e, n, r) {
                    return eo(this, e, "gutter" == n ? "gutter" : "class", function(e) {
                        var t = "text" == n ? "textClass" : "background" == n ? "bgClass" : "gutter" == n ? "gutterClass" : "wrapClass";
                        if (e[t]) {
                            if (C(r).test(e[t])) return;
                            e[t] += " " + r
                        } else e[t] = r;
                        return 1
                    })
                }),
                removeLineClass: Hr(function(e, o, a) {
                    return eo(this, e, "gutter" == o ? "gutter" : "class", function(e) {
                        var t = "text" == o ? "textClass" : "background" == o ? "bgClass" : "gutter" == o ? "gutterClass" : "wrapClass",
                            n = e[t];
                        if (n) {
                            if (null == a) e[t] = null;
                            else {
                                var r = n.match(C(a));
                                if (!r) return;
                                var i = r.index + r[0].length;
                                e[t] = n.slice(0, r.index) + (r.index && i != n.length ? " " : "") + n.slice(i) || null
                            }
                            return 1
                        }
                    })
                }),
                addLineWidget: Hr(function(e, t, n) { return e = e, i = new ro(r = this, t, n), (o = r.cm) && i.noHScroll && (o.display.alignWidgets = !0), eo(r, e, "widget", function(e) { var t = e.widgets || (e.widgets = []); return null == i.insertAt ? t.push(i) : t.splice(Math.min(t.length, Math.max(0, i.insertAt)), 0, i), i.line = e, o && !Bt(r, e) && (t = Ut(e) < r.scrollTop, Je(e, e.height + gn(i)), t && br(o, i.height), o.curOp.forceUpdate = !0), 1 }), o && an(o, "lineWidgetAdded", o, i, "number" == typeof e ? e : Ze(e)), i; var r, i, o }),
                removeLineWidget: function(e) { e.clear() },
                markText: function(e, t, n) { return lo(this, ut(this, e), ut(this, t), n, n && n.type || "range") },
                setBookmark: function(e, t) { t = { replacedWith: t && (null == t.nodeType ? t.widget : t), insertLeft: t && t.insertLeft, clearWhenEmpty: !1, shared: t && t.shared, handleMouseEvents: t && t.handleMouseEvents }; return lo(this, e = ut(this, e), e, t, "bookmark") },
                findMarksAt: function(e) {
                    var t = [],
                        n = Xe(this, (e = ut(this, e)).line).markedSpans;
                    if (n)
                        for (var r = 0; r < n.length; ++r) {
                            var i = n[r];
                            (null == i.from || i.from <= e.ch) && (null == i.to || i.to >= e.ch) && t.push(i.marker.parent || i.marker)
                        }
                    return t
                },
                findMarks: function(i, o, a) {
                    i = ut(this, i), o = ut(this, o);
                    var l = [],
                        s = i.line;
                    return this.iter(i.line, o.line + 1, function(e) {
                        var t = e.markedSpans;
                        if (t)
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                null != r.to && s == i.line && i.ch >= r.to || null == r.from && s != i.line || null != r.from && s == o.line && r.from >= o.ch || a && !a(r.marker) || l.push(r.marker.parent || r.marker)
                            }++s
                    }), l
                },
                getAllMarks: function() {
                    var r = [];
                    return this.iter(function(e) {
                        var t = e.markedSpans;
                        if (t)
                            for (var n = 0; n < t.length; ++n) null != t[n].from && r.push(t[n].marker)
                    }), r
                },
                posFromIndex: function(t) {
                    var n, r = this.first,
                        i = this.lineSeparator().length;
                    return this.iter(function(e) {
                        e = e.text.length + i;
                        if (t < e) return n = t, !0;
                        t -= e, ++r
                    }), ut(this, rt(r, n))
                },
                indexFromPos: function(e) { var t = (e = ut(this, e)).ch; if (e.line < this.first || e.ch < 0) return 0; var n = this.lineSeparator().length; return this.iter(this.first, e.line, function(e) { t += e.text.length + n }), t },
                copy: function(e) { var t = new po(Qe(this, this.first, this.first + this.size), this.modeOption, this.first, this.lineSep, this.direction); return t.scrollTop = this.scrollTop, t.scrollLeft = this.scrollLeft, t.sel = this.sel, t.extend = !1, e && (t.history.undoDepth = this.history.undoDepth, t.setHistory(this.getHistory())), t },
                linkedDoc: function(e) {
                    e = e || {};
                    var t = this.first,
                        n = this.first + this.size;
                    null != e.from && e.from > t && (t = e.from), null != e.to && e.to < n && (n = e.to);
                    t = new po(Qe(this, t, n), e.mode || this.modeOption, t, this.lineSep, this.direction);
                    return e.sharedHist && (t.history = this.history), (this.linked || (this.linked = [])).push({ doc: t, sharedHist: e.sharedHist }), t.linked = [{ doc: this, isParent: !0, sharedHist: e.sharedHist }],
                        function(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n],
                                    i = r.find(),
                                    o = e.clipPos(i.from),
                                    i = e.clipPos(i.to);
                                it(o, i) && (i = lo(e, o, i, r.primary, r.primary.type), r.markers.push(i), i.parent = r)
                            }
                        }(t, co(this)), t
                },
                unlinkDoc: function(e) {
                    if (e instanceof ua && (e = e.doc), this.linked)
                        for (var t = 0; t < this.linked.length; ++t)
                            if (this.linked[t].doc == e) { this.linked.splice(t, 1), e.unlinkDoc(this), uo(co(this)); break }
                    var n;
                    e.history == this.history && (n = [e.id], mi(e, function(e) { return n.push(e.id) }, !0), e.history = new bi(null), e.history.done = Li(this.history.done, n), e.history.undone = Li(this.history.undone, n))
                },
                iterLinkedDocs: function(e) { mi(this, e) },
                getMode: function() { return this.mode },
                getEditor: function() { return this.cm },
                splitLines: function(e) { return this.lineSep ? e.split(this.lineSep) : Re(e) },
                lineSeparator: function() { return this.lineSep || "\n" },
                setDirection: Hr(function(e) {
                    var t;
                    (e = "rtl" != e ? "ltr" : e) != this.direction && (this.direction = e, this.iter(function(e) { return e.order = null }), this.cm && Rr(t = this.cm, function() { vi(t), tr(t) }))
                })
            }), po.prototype.eachLine = po.prototype.iter;
            var ho = 0;

            function go(e) {
                var r = this;
                if (mo(r), !Ce(r, e) && !mn(r.display, e)) {
                    Me(e), w && (ho = +new Date);
                    var t = Zn(r, e, !0),
                        n = e.dataTransfer.files;
                    if (t && !r.isReadOnly())
                        if (n && n.length && window.FileReader && window.File)
                            for (var i = n.length, o = Array(i), a = 0, l = function() {
                                    ++a == i && Dr(r, function() {
                                        var e = { from: t = ut(r.doc, t), to: t, text: r.doc.splitLines(o.filter(function(e) { return null != e }).join(r.doc.lineSeparator())), origin: "paste" };
                                        Gi(r.doc, e), _i(r.doc, li(ut(r.doc, t), ut(r.doc, si(e))))
                                    })()
                                }, s = 0; s < n.length; s++) ! function(e, t) {
                                var n;
                                r.options.allowDropFileTypes && -1 == H(r.options.allowDropFileTypes, e.type) ? l() : ((n = new FileReader).onerror = l, n.onload = function() { var e = n.result; /[\x00-\x08\x0e-\x1f]{2}/.test(e) || (o[t] = e), l() }, n.readAsText(e))
                            }(n[s], s);
                        else {
                            if (r.state.draggingText && -1 < r.doc.sel.contains(t)) return r.state.draggingText(e), void setTimeout(function() { return r.display.input.focus() }, 20);
                            try {
                                var c, u = e.dataTransfer.getData("Text");
                                if (u) {
                                    if (r.state.draggingText && !r.state.draggingText.copy && (c = r.listSelections()), Di(r.doc, li(t, t)), c)
                                        for (var f = 0; f < c.length; ++f) Yi(r.doc, "", c[f].anchor, c[f].head, "drag");
                                    r.replaceSelection(u, "around", "paste"), r.display.input.focus()
                                }
                            } catch (e) {}
                        }
                }
            }

            function mo(e) { e.display.dragCursor && (e.display.lineSpace.removeChild(e.display.dragCursor), e.display.dragCursor = null) }

            function yo(t) {
                if (document.getElementsByClassName) {
                    for (var e = document.getElementsByClassName("CodeMirror"), n = [], r = 0; r < e.length; r++) {
                        var i = e[r].CodeMirror;
                        i && n.push(i)
                    }
                    n.length && n[0].operation(function() { for (var e = 0; e < n.length; e++) t(n[e]) })
                }
            }
            var vo = !1;

            function bo() {
                var e;
                vo || (ve(window, "resize", function() { null == e && (e = setTimeout(function() { e = null, yo(wo) }, 100)) }), ve(window, "blur", function() { return yo(hr) }), vo = !0)
            }

            function wo(e) {
                var t = e.display;
                t.cachedCharWidth = t.cachedTextHeight = t.cachedPaddingH = null, t.scrollbarsClipped = !1, e.setSize()
            }
            for (var xo = { 3: "Pause", 8: "Backspace", 9: "Tab", 13: "Enter", 16: "Shift", 17: "Ctrl", 18: "Alt", 19: "Pause", 20: "CapsLock", 27: "Esc", 32: "Space", 33: "PageUp", 34: "PageDown", 35: "End", 36: "Home", 37: "Left", 38: "Up", 39: "Right", 40: "Down", 44: "PrintScrn", 45: "Insert", 46: "Delete", 59: ";", 61: "=", 91: "Mod", 92: "Mod", 93: "Mod", 106: "*", 107: "=", 109: "-", 110: ".", 111: "/", 145: "ScrollLock", 173: "-", 186: ";", 187: "=", 188: ",", 189: "-", 190: ".", 191: "/", 192: "`", 219: "[", 220: "\\", 221: "]", 222: "'", 224: "Mod", 63232: "Up", 63233: "Down", 63234: "Left", 63235: "Right", 63272: "Delete", 63273: "Home", 63275: "End", 63276: "PageUp", 63277: "PageDown", 63302: "Insert" }, Co = 0; Co < 10; Co++) xo[Co + 48] = xo[Co + 96] = String(Co);
            for (var So = 65; So <= 90; So++) xo[So] = String.fromCharCode(So);
            for (var Oo = 1; Oo <= 12; Oo++) xo[Oo + 111] = xo[Oo + 63235] = "F" + Oo;
            var ko = {};

            function Mo(e) {
                var t, n, r, i, o = e.split(/-(?!$)/);
                e = o[o.length - 1];
                for (var a = 0; a < o.length - 1; a++) {
                    var l = o[a];
                    if (/^(cmd|meta|m)$/i.test(l)) i = !0;
                    else if (/^a(lt)?$/i.test(l)) t = !0;
                    else if (/^(c|ctrl|control)$/i.test(l)) n = !0;
                    else {
                        if (!/^s(hift)?$/i.test(l)) throw new Error("Unrecognized modifier name: " + l);
                        r = !0
                    }
                }
                return t && (e = "Alt-" + e), n && (e = "Ctrl-" + e), i && (e = "Cmd-" + e), e = r ? "Shift-" + e : e
            }

            function Po(e) {
                var t, n, r = {};
                for (t in e)
                    if (e.hasOwnProperty(t)) {
                        var i = e[t];
                        if (!/^(name|fallthrough|(de|at)tach)$/.test(t))
                            if ("..." != i) {
                                for (var o = $(t.split(" "), Mo), a = 0; a < o.length; a++) {
                                    var l = void 0,
                                        s = void 0,
                                        l = a == o.length - 1 ? (s = o.join(" "), i) : (s = o.slice(0, a + 1).join(" "), "..."),
                                        c = r[s];
                                    if (c) { if (c != l) throw new Error("Inconsistent bindings for " + s) } else r[s] = l
                                }
                                delete e[t]
                            } else delete e[t]
                    }
                for (n in r) e[n] = r[n];
                return e
            }

            function Lo(e, t, n, r) { var i = (t = jo(t)).call ? t.call(e, r) : t[e]; if (!1 === i) return "nothing"; if ("..." === i) return "multi"; if (null != i && n(i)) return "handled"; if (t.fallthrough) { if ("[object Array]" != Object.prototype.toString.call(t.fallthrough)) return Lo(e, t.fallthrough, n, r); for (var o = 0; o < t.fallthrough.length; o++) { var a = Lo(e, t.fallthrough[o], n, r); if (a) return a } } }

            function To(e) { e = "string" == typeof e ? e : xo[e.keyCode]; return "Ctrl" == e || "Alt" == e || "Shift" == e || "Mod" == e }

            function Eo(e, t, n) { var r = e; return t.altKey && "Alt" != r && (e = "Alt-" + e), (b ? t.metaKey : t.ctrlKey) && "Ctrl" != r && (e = "Ctrl-" + e), (b ? t.ctrlKey : t.metaKey) && "Mod" != r && (e = "Cmd-" + e), e = !n && t.shiftKey && "Shift" != r ? "Shift-" + e : e }

            function No(e, t) { if (h && 34 == e.keyCode && e.char) return !1; var n = xo[e.keyCode]; return null != n && !e.altGraphKey && Eo(n = 3 == e.keyCode && e.code ? e.code : n, e, t) }

            function jo(e) { return "string" == typeof e ? ko[e] : e }

            function Ao(t, e) {
                for (var n = t.doc.sel.ranges, r = [], i = 0; i < n.length; i++) {
                    for (var o = e(n[i]); r.length && it(o.from, K(r).to) <= 0;) { var a = r.pop(); if (it(a.from, o.from) < 0) { o.from = a.from; break } }
                    r.push(o)
                }
                Rr(t, function() {
                    for (var e = r.length - 1; 0 <= e; e--) Yi(t.doc, "", r[e].from, r[e].to, "+delete");
                    wr(t)
                })
            }

            function _o(e, t, n) { n = re(e.text, t + n, n); return n < 0 || n > e.text.length ? null : n }

            function Ro(e, t, n) { e = _o(e, t.ch, n); return null == e ? null : new rt(t.line, e, n < 0 ? "after" : "before") }

            function Do(e, t, n, r, i) {
                if (e) {
                    "rtl" == t.doc.direction && (i = -i);
                    var o = me(n, t.doc.direction);
                    if (o) {
                        var a, l, s, e = i < 0 ? K(o) : o[0],
                            o = i < 0 == (1 == e.level) ? "after" : "before";
                        return 0 < e.level || "rtl" == t.doc.direction ? (a = Mn(t, n), l = i < 0 ? n.text.length - 1 : 0, s = Pn(t, a, l).top, l = ie(function(e) { return Pn(t, a, e).top == s }, i < 0 == (1 == e.level) ? e.from : e.to - 1, l), "before" == o && (l = _o(n, l, 1))) : l = i < 0 ? e.to : e.from, new rt(r, l, o)
                    }
                }
                return new rt(r, i < 0 ? n.text.length : 0, i < 0 ? "before" : "after")
            }

            function Io(t, n, l, e) {
                var s = me(n, t.doc.direction);
                if (!s) return Ro(n, l, e);
                l.ch >= n.text.length ? (l.ch = n.text.length, l.sticky = "before") : l.ch <= 0 && (l.ch = 0, l.sticky = "after");
                var r = ae(s, l.ch, l.sticky),
                    i = s[r];
                if ("ltr" == t.doc.direction && i.level % 2 == 0 && (0 < e ? i.to > l.ch : i.from < l.ch)) return Ro(n, l, e);

                function c(e, t) { return _o(n, e instanceof rt ? e.ch : e, t) }

                function o(e) { return t.options.lineWrapping ? (a = a || Mn(t, n), Gn(t, n, a, e)) : { begin: 0, end: n.text.length } }
                var a, u = o("before" == l.sticky ? c(l, -1) : l.ch);
                if ("rtl" == t.doc.direction || 1 == i.level) {
                    var f = 1 == i.level == e < 0,
                        d = c(l, f ? 1 : -1);
                    if (null != d && (f ? d <= i.to && d <= u.end : d >= i.from && d >= u.begin)) { var p = f ? "before" : "after"; return new rt(l.line, d, p) }
                }
                p = function(e, t, n) {
                    for (var r = function(e, t) { return t ? new rt(l.line, c(e, 1), "before") : new rt(l.line, e, "after") }; 0 <= e && e < s.length; e += t) {
                        var i = s[e],
                            o = 0 < t == (1 != i.level),
                            a = o ? n.begin : c(n.end, -1);
                        if (i.from <= a && a < i.to) return r(a, o);
                        if (a = o ? i.from : c(i.to, -1), n.begin <= a && a < n.end) return r(a, o)
                    }
                }, r = p(r + e, e, u);
                if (r) return r;
                u = 0 < e ? u.end : c(u.begin, -1);
                return null == u || 0 < e && u == n.text.length || !(r = p(0 < e ? 0 : s.length - 1, e, o(u))) ? null : r
            }
            ko.basic = { Left: "goCharLeft", Right: "goCharRight", Up: "goLineUp", Down: "goLineDown", End: "goLineEnd", Home: "goLineStartSmart", PageUp: "goPageUp", PageDown: "goPageDown", Delete: "delCharAfter", Backspace: "delCharBefore", "Shift-Backspace": "delCharBefore", Tab: "defaultTab", "Shift-Tab": "indentAuto", Enter: "newlineAndIndent", Insert: "toggleOverwrite", Esc: "singleSelection" }, ko.pcDefault = { "Ctrl-A": "selectAll", "Ctrl-D": "deleteLine", "Ctrl-Z": "undo", "Shift-Ctrl-Z": "redo", "Ctrl-Y": "redo", "Ctrl-Home": "goDocStart", "Ctrl-End": "goDocEnd", "Ctrl-Up": "goLineUp", "Ctrl-Down": "goLineDown", "Ctrl-Left": "goGroupLeft", "Ctrl-Right": "goGroupRight", "Alt-Left": "goLineStart", "Alt-Right": "goLineEnd", "Ctrl-Backspace": "delGroupBefore", "Ctrl-Delete": "delGroupAfter", "Ctrl-S": "save", "Ctrl-F": "find", "Ctrl-G": "findNext", "Shift-Ctrl-G": "findPrev", "Shift-Ctrl-F": "replace", "Shift-Ctrl-R": "replaceAll", "Ctrl-[": "indentLess", "Ctrl-]": "indentMore", "Ctrl-U": "undoSelection", "Shift-Ctrl-U": "redoSelection", "Alt-U": "redoSelection", fallthrough: "basic" }, ko.emacsy = { "Ctrl-F": "goCharRight", "Ctrl-B": "goCharLeft", "Ctrl-P": "goLineUp", "Ctrl-N": "goLineDown", "Alt-F": "goWordRight", "Alt-B": "goWordLeft", "Ctrl-A": "goLineStart", "Ctrl-E": "goLineEnd", "Ctrl-V": "goPageDown", "Shift-Ctrl-V": "goPageUp", "Ctrl-D": "delCharAfter", "Ctrl-H": "delCharBefore", "Alt-D": "delWordAfter", "Alt-Backspace": "delWordBefore", "Ctrl-K": "killLine", "Ctrl-T": "transposeChars", "Ctrl-O": "openLine" }, ko.macDefault = { "Cmd-A": "selectAll", "Cmd-D": "deleteLine", "Cmd-Z": "undo", "Shift-Cmd-Z": "redo", "Cmd-Y": "redo", "Cmd-Home": "goDocStart", "Cmd-Up": "goDocStart", "Cmd-End": "goDocEnd", "Cmd-Down": "goDocEnd", "Alt-Left": "goGroupLeft", "Alt-Right": "goGroupRight", "Cmd-Left": "goLineLeft", "Cmd-Right": "goLineRight", "Alt-Backspace": "delGroupBefore", "Ctrl-Alt-Backspace": "delGroupAfter", "Alt-Delete": "delGroupAfter", "Cmd-S": "save", "Cmd-F": "find", "Cmd-G": "findNext", "Shift-Cmd-G": "findPrev", "Cmd-Alt-F": "replace", "Shift-Cmd-Alt-F": "replaceAll", "Cmd-[": "indentLess", "Cmd-]": "indentMore", "Cmd-Backspace": "delWrappedLineLeft", "Cmd-Delete": "delWrappedLineRight", "Cmd-U": "undoSelection", "Shift-Cmd-U": "redoSelection", "Ctrl-Up": "goDocStart", "Ctrl-Down": "goDocEnd", fallthrough: ["basic", "emacsy"] }, ko.default = g ? ko.macDefault : ko.pcDefault;
            var Ho = {
                selectAll: Ui,
                singleSelection: function(e) { return e.setSelection(e.getCursor("anchor"), e.getCursor("head"), z) },
                killLine: function(n) { return Ao(n, function(e) { if (e.empty()) { var t = Xe(n.doc, e.head.line).text.length; return e.head.ch == t && e.head.line < n.lastLine() ? { from: e.head, to: rt(e.head.line + 1, 0) } : { from: e.head, to: rt(e.head.line, t) } } return { from: e.from(), to: e.to() } }) },
                deleteLine: function(t) { return Ao(t, function(e) { return { from: rt(e.from().line, 0), to: ut(t.doc, rt(e.to().line + 1, 0)) } }) },
                delLineLeft: function(e) { return Ao(e, function(e) { return { from: rt(e.from().line, 0), to: e.from() } }) },
                delWrappedLineLeft: function(n) { return Ao(n, function(e) { var t = n.charCoords(e.head, "div").top + 5; return { from: n.coordsChar({ left: 0, top: t }, "div"), to: e.from() } }) },
                delWrappedLineRight: function(n) {
                    return Ao(n, function(e) {
                        var t = n.charCoords(e.head, "div").top + 5,
                            t = n.coordsChar({ left: n.display.lineDiv.offsetWidth + 100, top: t }, "div");
                        return { from: e.from(), to: t }
                    })
                },
                undo: function(e) { return e.undo() },
                redo: function(e) { return e.redo() },
                undoSelection: function(e) { return e.undoSelection() },
                redoSelection: function(e) { return e.redoSelection() },
                goDocStart: function(e) { return e.extendSelection(rt(e.firstLine(), 0)) },
                goDocEnd: function(e) { return e.extendSelection(rt(e.lastLine())) },
                goLineStart: function(t) { return t.extendSelectionsBy(function(e) { return Wo(t, e.head.line) }, { origin: "+move", bias: 1 }) },
                goLineStartSmart: function(t) { return t.extendSelectionsBy(function(e) { return Fo(t, e.head) }, { origin: "+move", bias: 1 }) },
                goLineEnd: function(t) {
                    return t.extendSelectionsBy(function(e) {
                        return function(e, t) {
                            var n = Xe(e.doc, t),
                                r = function(e) { for (var t; t = It(e);) e = t.find(1, !0).line; return e }(n);
                            r != n && (t = Ze(r));
                            return Do(!0, e, n, t, -1)
                        }(t, e.head.line)
                    }, { origin: "+move", bias: -1 })
                },
                goLineRight: function(t) { return t.extendSelectionsBy(function(e) { e = t.cursorCoords(e.head, "div").top + 5; return t.coordsChar({ left: t.display.lineDiv.offsetWidth + 100, top: e }, "div") }, U) },
                goLineLeft: function(t) { return t.extendSelectionsBy(function(e) { e = t.cursorCoords(e.head, "div").top + 5; return t.coordsChar({ left: 0, top: e }, "div") }, U) },
                goLineLeftSmart: function(n) {
                    return n.extendSelectionsBy(function(e) {
                        var t = n.cursorCoords(e.head, "div").top + 5,
                            t = n.coordsChar({ left: 0, top: t }, "div");
                        return t.ch < n.getLine(t.line).search(/\S/) ? Fo(n, e.head) : t
                    }, U)
                },
                goLineUp: function(e) { return e.moveV(-1, "line") },
                goLineDown: function(e) { return e.moveV(1, "line") },
                goPageUp: function(e) { return e.moveV(-1, "page") },
                goPageDown: function(e) { return e.moveV(1, "page") },
                goCharLeft: function(e) { return e.moveH(-1, "char") },
                goCharRight: function(e) { return e.moveH(1, "char") },
                goColumnLeft: function(e) { return e.moveH(-1, "column") },
                goColumnRight: function(e) { return e.moveH(1, "column") },
                goWordLeft: function(e) { return e.moveH(-1, "word") },
                goGroupRight: function(e) { return e.moveH(1, "group") },
                goGroupLeft: function(e) { return e.moveH(-1, "group") },
                goWordRight: function(e) { return e.moveH(1, "word") },
                delCharBefore: function(e) { return e.deleteH(-1, "codepoint") },
                delCharAfter: function(e) { return e.deleteH(1, "char") },
                delWordBefore: function(e) { return e.deleteH(-1, "word") },
                delWordAfter: function(e) { return e.deleteH(1, "word") },
                delGroupBefore: function(e) { return e.deleteH(-1, "group") },
                delGroupAfter: function(e) { return e.deleteH(1, "group") },
                indentAuto: function(e) { return e.indentSelection("smart") },
                indentMore: function(e) { return e.indentSelection("add") },
                indentLess: function(e) { return e.indentSelection("subtract") },
                insertTab: function(e) { return e.replaceSelection("\t") },
                insertSoftTab: function(e) {
                    for (var t = [], n = e.listSelections(), r = e.options.tabSize, i = 0; i < n.length; i++) {
                        var o = n[i].from(),
                            o = D(e.getLine(o.line), o.ch, r);
                        t.push(q(r - o % r))
                    }
                    e.replaceSelections(t)
                },
                defaultTab: function(e) { e.somethingSelected() ? e.indentSelection("add") : e.execCommand("insertTab") },
                transposeChars: function(a) {
                    return Rr(a, function() {
                        for (var e, t, n, r = a.listSelections(), i = [], o = 0; o < r.length; o++) r[o].empty() && (e = r[o].head, (t = Xe(a.doc, e.line).text) && (0 < (e = e.ch == t.length ? new rt(e.line, e.ch - 1) : e).ch ? (e = new rt(e.line, e.ch + 1), a.replaceRange(t.charAt(e.ch - 1) + t.charAt(e.ch - 2), rt(e.line, e.ch - 2), e, "+transpose")) : e.line > a.doc.first && ((n = Xe(a.doc, e.line - 1).text) && (e = new rt(e.line, 1), a.replaceRange(t.charAt(0) + a.doc.lineSeparator() + n.charAt(n.length - 1), rt(e.line - 1, n.length - 1), e, "+transpose")))), i.push(new oi(e, e)));
                        a.setSelections(i)
                    })
                },
                newlineAndIndent: function(r) {
                    return Rr(r, function() {
                        for (var e = (t = r.listSelections()).length - 1; 0 <= e; e--) r.replaceRange(r.doc.lineSeparator(), t[e].anchor, t[e].head, "+input");
                        for (var t = r.listSelections(), n = 0; n < t.length; n++) r.indentLine(t[n].from().line, null, !0);
                        wr(r)
                    })
                },
                openLine: function(e) { return e.replaceSelection("\n", "start") },
                toggleOverwrite: function(e) { return e.toggleOverwrite() }
            };

            function Wo(e, t) {
                var n = Xe(e.doc, t),
                    r = Wt(n);
                return Do(!0, e, r, t = r != n ? Ze(r) : t, 1)
            }

            function Fo(e, t) {
                var n = Wo(e, t.line),
                    r = Xe(e.doc, n.line),
                    e = me(r, e.doc.direction);
                if (e && 0 != e[0].level) return n;
                r = Math.max(n.ch, r.text.search(/\S/)), t = t.line == n.line && t.ch <= r && t.ch;
                return rt(n.line, t ? 0 : r, n.sticky)
            }

            function zo(e, t, n) {
                if ("string" == typeof t && !(t = Ho[t])) return !1;
                e.display.input.ensurePolled();
                var r = e.display.shift,
                    i = !1;
                try { e.isReadOnly() && (e.state.suppressEdits = !0), n && (e.display.shift = !1), i = t(e) != F } finally { e.display.shift = r, e.state.suppressEdits = !1 }
                return i
            }
            var Bo = new I;

            function Uo(e, t, n, r) { var i = e.state.keySeq; if (i) { if (To(t)) return "handled"; if (/\'$/.test(t) ? e.state.keySeq = null : Bo.set(50, function() { e.state.keySeq == i && (e.state.keySeq = null, e.display.input.reset()) }), Vo(e, i + " " + t, n, r)) return !0 } return Vo(e, t, n, r) }

            function Vo(e, t, n, r) { r = function(e, t, n) { for (var r = 0; r < e.state.keyMaps.length; r++) { var i = Lo(t, e.state.keyMaps[r], n, e); if (i) return i } return e.options.extraKeys && Lo(t, e.options.extraKeys, n, e) || Lo(t, e.options.keyMap, n, e) }(e, t, r); return "multi" == r && (e.state.keySeq = t), "handled" == r && an(e, "keyHandled", e, t, n), "handled" != r && "multi" != r || (Me(n), ur(e)), !!r }

            function Go(t, e) { var n = No(e, !0); return !!n && (e.shiftKey && !t.state.keySeq ? Uo(t, "Shift-" + n, e, function(e) { return zo(t, e, !0) }) || Uo(t, n, e, function(e) { if ("string" == typeof e ? /^go[A-Z]/.test(e) : e.motion) return zo(t, e) }) : Uo(t, n, e, function(e) { return zo(t, e) })) }
            var qo = null;

            function Ko(e) {
                var t, n, r;

                function i(e) { 18 != e.keyCode && e.altKey || (S(r, "CodeMirror-crosshair"), we(document, "keyup", i), we(document, "mouseover", i)) }
                e.target && e.target != this.display.input.getField() || (this.curOp.focus = T(), Ce(this, e) || (w && y < 11 && 27 == e.keyCode && (e.returnValue = !1), t = e.keyCode, this.display.shift = 16 == t || e.shiftKey, n = Go(this, e), h && (qo = n ? t : null, !n && 88 == t && !Ie && (g ? e.metaKey : e.ctrlKey) && this.replaceSelection("", null, "cut")), d && !g && !n && 46 == t && e.shiftKey && !e.ctrlKey && document.execCommand && document.execCommand("cut"), 18 != t || /\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className) || (E(r = this.display.lineDiv, "CodeMirror-crosshair"), ve(document, "keyup", i), ve(document, "mouseover", i))))
            }

            function $o(e) { 16 == e.keyCode && (this.doc.sel.shift = !1), Ce(this, e) }

            function Xo(e) {
                if (!(e.target && e.target != this.display.input.getField() || mn(this.display, e) || Ce(this, e) || e.ctrlKey && !e.altKey || g && e.metaKey)) {
                    var t, n = e.keyCode,
                        r = e.charCode;
                    if (h && n == qo) return qo = null, void Me(e);
                    h && (!e.which || e.which < 10) && Go(this, e) || "\b" != (r = String.fromCharCode(null == r ? n : r)) && (Uo(t = this, "'" + r + "'", e, function(e) { return zo(t, e, !0) }) || this.display.input.onKeyPress(e))
                }
            }
            var Yo, Qo, Jo = function(e, t, n) { this.time = e, this.pos = t, this.button = n };

            function Zo(e) {
                var t, n, r, i, o, a = this,
                    l = a.display;
                Ce(a, e) || l.activeTouch && l.input.supportsTouch() || (l.input.ensurePolled(), l.shift = e.shiftKey, mn(l, e) ? p || (l.scroller.draggable = !1, setTimeout(function() { return l.scroller.draggable = !0 }, 100)) : na(a, e) || (t = Zn(a, e), n = Ne(e), i = t ? (r = t, i = n, o = +new Date, Qo && Qo.compare(o, r, i) ? (Yo = Qo = null, "triple") : Yo && Yo.compare(o, r, i) ? (Qo = new Jo(o, r, i), Yo = null, "double") : (Yo = new Jo(o, r, i), Qo = null, "single")) : "single", window.focus(), 1 == n && a.state.selectingText && a.state.selectingText(e), t && function(n, e, r, t, i) { var o = "Click"; "double" == t ? o = "Double" + o : "triple" == t && (o = "Triple" + o); return Uo(n, Eo(o = (1 == e ? "Left" : 2 == e ? "Middle" : "Right") + o, i), i, function(e) { if (!(e = "string" == typeof e ? Ho[e] : e)) return !1; var t = !1; try { n.isReadOnly() && (n.state.suppressEdits = !0), t = e(n, r) != F } finally { n.state.suppressEdits = !1 } return t }) }(a, n, t, i, e) || (1 == n ? t ? function(e, t, n, r) {
                    w ? setTimeout(_(fr, e), 0) : e.curOp.focus = T();
                    var i, o = function(e, t, n) {
                            var r = e.getOption("configureMouse"),
                                i = r ? r(e, t, n) : {};
                            null == i.unit && (r = m ? n.shiftKey && n.metaKey : n.altKey, i.unit = r ? "rectangle" : "single" == t ? "char" : "double" == t ? "word" : "line");
                            null != i.extend && !e.doc.extend || (i.extend = e.doc.extend || n.shiftKey);
                            null == i.addNew && (i.addNew = g ? n.metaKey : n.ctrlKey);
                            null == i.moveOnDrag && (i.moveOnDrag = !(g ? n.altKey : n.ctrlKey));
                            return i
                        }(e, n, r),
                        a = e.doc.sel;
                    (e.options.dragDrop && _e && !e.isReadOnly() && "single" == n && -1 < (i = a.contains(t)) && (it((i = a.ranges[i]).from(), t) < 0 || 0 < t.xRel) && (0 < it(i.to(), t) || t.xRel < 0) ? function(t, n, r, i) {
                        var o = t.display,
                            a = !1,
                            l = Dr(t, function(e) { p && (o.scroller.draggable = !1), t.state.draggingText = !1, t.state.delayingBlurEvent && (t.hasFocus() ? t.state.delayingBlurEvent = !1 : dr(t)), we(o.wrapper.ownerDocument, "mouseup", l), we(o.wrapper.ownerDocument, "mousemove", s), we(o.scroller, "dragstart", c), we(o.scroller, "drop", l), a || (Me(e), i.addNew || Ei(t.doc, r, null, null, i.extend), p && !u || w && 9 == y ? setTimeout(function() { o.wrapper.ownerDocument.body.focus({ preventScroll: !0 }), o.input.focus() }, 20) : o.input.focus()) }),
                            s = function(e) { a = a || 10 <= Math.abs(n.clientX - e.clientX) + Math.abs(n.clientY - e.clientY) },
                            c = function() { return a = !0 };
                        p && (o.scroller.draggable = !0);
                        (t.state.draggingText = l).copy = !i.moveOnDrag, ve(o.wrapper.ownerDocument, "mouseup", l), ve(o.wrapper.ownerDocument, "mousemove", s), ve(o.scroller, "dragstart", c), ve(o.scroller, "drop", l), t.state.delayingBlurEvent = !0, setTimeout(function() { return o.input.focus() }, 20), o.scroller.dragDrop && o.scroller.dragDrop()
                    } : function(d, e, p, h) {
                        w && dr(d);
                        var a = d.display,
                            g = d.doc;
                        Me(e);
                        var m, y, v = g.sel,
                            t = v.ranges;
                        h.addNew && !h.extend ? (y = g.sel.contains(p), m = -1 < y ? t[y] : new oi(p, p)) : (m = g.sel.primary(), y = g.sel.primIndex);
                        "rectangle" == h.unit ? (h.addNew || (m = new oi(p, p)), p = Zn(d, e, !0, !0), y = -1) : (e = ea(d, p, h.unit), m = h.extend ? Ti(m, e.anchor, e.head, h.extend) : e);
                        h.addNew ? -1 == y ? (y = t.length, Ri(g, ai(d, t.concat([m]), y), { scroll: !1, origin: "*mouse" })) : 1 < t.length && t[y].empty() && "char" == h.unit && !h.extend ? (Ri(g, ai(d, t.slice(0, y).concat(t.slice(y + 1)), 0), { scroll: !1, origin: "*mouse" }), v = g.sel) : ji(g, y, m, B) : (Ri(g, new ii([m], y = 0), B), v = g.sel);
                        var b = p;

                        function l(e) {
                            if (0 != it(b, e))
                                if (b = e, "rectangle" == h.unit) {
                                    for (var t = [], n = d.options.tabSize, r = D(Xe(g, p.line).text, p.ch, n), i = D(Xe(g, e.line).text, e.ch, n), o = Math.min(r, i), a = Math.max(r, i), l = Math.min(p.line, e.line), s = Math.min(d.lastLine(), Math.max(p.line, e.line)); l <= s; l++) {
                                        var c = Xe(g, l).text,
                                            u = V(c, o, n);
                                        o == a ? t.push(new oi(rt(l, u), rt(l, u))) : c.length > u && t.push(new oi(rt(l, u), rt(l, V(c, a, n))))
                                    }
                                    t.length || t.push(new oi(p, p)), Ri(g, ai(d, v.ranges.slice(0, y).concat(t), y), { origin: "*mouse", scroll: !1 }), d.scrollIntoView(e)
                                } else {
                                    var f, r = m,
                                        i = ea(d, e, h.unit),
                                        e = r.anchor,
                                        e = 0 < it(i.anchor, e) ? (f = i.head, st(r.from(), i.anchor)) : (f = i.anchor, lt(r.to(), i.head)),
                                        i = v.ranges.slice(0);
                                    i[y] = function(e, t) {
                                        var n = t.anchor,
                                            r = t.head,
                                            i = Xe(e.doc, n.line);
                                        if (0 == it(n, r) && n.sticky == r.sticky) return t;
                                        var o = me(i);
                                        if (!o) return t;
                                        var a = ae(o, n.ch, n.sticky),
                                            l = o[a];
                                        if (l.from != n.ch && l.to != n.ch) return t;
                                        i = a + (l.from == n.ch == (1 != l.level) ? 0 : 1);
                                        if (0 == i || i == o.length) return t;
                                        s = r.line != n.line ? 0 < (r.line - n.line) * ("ltr" == e.doc.direction ? 1 : -1) : (e = ae(o, r.ch, r.sticky), s = e - a || (r.ch - n.ch) * (1 == l.level ? -1 : 1), e == i - 1 || e == i ? s < 0 : 0 < s);
                                        var i = o[i + (s ? -1 : 0)],
                                            s = s == (1 == i.level),
                                            i = s ? i.from : i.to,
                                            s = s ? "after" : "before";
                                        return n.ch == i && n.sticky == s ? t : new oi(new rt(n.line, i, s), r)
                                    }(d, new oi(ut(g, e), f)), Ri(g, ai(d, i, y), B)
                                }
                        }
                        var s = a.wrapper.getBoundingClientRect(),
                            c = 0;

                        function n(e) { d.state.selectingText = !1, c = 1 / 0, e && (Me(e), a.input.focus()), we(a.wrapper.ownerDocument, "mousemove", r), we(a.wrapper.ownerDocument, "mouseup", i), g.history.lastSelOrigin = null }
                        var r = Dr(d, function(e) {
                                (0 !== e.buttons && Ne(e) ? function e(t) {
                                    var n, r, i = ++c,
                                        o = Zn(d, t, !0, "rectangle" == h.unit);
                                    o && (0 != it(o, b) ? (d.curOp.focus = T(), l(o), n = yr(a, g), (o.line >= n.to || o.line < n.from) && setTimeout(Dr(d, function() { c == i && e(t) }), 150)) : (r = t.clientY < s.top ? -20 : t.clientY > s.bottom ? 20 : 0) && setTimeout(Dr(d, function() { c == i && (a.scroller.scrollTop += r, e(t)) }), 50))
                                } : n)(e)
                            }),
                            i = Dr(d, n);
                        d.state.selectingText = i, ve(a.wrapper.ownerDocument, "mousemove", r), ve(a.wrapper.ownerDocument, "mouseup", i)
                    })(e, r, t, o)
                }(a, t, i, e) : Ee(e) == l.scroller && Me(e) : 2 == n ? (t && Ei(a.doc, t), setTimeout(function() { return l.input.focus() }, 20)) : 3 == n && (x ? a.display.input.onContextMenu(e) : dr(a)))))
            }

            function ea(e, t, n) {
                if ("char" == n) return new oi(t, t);
                if ("word" == n) return e.findWordAt(t);
                if ("line" == n) return new oi(rt(t.line, 0), ut(e.doc, rt(t.line + 1, 0)));
                t = n(e, t);
                return new oi(t.from, t.to)
            }

            function ta(e, t, n, r) {
                var i, o;
                if (t.touches) i = t.touches[0].clientX, o = t.touches[0].clientY;
                else try { i = t.clientX, o = t.clientY } catch (e) { return !1 }
                if (i >= Math.floor(e.display.gutters.getBoundingClientRect().right)) return !1;
                r && Me(t);
                var a = e.display,
                    r = a.lineDiv.getBoundingClientRect();
                if (o > r.bottom || !Oe(e, n)) return Le(t);
                o -= r.top - a.viewOffset;
                for (var l = 0; l < e.display.gutterSpecs.length; ++l) { var s = a.gutters.childNodes[l]; if (s && s.getBoundingClientRect().right >= i) return xe(e, n, e, et(e.doc, o), e.display.gutterSpecs[l].className, t), Le(t) }
            }

            function na(e, t) { return ta(e, t, "gutterClick", !0) }

            function ra(e, t) {
                var n, r;
                mn(e.display, t) || (r = t, Oe(n = e, "gutterContextMenu") && ta(n, r, "gutterContextMenu", !1)) || Ce(e, t, "contextmenu") || x || e.display.input.onContextMenu(t)
            }

            function ia(e) { e.display.wrapper.className = e.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") + e.options.theme.replace(/(^|\s)\s*/g, " cm-s-"), An(e) }
            Jo.prototype.compare = function(e, t, n) { return this.time + 400 > e && 0 == it(t, this.pos) && n == this.button };
            var oa = { toString: function() { return "CodeMirror.Init" } },
                aa = {},
                la = {};

            function sa(e, t, n) {!t != !(n && n != oa) && (n = e.display.dragFunctions, (t = t ? ve : we)(e.display.scroller, "dragstart", n.start), t(e.display.scroller, "dragenter", n.enter), t(e.display.scroller, "dragover", n.over), t(e.display.scroller, "dragleave", n.leave), t(e.display.scroller, "drop", n.drop)) }

            function ca(e) { e.options.lineWrapping ? (E(e.display.wrapper, "CodeMirror-wrap"), e.display.sizer.style.minWidth = "", e.display.sizerWidth = null) : (S(e.display.wrapper, "CodeMirror-wrap"), Gt(e)), Jn(e), tr(e), An(e), setTimeout(function() { return Lr(e) }, 100) }

            function ua(e, t) {
                var n = this;
                if (!(this instanceof ua)) return new ua(e, t);
                this.options = t = t ? R(t) : {}, R(aa, t, !1);
                var r = t.value;
                "string" == typeof r ? r = new po(r, t.mode, null, t.lineSeparator, t.direction) : t.mode && (r.modeOption = t.mode), this.doc = r;
                var i, o = new ua.inputStyles[t.inputStyle](this),
                    o = this.display = new Jr(e, r, o, t);
                for (i in ia(o.wrapper.CodeMirror = this), t.lineWrapping && (this.display.wrapper.className += " CodeMirror-wrap"), Nr(this), this.state = { keyMaps: [], overlays: [], modeGen: 0, overwrite: !1, delayingBlurEvent: !1, focused: !1, suppressEdits: !1, pasteIncoming: -1, cutIncoming: -1, selectingText: !1, draggingText: !1, highlight: new I, keySeq: null, specialChars: null }, t.autofocus && !f && o.input.focus(), w && y < 11 && setTimeout(function() { return n.display.input.reset(!0) }, 20), function(r) {
                        var i = r.display;
                        ve(i.scroller, "mousedown", Dr(r, Zo)), ve(i.scroller, "dblclick", w && y < 11 ? Dr(r, function(e) {
                            var t;
                            Ce(r, e) || (!(t = Zn(r, e)) || na(r, e) || mn(r.display, e) || (Me(e), t = r.findWordAt(t), Ei(r.doc, t.anchor, t.head)))
                        }) : function(e) { return Ce(r, e) || Me(e) });
                        ve(i.scroller, "contextmenu", function(e) { return ra(r, e) }), ve(i.input.getField(), "contextmenu", function(e) { i.scroller.contains(e.target) || ra(r, e) });
                        var n, o = { end: 0 };

                        function a() { i.activeTouch && (n = setTimeout(function() { return i.activeTouch = null }, 1e3), (o = i.activeTouch).end = +new Date) }

                        function l(e, t) {
                            if (null == t.left) return 1;
                            var n = t.left - e.left,
                                e = t.top - e.top;
                            return 400 < n * n + e * e
                        }
                        ve(i.scroller, "touchstart", function(e) {
                            var t;
                            Ce(r, e) || function(e) { if (1 == e.touches.length) { e = e.touches[0]; return e.radiusX <= 1 && e.radiusY <= 1 } }(e) || na(r, e) || (i.input.ensurePolled(), clearTimeout(n), t = +new Date, i.activeTouch = { start: t, moved: !1, prev: t - o.end <= 300 ? o : null }, 1 == e.touches.length && (i.activeTouch.left = e.touches[0].pageX, i.activeTouch.top = e.touches[0].pageY))
                        }), ve(i.scroller, "touchmove", function() { i.activeTouch && (i.activeTouch.moved = !0) }), ve(i.scroller, "touchend", function(e) {
                            var t, n = i.activeTouch;
                            n && !mn(i, e) && null != n.left && !n.moved && new Date - n.start < 300 && (t = r.coordsChar(i.activeTouch, "page"), t = !n.prev || l(n, n.prev) ? new oi(t, t) : !n.prev.prev || l(n, n.prev.prev) ? r.findWordAt(t) : new oi(rt(t.line, 0), ut(r.doc, rt(t.line + 1, 0))), r.setSelection(t.anchor, t.head), r.focus(), Me(e)), a()
                        }), ve(i.scroller, "touchcancel", a), ve(i.scroller, "scroll", function() { i.scroller.clientHeight && (Or(r, i.scroller.scrollTop), Mr(r, i.scroller.scrollLeft, !0), xe(r, "scroll", r)) }), ve(i.scroller, "mousewheel", function(e) { return ri(r, e) }), ve(i.scroller, "DOMMouseScroll", function(e) { return ri(r, e) }), ve(i.wrapper, "scroll", function() { return i.wrapper.scrollTop = i.wrapper.scrollLeft = 0 }), i.dragFunctions = {
                            enter: function(e) { Ce(r, e) || Te(e) },
                            over: function(e) {
                                var t, n;
                                Ce(r, e) || ((n = Zn(t = r, n = e)) && (sr(t, n, n = document.createDocumentFragment()), t.display.dragCursor || (t.display.dragCursor = P("div", null, "CodeMirror-cursors CodeMirror-dragcursors"), t.display.lineSpace.insertBefore(t.display.dragCursor, t.display.cursorDiv)), k(t.display.dragCursor, n)), Te(e))
                            },
                            start: function(e) {
                                var t, n;
                                t = r, n = e, w && (!t.state.draggingText || +new Date - ho < 100) ? Te(n) : Ce(t, n) || mn(t.display, n) || (n.dataTransfer.setData("Text", t.getSelection()), n.dataTransfer.effectAllowed = "copyMove", n.dataTransfer.setDragImage && !u && ((e = P("img", null, null, "position: fixed; left: 0; top: 0;")).src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==", h && (e.width = e.height = 1, t.display.wrapper.appendChild(e), e._top = e.offsetTop), n.dataTransfer.setDragImage(e, 0, 0), h && e.parentNode.removeChild(e)))
                            },
                            drop: Dr(r, go),
                            leave: function(e) { Ce(r, e) || mo(r) }
                        };
                        var e = i.input.getField();
                        ve(e, "keyup", function(e) { return $o.call(r, e) }), ve(e, "keydown", Dr(r, Ko)), ve(e, "keypress", Dr(r, Xo)), ve(e, "focus", function(e) { return pr(r, e) }), ve(e, "blur", function(e) { return hr(r, e) })
                    }(this), bo(), Ar(this), this.curOp.forceUpdate = !0, yi(this, r), t.autofocus && !f || this.hasFocus() ? setTimeout(function() { n.hasFocus() && !n.state.focused && pr(n) }, 20) : hr(this), la) la.hasOwnProperty(i) && la[i](this, t[i], oa);
                $r(this), t.finishInit && t.finishInit(this);
                for (var a = 0; a < fa.length; ++a) fa[a](this);
                _r(this), p && t.lineWrapping && "optimizelegibility" == getComputedStyle(o.lineDiv).textRendering && (o.lineDiv.style.textRendering = "auto")
            }
            ua.defaults = aa, ua.optionHandlers = la;
            var fa = [];

            function da(e, t, n, r) {
                var i, o = e.doc;
                "smart" == (n = null == n ? "add" : n) && (o.mode.indent ? i = mt(e, t).state : n = "prev");
                var a = e.options.tabSize,
                    l = Xe(o, t),
                    s = D(l.text, null, a);
                l.stateAfter && (l.stateAfter = null);
                var c = l.text.match(/^\s*/)[0];
                if (r || /\S/.test(l.text)) {
                    if ("smart" == n && ((u = o.mode.indent(i, l.text.slice(c.length), l.text)) == F || 150 < u)) {
                        if (!r) return;
                        n = "prev"
                    }
                } else u = 0, n = "not";
                "prev" == n ? u = t > o.first ? D(Xe(o, t - 1).text, null, a) : 0 : "add" == n ? u = s + e.options.indentUnit : "subtract" == n ? u = s - e.options.indentUnit : "number" == typeof n && (u = s + n);
                var u = Math.max(0, u),
                    f = "",
                    d = 0;
                if (e.options.indentWithTabs)
                    for (var p = Math.floor(u / a); p; --p) d += a, f += "\t";
                if (d < u && (f += q(u - d)), f != c) return Yi(o, f, rt(t, 0), rt(t, c.length), "+input"), !(l.stateAfter = null);
                for (var h = 0; h < o.sel.ranges.length; h++) {
                    var g = o.sel.ranges[h];
                    if (g.head.line == t && g.head.ch < c.length) {
                        g = rt(t, c.length);
                        ji(o, h, new oi(g, g));
                        break
                    }
                }
            }
            ua.defineInitHook = function(e) { return fa.push(e) };
            var pa = null;

            function ha(e) { pa = e }

            function ga(e, t, n, r, i) {
                var o = e.doc;
                e.display.shift = !1, r = r || o.sel;
                var a = +new Date - 200,
                    l = "paste" == i || e.state.pasteIncoming > a,
                    s = Re(t),
                    c = null;
                if (l && 1 < r.ranges.length)
                    if (pa && pa.text.join("\n") == t) {
                        if (r.ranges.length % pa.text.length == 0)
                            for (var c = [], u = 0; u < pa.text.length; u++) c.push(o.splitLines(pa.text[u]))
                    } else s.length == r.ranges.length && e.options.pasteLinesPerSelection && (c = $(s, function(e) { return [e] }));
                for (var f = e.curOp.updateInput, d = r.ranges.length - 1; 0 <= d; d--) {
                    var p = r.ranges[d],
                        h = p.from(),
                        g = p.to();
                    p.empty() && (n && 0 < n ? h = rt(h.line, h.ch - n) : e.state.overwrite && !l ? g = rt(g.line, Math.min(Xe(o, g.line).text.length, g.ch + K(s).length)) : l && pa && pa.lineWise && pa.text.join("\n") == s.join("\n") && (h = g = rt(h.line, 0)));
                    g = { from: h, to: g, text: c ? c[d % c.length] : s, origin: i || (l ? "paste" : e.state.cutIncoming > a ? "cut" : "+input") };
                    Gi(e.doc, g), an(e, "inputRead", e, g)
                }
                t && !l && ya(e, t), wr(e), e.curOp.updateInput < 2 && (e.curOp.updateInput = f), e.curOp.typing = !0, e.state.pasteIncoming = e.state.cutIncoming = -1
            }

            function ma(e, t) { var n = e.clipboardData && e.clipboardData.getData("Text"); return n && (e.preventDefault(), t.isReadOnly() || t.options.disableInput || Rr(t, function() { return ga(t, n, 0, null, "paste") }), 1) }

            function ya(e, t) {
                if (e.options.electricChars && e.options.smartIndent)
                    for (var n = e.doc.sel, r = n.ranges.length - 1; 0 <= r; r--) {
                        var i = n.ranges[r];
                        if (!(100 < i.head.ch || r && n.ranges[r - 1].head.line == i.head.line)) {
                            var o = e.getModeAt(i.head),
                                a = !1;
                            if (o.electricChars) {
                                for (var l = 0; l < o.electricChars.length; l++)
                                    if (-1 < t.indexOf(o.electricChars.charAt(l))) { a = da(e, i.head.line, "smart"); break }
                            } else o.electricInput && o.electricInput.test(Xe(e.doc, i.head.line).text.slice(0, i.head.ch)) && (a = da(e, i.head.line, "smart"));
                            a && an(e, "electricInput", e, i.head.line)
                        }
                    }
            }

            function va(e) {
                for (var t = [], n = [], r = 0; r < e.doc.sel.ranges.length; r++) {
                    var i = e.doc.sel.ranges[r].head.line,
                        i = { anchor: rt(i, 0), head: rt(i + 1, 0) };
                    n.push(i), t.push(e.getRange(i.anchor, i.head))
                }
                return { text: t, ranges: n }
            }

            function ba(e, t, n, r) { e.setAttribute("autocorrect", n ? "" : "off"), e.setAttribute("autocapitalize", r ? "" : "off"), e.setAttribute("spellcheck", !!t) }

            function wa() {
                var e = P("textarea", null, null, "position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),
                    t = P("div", [e], null, "overflow: hidden; position: relative; width: 3px; height: 0px;");
                return p ? e.style.width = "1000px" : e.setAttribute("wrap", "off"), l && (e.style.border = "1px solid black"), ba(e), t
            }

            function xa(i, o, a, l, s) {
                var e = o,
                    t = a,
                    c = Xe(i, o.line),
                    u = s && "rtl" == i.direction ? -a : a;

                function n(e) {
                    var t, n, r;
                    if (null == (n = "codepoint" == l ? (t = c.text.charCodeAt(o.ch + (0 < a ? 0 : -1)), isNaN(t) ? null : (n = 0 < a ? 55296 <= t && t < 56320 : 56320 <= t && t < 57343, new rt(o.line, Math.max(0, Math.min(c.text.length, o.ch + a * (n ? 2 : 1))), -a))) : s ? Io(i.cm, c, o, a) : Ro(c, o, a))) {
                        if (e || (r = o.line + u) < i.first || r >= i.first + i.size || (o = new rt(r, o.ch, o.sticky), !(c = Xe(i, r)))) return;
                        o = Do(s, i.cm, c, o.line, u)
                    } else o = n;
                    return 1
                }
                if ("char" == l || "codepoint" == l) n();
                else if ("column" == l) n(!0);
                else if ("word" == l || "group" == l)
                    for (var r = null, f = "group" == l, d = i.cm && i.cm.getHelper(o, "wordChars"), p = !0; !(a < 0) || n(!p); p = !1) {
                        var h = c.text.charAt(o.ch) || "\n",
                            h = Z(h, d) ? "w" : f && "\n" == h ? "n" : !f || /\s/.test(h) ? null : "p";
                        if (!f || p || h || (h = "s"), r && r != h) { a < 0 && (a = 1, n(), o.sticky = "after"); break }
                        if (h && (r = h), 0 < a && !n(!p)) break
                    }
                t = zi(i, o, e, t, !0);
                return ot(e, t) && (t.hitSide = !0), t
            }

            function Ca(e, t, n, r) {
                var i, o, a, l = e.doc,
                    s = t.left;
                for ("page" == r ? (i = Math.min(e.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight), i = Math.max(i - .5 * Kn(e.display), 3), o = (0 < n ? t.bottom : t.top) + n * i) : "line" == r && (o = 0 < n ? t.bottom + 3 : t.top - 3);
                    (a = Un(e, s, o)).outside;) {
                    if (n < 0 ? o <= 0 : o >= l.height) { a.hitSide = !0; break }
                    o += 5 * n
                }
                return a
            }
            e = function(e) { this.cm = e, this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null, this.polling = new I, this.composing = null, this.gracePeriod = !1, this.readDOMTimeout = null };

            function Sa(e, t) {
                var n = kn(e, t.line);
                if (!n || n.hidden) return null;
                var r = Xe(e.doc, t.line),
                    n = Sn(n, r, t.line),
                    r = me(r, e.doc.direction),
                    e = "left";
                r && (e = ae(r, t.ch) % 2 ? "right" : "left");
                e = En(n.map, t.ch, e);
                return e.offset = "right" == e.collapse ? e.end : e.start, e
            }

            function Oa(e, t) { return t && (e.bad = !0), e }

            function ka(e, t, n) {
                var r;
                if (t == e.display.lineDiv) {
                    if (!(r = e.display.lineDiv.childNodes[n])) return Oa(e.clipPos(rt(e.display.viewTo - 1)), !0);
                    t = null, n = 0
                } else
                    for (r = t;; r = r.parentNode) { if (!r || r == e.display.lineDiv) return null; if (r.parentNode && r.parentNode == e.display.lineDiv) break }
                for (var i = 0; i < e.display.view.length; i++) {
                    var o = e.display.view[i];
                    if (o.node == r) return function(c, e, t) {
                        var n = c.text.firstChild,
                            r = !1;
                        if (!e || !L(n, e)) return Oa(rt(Ze(c.line), 0), !0);
                        if (e == n && (r = !0, e = n.childNodes[t], t = 0, !e)) { var i = c.rest ? K(c.rest) : c.line; return Oa(rt(Ze(i), i.text.length), r) }
                        var i = 3 == e.nodeType ? e : null,
                            o = e;
                        i || 1 != e.childNodes.length || 3 != e.firstChild.nodeType || (i = e.firstChild, t = t && i.nodeValue.length);
                        for (; o.parentNode != n;) o = o.parentNode;
                        var u = c.measure,
                            f = u.maps;

                        function a(e, t, n) {
                            for (var r = -1; r < (f ? f.length : 0); r++)
                                for (var i = r < 0 ? u.map : f[r], o = 0; o < i.length; o += 3) {
                                    var a = i[o + 2];
                                    if (a == e || a == t) {
                                        var l = Ze(r < 0 ? c.line : c.rest[r]),
                                            s = i[o] + n;
                                        return rt(l, s = n < 0 || a != e ? i[o + (n ? 1 : 0)] : s)
                                    }
                                }
                        }
                        var l = a(i, o, t);
                        if (l) return Oa(l, r);
                        for (var s = o.nextSibling, d = i ? i.nodeValue.length - t : 0; s; s = s.nextSibling) {
                            if (l = a(s, s.firstChild, 0)) return Oa(rt(l.line, l.ch - d), r);
                            d += s.textContent.length
                        }
                        for (var p = o.previousSibling, h = t; p; p = p.previousSibling) {
                            if (l = a(p, p.firstChild, -1)) return Oa(rt(l.line, l.ch + h), r);
                            h += p.textContent.length
                        }
                    }(o, t, n)
                }
            }
            e.prototype.init = function(e) {
                var t = this,
                    o = this,
                    a = o.cm,
                    l = o.div = e.lineDiv;

                function s(e) { for (var t = e.target; t; t = t.parentNode) { if (t == l) return 1; if (/\bCodeMirror-(?:line)?widget\b/.test(t.className)) break } }

                function n(e) {
                    if (s(e) && !Ce(a, e)) {
                        if (a.somethingSelected()) ha({ lineWise: !1, text: a.getSelections() }), "cut" == e.type && a.replaceSelection("", null, "cut");
                        else {
                            if (!a.options.lineWiseCopyCut) return;
                            var t = va(a);
                            ha({ lineWise: !0, text: t.text }), "cut" == e.type && a.operation(function() { a.setSelections(t.ranges, 0, z), a.replaceSelection("", null, "cut") })
                        }
                        if (e.clipboardData) { e.clipboardData.clearData(); var n = pa.text.join("\n"); if (e.clipboardData.setData("Text", n), e.clipboardData.getData("Text") == n) return void e.preventDefault() }
                        var r = wa(),
                            e = r.firstChild;
                        a.display.lineSpace.insertBefore(r, a.display.lineSpace.firstChild), e.value = pa.text.join("\n");
                        var i = document.activeElement;
                        A(e), setTimeout(function() { a.display.lineSpace.removeChild(r), i.focus(), i == l && o.showPrimarySelection() }, 50)
                    }
                }
                ba(l, a.options.spellcheck, a.options.autocorrect, a.options.autocapitalize), ve(l, "paste", function(e) {!s(e) || Ce(a, e) || ma(e, a) || y <= 11 && setTimeout(Dr(a, function() { return t.updateFromDOM() }), 20) }), ve(l, "compositionstart", function(e) { t.composing = { data: e.data, done: !1 } }), ve(l, "compositionupdate", function(e) { t.composing || (t.composing = { data: e.data, done: !1 }) }), ve(l, "compositionend", function(e) { t.composing && (e.data != t.composing.data && t.readFromDOMSoon(), t.composing.done = !0) }), ve(l, "touchstart", function() { return o.forceCompositionEnd() }), ve(l, "input", function() { t.composing || t.readFromDOMSoon() }), ve(l, "copy", n), ve(l, "cut", n)
            }, e.prototype.screenReaderLabelChanged = function(e) { e ? this.div.setAttribute("aria-label", e) : this.div.removeAttribute("aria-label") }, e.prototype.prepareSelection = function() { var e = lr(this.cm, !1); return e.focus = document.activeElement == this.div, e }, e.prototype.showSelection = function(e, t) { e && this.cm.display.view.length && ((e.focus || t) && this.showPrimarySelection(), this.showMultipleSelections(e)) }, e.prototype.getSelection = function() { return this.cm.display.wrapper.ownerDocument.getSelection() }, e.prototype.showPrimarySelection = function() {
                var e = this.getSelection(),
                    t = this.cm,
                    n = t.doc.sel.primary(),
                    r = n.from(),
                    i = n.to();
                if (t.display.viewTo == t.display.viewFrom || r.line >= t.display.viewTo || i.line < t.display.viewFrom) e.removeAllRanges();
                else {
                    var o = ka(t, e.anchorNode, e.anchorOffset),
                        n = ka(t, e.focusNode, e.focusOffset);
                    if (!o || o.bad || !n || n.bad || 0 != it(st(o, n), r) || 0 != it(lt(o, n), i)) {
                        var n = t.display.view,
                            a = r.line >= t.display.viewFrom && Sa(t, r) || { node: n[0].measure.map[2], offset: 0 },
                            l = i.line < t.display.viewTo && Sa(t, i);
                        if (l || (l = { node: (c = (c = n[n.length - 1].measure).maps ? c.maps[c.maps.length - 1] : c.map)[c.length - 1], offset: c[c.length - 2] - c[c.length - 3] }), a && l) {
                            var s, c = e.rangeCount && e.getRangeAt(0);
                            try { s = j(a.node, a.offset, l.offset, l.node) } catch (e) {}
                            s && (!d && t.state.focused ? (e.collapse(a.node, a.offset), s.collapsed || (e.removeAllRanges(), e.addRange(s))) : (e.removeAllRanges(), e.addRange(s)), c && null == e.anchorNode ? e.addRange(c) : d && this.startGracePeriod()), this.rememberSelection()
                        } else e.removeAllRanges()
                    }
                }
            }, e.prototype.startGracePeriod = function() {
                var e = this;
                clearTimeout(this.gracePeriod), this.gracePeriod = setTimeout(function() { e.gracePeriod = !1, e.selectionChanged() && e.cm.operation(function() { return e.cm.curOp.selectionChanged = !0 }) }, 20)
            }, e.prototype.showMultipleSelections = function(e) { k(this.cm.display.cursorDiv, e.cursors), k(this.cm.display.selectionDiv, e.selection) }, e.prototype.rememberSelection = function() {
                var e = this.getSelection();
                this.lastAnchorNode = e.anchorNode, this.lastAnchorOffset = e.anchorOffset, this.lastFocusNode = e.focusNode, this.lastFocusOffset = e.focusOffset
            }, e.prototype.selectionInEditor = function() {
                var e = this.getSelection();
                if (!e.rangeCount) return !1;
                e = e.getRangeAt(0).commonAncestorContainer;
                return L(this.div, e)
            }, e.prototype.focus = function() { "nocursor" != this.cm.options.readOnly && (this.selectionInEditor() && document.activeElement == this.div || this.showSelection(this.prepareSelection(), !0), this.div.focus()) }, e.prototype.blur = function() { this.div.blur() }, e.prototype.getField = function() { return this.div }, e.prototype.supportsTouch = function() { return !0 }, e.prototype.receivedFocus = function() {
                var t = this;
                this.selectionInEditor() ? this.pollSelection() : Rr(this.cm, function() { return t.cm.curOp.selectionChanged = !0 }), this.polling.set(this.cm.options.pollInterval, function e() { t.cm.state.focused && (t.pollSelection(), t.polling.set(t.cm.options.pollInterval, e)) })
            }, e.prototype.selectionChanged = function() { var e = this.getSelection(); return e.anchorNode != this.lastAnchorNode || e.anchorOffset != this.lastAnchorOffset || e.focusNode != this.lastFocusNode || e.focusOffset != this.lastFocusOffset }, e.prototype.pollSelection = function() {
                if (null == this.readDOMTimeout && !this.gracePeriod && this.selectionChanged()) {
                    var e, t, n = this.getSelection(),
                        r = this.cm;
                    if (s && o && this.cm.display.gutterSpecs.length && function(e) {
                            for (var t = e; t; t = t.parentNode)
                                if (/CodeMirror-gutter-wrapper/.test(t.className)) return !0;
                            return !1
                        }(n.anchorNode)) return this.cm.triggerOnKeyDown({ type: "keydown", keyCode: 8, preventDefault: Math.abs }), this.blur(), void this.focus();
                    this.composing || (this.rememberSelection(), e = ka(r, n.anchorNode, n.anchorOffset), t = ka(r, n.focusNode, n.focusOffset), e && t && Rr(r, function() { Ri(r.doc, li(e, t), z), (e.bad || t.bad) && (r.curOp.selectionChanged = !0) }))
                }
            }, e.prototype.pollContent = function() {
                null != this.readDOMTimeout && (clearTimeout(this.readDOMTimeout), this.readDOMTimeout = null);
                var e, t = this.cm,
                    n = t.display,
                    r = t.doc.sel.primary(),
                    i = r.from(),
                    r = r.to();
                if (0 == i.ch && i.line > t.firstLine() && (i = rt(i.line - 1, Xe(t.doc, i.line - 1).length)), r.ch == Xe(t.doc, r.line).text.length && r.line < t.lastLine() && (r = rt(r.line + 1, 0)), i.line < n.viewFrom || r.line > n.viewTo - 1) return !1;
                var o, a = i.line == n.viewFrom || 0 == (a = er(t, i.line)) ? (e = Ze(n.view[0].line), n.view[0].node) : (e = Ze(n.view[a].line), n.view[a - 1].node.nextSibling),
                    r = er(t, r.line),
                    r = r == n.view.length - 1 ? (o = n.viewTo - 1, n.lineDiv.lastChild) : (o = Ze(n.view[r + 1].line) - 1, n.view[r + 1].node.previousSibling);
                if (!a) return !1;
                for (var l = t.doc.splitLines(function(a, e, t, l, s) {
                        var n = "",
                            c = !1,
                            u = a.doc.lineSeparator(),
                            f = !1;

                        function d() { c && (n += u, f && (n += u), c = f = !1) }

                        function p(e) { e && (d(), n += e) }
                        for (; ! function e(t) {
                                if (1 == t.nodeType) {
                                    var n = t.getAttribute("cm-text");
                                    if (n) p(n);
                                    else if (n = t.getAttribute("cm-marker"))(n = a.findMarks(rt(l, 0), rt(s + 1, 0), (o = +n, function(e) { return e.id == o }))).length && (r = n[0].find(0)) && p(Ye(a.doc, r.from, r.to).join(u));
                                    else if ("false" != t.getAttribute("contenteditable")) { var r = /^(pre|div|p|li|table|br)$/i.test(t.nodeName); if (/^br$/i.test(t.nodeName) || 0 != t.textContent.length) { r && d(); for (var i = 0; i < t.childNodes.length; i++) e(t.childNodes[i]); /^(pre|p)$/i.test(t.nodeName) && (f = !0), r && (c = !0) } }
                                } else 3 == t.nodeType && p(t.nodeValue.replace(/\u200b/g, "").replace(/\u00a0/g, " "));
                                var o
                            }(e), e != t;) e = e.nextSibling, f = !1;
                        return n
                    }(t, a, r, e, o)), s = Ye(t.doc, rt(e, 0), rt(o, Xe(t.doc, o).text.length)); 1 < l.length && 1 < s.length;)
                    if (K(l) == K(s)) l.pop(), s.pop(), o--;
                    else {
                        if (l[0] != s[0]) break;
                        l.shift(), s.shift(), e++
                    }
                for (var c = 0, u = 0, f = l[0], d = s[0], p = Math.min(f.length, d.length); c < p && f.charCodeAt(c) == d.charCodeAt(c);) ++c;
                for (var h = K(l), g = K(s), m = Math.min(h.length - (1 == l.length ? c : 0), g.length - (1 == s.length ? c : 0)); u < m && h.charCodeAt(h.length - u - 1) == g.charCodeAt(g.length - u - 1);) ++u;
                if (1 == l.length && 1 == s.length && e == i.line)
                    for (; c && c > i.ch && h.charCodeAt(h.length - u - 1) == g.charCodeAt(g.length - u - 1);) c--, u++;
                l[l.length - 1] = h.slice(0, h.length - u).replace(/^\u200b+/, ""), l[0] = l[0].slice(c).replace(/\u200b+$/, "");
                a = rt(e, c), r = rt(o, s.length ? K(s).length - u : 0);
                return 1 < l.length || l[0] || it(a, r) ? (Yi(t.doc, l, a, r, "+input"), !0) : void 0
            }, e.prototype.ensurePolled = function() { this.forceCompositionEnd() }, e.prototype.reset = function() { this.forceCompositionEnd() }, e.prototype.forceCompositionEnd = function() { this.composing && (clearTimeout(this.readDOMTimeout), this.composing = null, this.updateFromDOM(), this.div.blur(), this.div.focus()) }, e.prototype.readFromDOMSoon = function() {
                var e = this;
                null == this.readDOMTimeout && (this.readDOMTimeout = setTimeout(function() {
                    if (e.readDOMTimeout = null, e.composing) {
                        if (!e.composing.done) return;
                        e.composing = null
                    }
                    e.updateFromDOM()
                }, 80))
            }, e.prototype.updateFromDOM = function() { var e = this;!this.cm.isReadOnly() && this.pollContent() || Rr(this.cm, function() { return tr(e.cm) }) }, e.prototype.setUneditable = function(e) { e.contentEditable = "false" }, e.prototype.onKeyPress = function(e) { 0 == e.charCode || this.composing || (e.preventDefault(), this.cm.isReadOnly() || Dr(this.cm, ga)(this.cm, String.fromCharCode(null == e.charCode ? e.keyCode : e.charCode), 0)) }, e.prototype.readOnlyChanged = function(e) { this.div.contentEditable = String("nocursor" != e) }, e.prototype.onContextMenu = function() {}, e.prototype.resetPosition = function() {}, e.prototype.needsContentAttribute = !0;
            var Ma, Pa, La, Ta, Ea, r = function(e) { this.cm = e, this.prevInput = "", this.pollingFast = !1, this.polling = new I, this.hasSelection = !1, this.composing = null };

            function Na(e, t, r, n) { Ma.defaults[e] = t, r && (Pa[e] = n ? function(e, t, n) { n != oa && r(e, t, n) } : r) }
            r.prototype.init = function(n) {
                var e = this,
                    r = this,
                    i = this.cm;
                this.createField(n);
                var o = this.textarea;

                function t(e) {
                    if (!Ce(i, e)) {
                        if (i.somethingSelected()) ha({ lineWise: !1, text: i.getSelections() });
                        else {
                            if (!i.options.lineWiseCopyCut) return;
                            var t = va(i);
                            ha({ lineWise: !0, text: t.text }), "cut" == e.type ? i.setSelections(t.ranges, null, z) : (r.prevInput = "", o.value = t.text.join("\n"), A(o))
                        }
                        "cut" == e.type && (i.state.cutIncoming = +new Date)
                    }
                }
                n.wrapper.insertBefore(this.wrapper, n.wrapper.firstChild), l && (o.style.width = "0px"), ve(o, "input", function() { w && 9 <= y && e.hasSelection && (e.hasSelection = null), r.poll() }), ve(o, "paste", function(e) { Ce(i, e) || ma(e, i) || (i.state.pasteIncoming = +new Date, r.fastPoll()) }), ve(o, "cut", t), ve(o, "copy", t), ve(n.scroller, "paste", function(e) {
                    if (!mn(n, e) && !Ce(i, e)) {
                        if (!o.dispatchEvent) return i.state.pasteIncoming = +new Date, void r.focus();
                        var t = new Event("paste");
                        t.clipboardData = e.clipboardData, o.dispatchEvent(t)
                    }
                }), ve(n.lineSpace, "selectstart", function(e) { mn(n, e) || Me(e) }), ve(o, "compositionstart", function() {
                    var e = i.getCursor("from");
                    r.composing && r.composing.range.clear(), r.composing = { start: e, range: i.markText(e, i.getCursor("to"), { className: "CodeMirror-composing" }) }
                }), ve(o, "compositionend", function() { r.composing && (r.poll(), r.composing.range.clear(), r.composing = null) })
            }, r.prototype.createField = function(e) { this.wrapper = wa(), this.textarea = this.wrapper.firstChild }, r.prototype.screenReaderLabelChanged = function(e) { e ? this.textarea.setAttribute("aria-label", e) : this.textarea.removeAttribute("aria-label") }, r.prototype.prepareSelection = function() {
                var e, t = this.cm,
                    n = t.display,
                    r = t.doc,
                    i = lr(t);
                return t.options.moveInputWithCursor && (e = Fn(t, r.sel.primary().head, "div"), t = n.wrapper.getBoundingClientRect(), r = n.lineDiv.getBoundingClientRect(), i.teTop = Math.max(0, Math.min(n.wrapper.clientHeight - 10, e.top + r.top - t.top)), i.teLeft = Math.max(0, Math.min(n.wrapper.clientWidth - 10, e.left + r.left - t.left))), i
            }, r.prototype.showSelection = function(e) {
                var t = this.cm.display;
                k(t.cursorDiv, e.cursors), k(t.selectionDiv, e.selection), null != e.teTop && (this.wrapper.style.top = e.teTop + "px", this.wrapper.style.left = e.teLeft + "px")
            }, r.prototype.reset = function(e) {
                var t, n;
                this.contextMenuPending || this.composing || ((t = this.cm).somethingSelected() ? (this.prevInput = "", n = t.getSelection(), this.textarea.value = n, t.state.focused && A(this.textarea), w && 9 <= y && (this.hasSelection = n)) : e || (this.prevInput = this.textarea.value = "", w && 9 <= y && (this.hasSelection = null)))
            }, r.prototype.getField = function() { return this.textarea }, r.prototype.supportsTouch = function() { return !1 }, r.prototype.focus = function() { if ("nocursor" != this.cm.options.readOnly && (!f || T() != this.textarea)) try { this.textarea.focus() } catch (e) {} }, r.prototype.blur = function() { this.textarea.blur() }, r.prototype.resetPosition = function() { this.wrapper.style.top = this.wrapper.style.left = 0 }, r.prototype.receivedFocus = function() { this.slowPoll() }, r.prototype.slowPoll = function() {
                var e = this;
                this.pollingFast || this.polling.set(this.cm.options.pollInterval, function() { e.poll(), e.cm.state.focused && e.slowPoll() })
            }, r.prototype.fastPoll = function() {
                var t = !1,
                    n = this;
                n.pollingFast = !0, n.polling.set(20, function e() { n.poll() || t ? (n.pollingFast = !1, n.slowPoll()) : (t = !0, n.polling.set(60, e)) })
            }, r.prototype.poll = function() {
                var e = this,
                    t = this.cm,
                    n = this.textarea,
                    r = this.prevInput;
                if (this.contextMenuPending || !t.state.focused || De(n) && !r && !this.composing || t.isReadOnly() || t.options.disableInput || t.state.keySeq) return !1;
                var i = n.value;
                if (i == r && !t.somethingSelected()) return !1;
                if (w && 9 <= y && this.hasSelection === i || g && /[\uf700-\uf7ff]/.test(i)) return t.display.input.reset(), !1;
                if (t.doc.sel == t.display.selForContextMenu) { var o = i.charCodeAt(0); if (8203 != o || r || (r = "​"), 8666 == o) return this.reset(), this.cm.execCommand("undo") }
                for (var a = 0, l = Math.min(r.length, i.length); a < l && r.charCodeAt(a) == i.charCodeAt(a);) ++a;
                return Rr(t, function() { ga(t, i.slice(a), r.length - a, null, e.composing ? "*compose" : null), 1e3 < i.length || -1 < i.indexOf("\n") ? n.value = e.prevInput = "" : e.prevInput = i, e.composing && (e.composing.range.clear(), e.composing.range = t.markText(e.composing.start, t.getCursor("to"), { className: "CodeMirror-composing" })) }), !0
            }, r.prototype.ensurePolled = function() { this.pollingFast && this.poll() && (this.pollingFast = !1) }, r.prototype.onKeyPress = function() { w && 9 <= y && (this.hasSelection = null), this.fastPoll() }, r.prototype.onContextMenu = function(e) {
                var n = this,
                    r = n.cm,
                    i = r.display,
                    o = n.textarea;
                n.contextMenuPending && n.contextMenuPending();
                var a, l, t, s, c = Zn(r, e),
                    u = i.scroller.scrollTop;

                function f() {
                    var e, t;
                    null != o.selectionStart && (t = "​" + ((e = r.somethingSelected()) ? o.value : ""), o.value = "⇚", o.value = t, n.prevInput = e ? "" : "​", o.selectionStart = 1, o.selectionEnd = t.length, i.selForContextMenu = r.doc.sel)
                }

                function d() {
                    var e, t;
                    n.contextMenuPending == d && (n.contextMenuPending = !1, n.wrapper.style.cssText = l, o.style.cssText = a, w && y < 9 && i.scrollbars.setScrollTop(i.scroller.scrollTop = u), null != o.selectionStart && ((!w || w && y < 9) && f(), e = 0, t = function() { i.selForContextMenu == r.doc.sel && 0 == o.selectionStart && 0 < o.selectionEnd && "​" == n.prevInput ? Dr(r, Ui)(r) : e++ < 10 ? i.detectingSelectAll = setTimeout(t, 500) : (i.selForContextMenu = null, i.input.reset()) }, i.detectingSelectAll = setTimeout(t, 200)))
                }
                c && !h && (r.options.resetSelectionOnContextMenu && -1 == r.doc.sel.contains(c) && Dr(r, Ri)(r.doc, li(c), z), a = o.style.cssText, l = n.wrapper.style.cssText, c = n.wrapper.offsetParent.getBoundingClientRect(), n.wrapper.style.cssText = "position: static", o.style.cssText = "position: absolute; width: 30px; height: 30px;\n      top: " + (e.clientY - c.top - 5) + "px; left: " + (e.clientX - c.left - 5) + "px;\n      z-index: 1000; background: " + (w ? "rgba(255, 255, 255, .05)" : "transparent") + ";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);", p && (t = window.scrollY), i.input.focus(), p && window.scrollTo(null, t), i.input.reset(), r.somethingSelected() || (o.value = n.prevInput = " "), n.contextMenuPending = d, i.selForContextMenu = r.doc.sel, clearTimeout(i.detectingSelectAll), w && 9 <= y && f(), x ? (Te(e), s = function() { we(window, "mouseup", s), setTimeout(d, 20) }, ve(window, "mouseup", s)) : setTimeout(d, 50))
            }, r.prototype.readOnlyChanged = function(e) { e || this.reset(), this.textarea.disabled = "nocursor" == e, this.textarea.readOnly = !!e }, r.prototype.setUneditable = function() {}, r.prototype.needsContentAttribute = !1, Pa = (Ma = ua).optionHandlers, Ma.defineOption = Na, Ma.Init = oa, Na("value", "", function(e, t) { return e.setValue(t) }, !0), Na("mode", null, function(e, t) { e.doc.modeOption = t, di(e) }, !0), Na("indentUnit", 2, di, !0), Na("indentWithTabs", !1), Na("smartIndent", !0), Na("tabSize", 4, function(e) { pi(e), An(e), tr(e) }, !0), Na("lineSeparator", null, function(e, r) {
                if (e.doc.lineSep = r) {
                    var i = [],
                        o = e.doc.first;
                    e.doc.iter(function(e) {
                        for (var t = 0;;) {
                            var n = e.text.indexOf(r, t);
                            if (-1 == n) break;
                            t = n + r.length, i.push(rt(o, n))
                        }
                        o++
                    });
                    for (var t = i.length - 1; 0 <= t; t--) Yi(e.doc, r, i[t], rt(i[t].line, i[t].ch + r.length))
                }
            }), Na("specialChars", /[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g, function(e, t, n) { e.state.specialChars = new RegExp(t.source + (t.test("\t") ? "" : "|\t"), "g"), n != oa && e.refresh() }), Na("specialCharPlaceholder", Qt, function(e) { return e.refresh() }, !0), Na("electricChars", !0), Na("inputStyle", f ? "contenteditable" : "textarea", function() { throw new Error("inputStyle can not (yet) be changed in a running editor") }, !0), Na("spellcheck", !1, function(e, t) { return e.getInputField().spellcheck = t }, !0), Na("autocorrect", !1, function(e, t) { return e.getInputField().autocorrect = t }, !0), Na("autocapitalize", !1, function(e, t) { return e.getInputField().autocapitalize = t }, !0), Na("rtlMoveVisually", !v), Na("wholeLineUpdateBefore", !0), Na("theme", "default", function(e) { ia(e), Qr(e) }, !0), Na("keyMap", "default", function(e, t, n) {
                t = jo(t), n = n != oa && jo(n);
                n && n.detach && n.detach(e, t), t.attach && t.attach(e, n || null)
            }), Na("extraKeys", null), Na("configureMouse", null), Na("lineWrapping", !1, ca, !0), Na("gutters", [], function(e, t) { e.display.gutterSpecs = Xr(t, e.options.lineNumbers), Qr(e) }, !0), Na("fixedGutter", !0, function(e, t) { e.display.gutters.style.left = t ? Yn(e.display) + "px" : "0", e.refresh() }, !0), Na("coverGutterNextToScrollbar", !1, function(e) { return Lr(e) }, !0), Na("scrollbarStyle", "native", function(e) { Nr(e), Lr(e), e.display.scrollbars.setScrollTop(e.doc.scrollTop), e.display.scrollbars.setScrollLeft(e.doc.scrollLeft) }, !0), Na("lineNumbers", !1, function(e, t) { e.display.gutterSpecs = Xr(e.options.gutters, t), Qr(e) }, !0), Na("firstLineNumber", 1, Qr, !0), Na("lineNumberFormatter", function(e) { return e }, Qr, !0), Na("showCursorWhenSelecting", !1, ar, !0), Na("resetSelectionOnContextMenu", !0), Na("lineWiseCopyCut", !0), Na("pasteLinesPerSelection", !0), Na("selectionsMayTouch", !1), Na("readOnly", !1, function(e, t) { "nocursor" == t && (hr(e), e.display.input.blur()), e.display.input.readOnlyChanged(t) }), Na("screenReaderLabel", null, function(e, t) { t = "" === t ? null : t, e.display.input.screenReaderLabelChanged(t) }), Na("disableInput", !1, function(e, t) { t || e.display.input.reset() }, !0), Na("dragDrop", !0, sa), Na("allowDropFileTypes", null), Na("cursorBlinkRate", 530), Na("cursorScrollMargin", 0), Na("cursorHeight", 1, ar, !0), Na("singleCursorHeightPerLine", !0, ar, !0), Na("workTime", 100), Na("workDelay", 100), Na("flattenSpans", !0, pi, !0), Na("addModeClass", !1, pi, !0), Na("pollInterval", 100), Na("undoDepth", 200, function(e, t) { return e.doc.history.undoDepth = t }), Na("historyEventDelay", 1250), Na("viewportMargin", 10, function(e) { return e.refresh() }, !0), Na("maxHighlightLength", 1e4, pi, !0), Na("moveInputWithCursor", !0, function(e, t) { t || e.display.input.resetPosition() }), Na("tabindex", null, function(e, t) { return e.display.input.getField().tabIndex = t || "" }), Na("autofocus", null), Na("direction", "ltr", function(e, t) { return e.doc.setDirection(t) }, !0), Na("phrases", null), Ta = (La = ua).optionHandlers, Ea = La.helpers = {}, La.prototype = {
                constructor: La,
                focus: function() { window.focus(), this.display.input.focus() },
                setOption: function(e, t) {
                    var n = this.options,
                        r = n[e];
                    n[e] == t && "mode" != e || (n[e] = t, Ta.hasOwnProperty(e) && Dr(this, Ta[e])(this, t, r), xe(this, "optionChange", this, e))
                },
                getOption: function(e) { return this.options[e] },
                getDoc: function() { return this.doc },
                addKeyMap: function(e, t) { this.state.keyMaps[t ? "push" : "unshift"](jo(e)) },
                removeKeyMap: function(e) {
                    for (var t = this.state.keyMaps, n = 0; n < t.length; ++n)
                        if (t[n] == e || t[n].name == e) return t.splice(n, 1), !0
                },
                addOverlay: Ir(function(e, t) {
                    var n = e.token ? e : La.getMode(this.options, e);
                    if (n.startState) throw new Error("Overlays may not be stateful.");
                    ! function(e, t, n) {
                        for (var r = 0, i = n(t); r < e.length && n(e[r]) <= i;) r++;
                        e.splice(r, 0, t)
                    }(this.state.overlays, { mode: n, modeSpec: e, opaque: t && t.opaque, priority: t && t.priority || 0 }, function(e) { return e.priority }), this.state.modeGen++, tr(this)
                }),
                removeOverlay: Ir(function(e) { for (var t = this.state.overlays, n = 0; n < t.length; ++n) { var r = t[n].modeSpec; if (r == e || "string" == typeof e && r.name == e) return t.splice(n, 1), this.state.modeGen++, void tr(this) } }),
                indentLine: Ir(function(e, t, n) { "string" != typeof t && "number" != typeof t && (t = null == t ? this.options.smartIndent ? "smart" : "prev" : t ? "add" : "subtract"), tt(this.doc, e) && da(this, e, t, n) }),
                indentSelection: Ir(function(e) {
                    for (var t = this.doc.sel.ranges, n = -1, r = 0; r < t.length; r++) {
                        var i = t[r];
                        if (i.empty()) i.head.line > n && (da(this, i.head.line, e, !0), n = i.head.line, r == this.doc.sel.primIndex && wr(this));
                        else {
                            for (var o = i.from(), a = i.to(), i = Math.max(n, o.line), n = Math.min(this.lastLine(), a.line - (a.ch ? 0 : 1)) + 1, l = i; l < n; ++l) da(this, l, e);
                            i = this.doc.sel.ranges;
                            0 == o.ch && t.length == i.length && 0 < i[r].from().ch && ji(this.doc, r, new oi(o, i[r].to()), z)
                        }
                    }
                }),
                getTokenAt: function(e, t) { return xt(this, e, t) },
                getLineTokens: function(e, t) { return xt(this, rt(e), t, !0) },
                getTokenTypeAt: function(e) {
                    e = ut(this.doc, e);
                    var t, n = gt(this, Xe(this.doc, e.line)),
                        r = 0,
                        i = (n.length - 1) / 2,
                        o = e.ch;
                    if (0 == o) t = n[2];
                    else
                        for (;;) {
                            var a = r + i >> 1;
                            if ((a ? n[2 * a - 1] : 0) >= o) i = a;
                            else {
                                if (!(n[2 * a + 1] < o)) { t = n[2 * a + 2]; break }
                                r = 1 + a
                            }
                        }
                    e = t ? t.indexOf("overlay ") : -1;
                    return e < 0 ? t : 0 == e ? null : t.slice(0, e - 1)
                },
                getModeAt: function(e) { var t = this.doc.mode; return t.innerMode ? La.innerMode(t, this.getTokenAt(e).state).mode : t },
                getHelper: function(e, t) { return this.getHelpers(e, t)[0] },
                getHelpers: function(e, t) {
                    var n = [];
                    if (!Ea.hasOwnProperty(t)) return n;
                    var r = Ea[t],
                        i = this.getModeAt(e);
                    if ("string" == typeof i[t]) r[i[t]] && n.push(r[i[t]]);
                    else if (i[t])
                        for (var o = 0; o < i[t].length; o++) {
                            var a = r[i[t][o]];
                            a && n.push(a)
                        } else i.helperType && r[i.helperType] ? n.push(r[i.helperType]) : r[i.name] && n.push(r[i.name]);
                    for (var l = 0; l < r._global.length; l++) {
                        var s = r._global[l];
                        s.pred(i, this) && -1 == H(n, s.val) && n.push(s.val)
                    }
                    return n
                },
                getStateAfter: function(e, t) { var n = this.doc; return mt(this, (e = ct(n, null == e ? n.first + n.size - 1 : e)) + 1, t).state },
                cursorCoords: function(e, t) {
                    var n = this.doc.sel.primary(),
                        n = null == e ? n.head : "object" == typeof e ? ut(this.doc, e) : e ? n.from() : n.to();
                    return Fn(this, n, t || "page")
                },
                charCoords: function(e, t) { return Wn(this, ut(this.doc, e), t || "page") },
                coordsChar: function(e, t) { return Un(this, (e = Hn(this, e, t || "page")).left, e.top) },
                lineAtHeight: function(e, t) { return e = Hn(this, { top: e, left: 0 }, t || "page").top, et(this.doc, e + this.display.viewOffset) },
                heightAtLine: function(e, t, n) {
                    var r, i = !1,
                        e = "number" == typeof e ? (r = this.doc.first + this.doc.size - 1, e < this.doc.first ? e = this.doc.first : r < e && (e = r, i = !0), Xe(this.doc, e)) : e;
                    return In(this, e, { top: 0, left: 0 }, t || "page", n || i).top + (i ? this.doc.height - Ut(e) : 0)
                },
                defaultTextHeight: function() { return Kn(this.display) },
                defaultCharWidth: function() { return $n(this.display) },
                getViewport: function() { return { from: this.display.viewFrom, to: this.display.viewTo } },
                addWidget: function(e, t, n, r, i) {
                    var o, a, l = this.display,
                        s = (e = Fn(this, ut(this.doc, e))).bottom,
                        c = e.left;
                    t.style.position = "absolute", t.setAttribute("cm-ignore-events", "true"), this.display.input.setUneditable(t), l.sizer.appendChild(t), "over" == r ? s = e.top : "above" != r && "near" != r || (o = Math.max(l.wrapper.clientHeight, this.doc.height), a = Math.max(l.sizer.clientWidth, l.lineSpace.clientWidth), ("above" == r || e.bottom + t.offsetHeight > o) && e.top > t.offsetHeight ? s = e.top - t.offsetHeight : e.bottom + t.offsetHeight <= o && (s = e.bottom), c + t.offsetWidth > a && (c = a - t.offsetWidth)), t.style.top = s + "px", t.style.left = t.style.right = "", "right" == i ? (c = l.sizer.clientWidth - t.offsetWidth, t.style.right = "0px") : ("left" == i ? c = 0 : "middle" == i && (c = (l.sizer.clientWidth - t.offsetWidth) / 2), t.style.left = c + "px"), n && (n = this, t = { left: c, top: s, right: c + t.offsetWidth, bottom: s + t.offsetHeight }, null != (t = vr(n, t)).scrollTop && Or(n, t.scrollTop), null != t.scrollLeft && Mr(n, t.scrollLeft))
                },
                triggerOnKeyDown: Ir(Ko),
                triggerOnKeyPress: Ir(Xo),
                triggerOnKeyUp: $o,
                triggerOnMouseDown: Ir(Zo),
                execCommand: function(e) { if (Ho.hasOwnProperty(e)) return Ho[e].call(null, this) },
                triggerElectric: Ir(function(e) { ya(this, e) }),
                findPosH: function(e, t, n, r) {
                    var i = 1;
                    t < 0 && (i = -1, t = -t);
                    for (var o = ut(this.doc, e), a = 0; a < t && !(o = xa(this.doc, o, i, n, r)).hitSide; ++a);
                    return o
                },
                moveH: Ir(function(t, n) {
                    var r = this;
                    this.extendSelectionsBy(function(e) { return r.display.shift || r.doc.extend || e.empty() ? xa(r.doc, e.head, t, n, r.options.rtlMoveVisually) : t < 0 ? e.from() : e.to() }, U)
                }),
                deleteH: Ir(function(n, r) {
                    var e = this.doc.sel,
                        i = this.doc;
                    e.somethingSelected() ? i.replaceSelection("", null, "+delete") : Ao(this, function(e) { var t = xa(i, e.head, n, r, !1); return n < 0 ? { from: t, to: e.head } : { from: e.head, to: t } })
                }),
                findPosV: function(e, t, n, r) {
                    var i = 1,
                        o = r;
                    t < 0 && (i = -1, t = -t);
                    for (var a = ut(this.doc, e), l = 0; l < t; ++l) { var s = Fn(this, a, "div"); if (null == o ? o = s.left : s.left = o, (a = Ca(this, s, i, n)).hitSide) break }
                    return a
                },
                moveV: Ir(function(r, i) {
                    var o = this,
                        a = this.doc,
                        l = [],
                        s = !this.display.shift && !a.extend && a.sel.somethingSelected();
                    if (a.extendSelectionsBy(function(e) {
                            if (s) return r < 0 ? e.from() : e.to();
                            var t = Fn(o, e.head, "div");
                            null != e.goalColumn && (t.left = e.goalColumn), l.push(t.left);
                            var n = Ca(o, t, r, i);
                            return "page" == i && e == a.sel.primary() && br(o, Wn(o, n, "div").top - t.top), n
                        }, U), l.length)
                        for (var e = 0; e < a.sel.ranges.length; e++) a.sel.ranges[e].goalColumn = l[e]
                }),
                findWordAt: function(e) {
                    var t = Xe(this.doc, e.line).text,
                        n = e.ch,
                        r = e.ch;
                    if (t) { var i = this.getHelper(e, "wordChars"); "before" != e.sticky && r != t.length || !n ? ++r : --n; for (var o = t.charAt(n), a = Z(o, i) ? function(e) { return Z(e, i) } : /\s/.test(o) ? function(e) { return /\s/.test(e) } : function(e) { return !/\s/.test(e) && !Z(e) }; 0 < n && a(t.charAt(n - 1));) --n; for (; r < t.length && a(t.charAt(r));) ++r }
                    return new oi(rt(e.line, n), rt(e.line, r))
                },
                toggleOverwrite: function(e) { null != e && e == this.state.overwrite || (((this.state.overwrite = !this.state.overwrite) ? E : S)(this.display.cursorDiv, "CodeMirror-overwrite"), xe(this, "overwriteToggle", this, this.state.overwrite)) },
                hasFocus: function() { return this.display.input.getField() == T() },
                isReadOnly: function() { return !(!this.options.readOnly && !this.doc.cantEdit) },
                scrollTo: Ir(function(e, t) { xr(this, e, t) }),
                getScrollInfo: function() { var e = this.display.scroller; return { left: e.scrollLeft, top: e.scrollTop, height: e.scrollHeight - wn(this) - this.display.barHeight, width: e.scrollWidth - wn(this) - this.display.barWidth, clientHeight: Cn(this), clientWidth: xn(this) } },
                scrollIntoView: Ir(function(e, t) {
                    var n;
                    null == e ? (e = { from: this.doc.sel.primary().head, to: null }, null == t && (t = this.options.cursorScrollMargin)) : "number" == typeof e ? e = { from: rt(e, 0), to: null } : null == e.from && (e = { from: e, to: null }), e.to || (e.to = e.from), e.margin = t || 0, null != e.from.line ? (n = e, Cr(t = this), t.curOp.scrollToPos = n) : Sr(this, e.from, e.to, e.margin)
                }),
                setSize: Ir(function(e, t) {
                    function n(e) { return "number" == typeof e || /^\d+$/.test(String(e)) ? e + "px" : e }
                    var r = this;
                    null != e && (this.display.wrapper.style.width = n(e)), null != t && (this.display.wrapper.style.height = n(t)), this.options.lineWrapping && jn(this);
                    var i = this.display.viewFrom;
                    this.doc.iter(i, this.display.viewTo, function(e) {
                        if (e.widgets)
                            for (var t = 0; t < e.widgets.length; t++)
                                if (e.widgets[t].noHScroll) { nr(r, i, "widget"); break }++i
                    }), this.curOp.forceUpdate = !0, xe(this, "refresh", this)
                }),
                operation: function(e) { return Rr(this, e) },
                startOperation: function() { return Ar(this) },
                endOperation: function() { return _r(this) },
                refresh: Ir(function() {
                    var e = this.display.cachedTextHeight;
                    tr(this), this.curOp.forceUpdate = !0, An(this), xr(this, this.doc.scrollLeft, this.doc.scrollTop), Gr(this.display), (null == e || .5 < Math.abs(e - Kn(this.display)) || this.options.lineWrapping) && Jn(this), xe(this, "refresh", this)
                }),
                swapDoc: Ir(function(e) { var t = this.doc; return t.cm = null, this.state.selectingText && this.state.selectingText(), yi(this, e), An(this), this.display.input.reset(), xr(this, e.scrollLeft, e.scrollTop), this.curOp.forceScroll = !0, an(this, "swapDoc", this, t), t }),
                phrase: function(e) { var t = this.options.phrases; return t && Object.prototype.hasOwnProperty.call(t, e) ? t[e] : e },
                getInputField: function() { return this.display.input.getField() },
                getWrapperElement: function() { return this.display.wrapper },
                getScrollerElement: function() { return this.display.scroller },
                getGutterElement: function() { return this.display.gutters }
            }, ke(La), La.registerHelper = function(e, t, n) { Ea.hasOwnProperty(e) || (Ea[e] = La[e] = { _global: [] }), Ea[e][t] = n }, La.registerGlobalHelper = function(e, t, n, r) { La.registerHelper(e, t, r), Ea[e]._global.push({ pred: n, val: r }) };
            var ja, Aa, _a = "iter insert remove copy getEditor constructor".split(" ");
            for (ja in po.prototype) po.prototype.hasOwnProperty(ja) && H(_a, ja) < 0 && (ua.prototype[ja] = function(e) { return function() { return e.apply(this.doc, arguments) } }(po.prototype[ja]));
            return ke(po), ua.inputStyles = { textarea: r, contenteditable: e }, ua.defineMode = function(e) {
                ua.defaults.mode || "null" == e || (ua.defaults.mode = e),
                    function(e, t) { 2 < arguments.length && (t.dependencies = Array.prototype.slice.call(arguments, 2)), We[e] = t }.apply(this, arguments)
            }, ua.defineMIME = function(e, t) { Fe[e] = t }, ua.defineMode("null", function() { return { token: function(e) { return e.skipToEnd() } } }), ua.defineMIME("text/plain", "null"), ua.defineExtension = function(e, t) { ua.prototype[e] = t }, ua.defineDocExtension = function(e, t) { po.prototype[e] = t }, ua.fromTextArea = function(t, n) {
                var e;

                function r() { t.value = l.getValue() }
                if (n = n ? R(n) : {}, n.value = t.value, !n.tabindex && t.tabIndex && (n.tabindex = t.tabIndex), !n.placeholder && t.placeholder && (n.placeholder = t.placeholder), null == n.autofocus && (e = T(), n.autofocus = e == t || null != t.getAttribute("autofocus") && e == document.body), t.form && (ve(t.form, "submit", r), !n.leaveSubmitMethodAlone)) {
                    var i = t.form,
                        o = i.submit;
                    try { var a = i.submit = function() { r(), i.submit = o, i.submit(), i.submit = a } } catch (e) {}
                }
                n.finishInit = function(e) { e.save = r, e.getTextArea = function() { return t }, e.toTextArea = function() { e.toTextArea = isNaN, r(), t.parentNode.removeChild(e.getWrapperElement()), t.style.display = "", t.form && (we(t.form, "submit", r), n.leaveSubmitMethodAlone || "function" != typeof t.form.submit || (t.form.submit = o)) } }, t.style.display = "none";
                var l = ua(function(e) { return t.parentNode.insertBefore(e, t.nextSibling) }, n);
                return l
            }, (Aa = ua).off = we, Aa.on = ve, Aa.wheelEventPixels = ni, Aa.Doc = po, Aa.splitLines = Re, Aa.countColumn = D, Aa.findColumn = V, Aa.isWordChar = J, Aa.Pass = F, Aa.signal = xe, Aa.Line = qt, Aa.changeEnd = si, Aa.scrollbarModel = Er, Aa.Pos = rt, Aa.cmpPos = it, Aa.modes = We, Aa.mimeModes = Fe, Aa.resolveMode = ze, Aa.getMode = Be, Aa.modeExtensions = Ue, Aa.extendMode = Ve, Aa.copyState = Ge, Aa.startState = Ke, Aa.innerMode = qe, Aa.commands = Ho, Aa.keyMap = ko, Aa.keyName = No, Aa.isModifierKey = To, Aa.lookupKey = Lo, Aa.normalizeKeyMap = Po, Aa.StringStream = $e, Aa.SharedTextMarker = so, Aa.TextMarker = ao, Aa.LineWidget = ro, Aa.e_preventDefault = Me, Aa.e_stopPropagation = Pe, Aa.e_stop = Te, Aa.addClass = E, Aa.contains = L, Aa.rmClass = S, Aa.keyNames = xo, ua.version = "5.59.4", ua
        }, "object" == typeof n && void 0 !== t ? t.exports = i() : "function" == typeof define && define.amd ? define(i) : (r = r || self).CodeMirror = i()
    }, {}],
    24: [function(e, t, n) {
        var r;
        r = function(et) {
            "use strict";
            et.defineMode("javascript", function(e, u) {
                var t, n, r, i, f = e.indentUnit,
                    d = u.statementIndent,
                    o = u.jsonld,
                    a = u.json || o,
                    c = u.typescript,
                    p = u.wordCharacters || /[\w$\xa1-\uffff]/,
                    l = (t = s("keyword a"), n = s("keyword b"), r = s("keyword c"), i = s("keyword d"), e = s("operator"), { if: s("if"), while: t, with: t, else: n, do: n, try: n, finally: n, return: i, break: i, continue: i, new: s("new"), delete: r, void: r, throw: r, debugger: s("debugger"), var: s("var"), const: s("var"), let: s("var"), function: s("function"), catch: s("catch"), for: s("for"), switch: s("switch"), case: s("case"), default: s("default"), in: e, typeof: e, instanceof: e, true: e = { type: "atom", style: "atom" }, false: e, null: e, undefined: e, NaN: e, Infinity: e, this: s("this"), class: s("class"), super: s("atom"), yield: r, export: s("export"), import: s("import"), extends: r, await: r });

                function s(e) { return { type: e, style: "keyword" } }
                var h, g, m = /[+\-*&%=<>!?|~^@]/,
                    y = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;

                function v(e, t, n) { return h = e, g = n, t }

                function b(e, t) {
                    var i, n = e.next();
                    if ('"' == n || "'" == n) return t.tokenize = (i = n, function(e, t) { var n, r = !1; if (o && "@" == e.peek() && e.match(y)) return t.tokenize = b, v("jsonld-keyword", "meta"); for (; null != (n = e.next()) && (n != i || r);) r = !r && "\\" == n; return r || (t.tokenize = b), v("string", "string") }), t.tokenize(e, t);
                    if ("." == n && e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/)) return v("number", "number");
                    if ("." == n && e.match("..")) return v("spread", "meta");
                    if (/[\[\]{}\(\),;\:\.]/.test(n)) return v(n);
                    if ("=" == n && e.eat(">")) return v("=>", "operator");
                    if ("0" == n && e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)) return v("number", "number");
                    if (/\d/.test(n)) return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/), v("number", "number");
                    if ("/" == n) return e.eat("*") ? (t.tokenize = w)(e, t) : e.eat("/") ? (e.skipToEnd(), v("comment", "comment")) : Ze(e, t, 1) ? (function(e) {
                        for (var t, n = !1, r = !1; null != (t = e.next());) {
                            if (!n) { if ("/" == t && !r) return; "[" == t ? r = !0 : r && "]" == t && (r = !1) }
                            n = !n && "\\" == t
                        }
                    }(e), e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/), v("regexp", "string-2")) : (e.eat("="), v("operator", "operator", e.current()));
                    if ("`" == n) return (t.tokenize = x)(e, t);
                    if ("#" == n && "!" == e.peek()) return e.skipToEnd(), v("meta", "meta");
                    if ("#" == n && e.eatWhile(p)) return v("variable", "property");
                    if ("<" == n && e.match("!--") || "-" == n && e.match("->") && !/\S/.test(e.string.slice(0, e.start))) return e.skipToEnd(), v("comment", "comment");
                    if (m.test(n)) return ">" == n && t.lexical && ">" == t.lexical.type || (e.eat("=") ? "!" != n && "=" != n || e.eat("=") : /[<>*+\-|&?]/.test(n) && (e.eat(n), ">" == n && e.eat(n))), "?" == n && e.eat(".") ? v(".") : v("operator", "operator", e.current());
                    if (p.test(n)) {
                        e.eatWhile(p);
                        n = e.current();
                        if ("." != t.lastType) { if (l.propertyIsEnumerable(n)) { t = l[n]; return v(t.type, t.style, n) } if ("async" == n && e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/, !1)) return v("async", "keyword", n) }
                        return v("variable", "variable", n)
                    }
                }

                function w(e, t) {
                    for (var n, r = !1; n = e.next();) {
                        if ("/" == n && r) { t.tokenize = b; break }
                        r = "*" == n
                    }
                    return v("comment", "comment")
                }

                function x(e, t) {
                    for (var n, r = !1; null != (n = e.next());) {
                        if (!r && ("`" == n || "$" == n && e.eat("{"))) { t.tokenize = b; break }
                        r = !r && "\\" == n
                    }
                    return v("quasi", "string-2", e.current())
                }
                var C = "([{}])";

                function S(e, t) {
                    t.fatArrowAt && (t.fatArrowAt = null);
                    var n, r = e.string.indexOf("=>", e.start);
                    if (!(r < 0)) {
                        !c || (n = /:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start, r))) && (r = n.index);
                        for (var i = 0, o = !1, a = r - 1; 0 <= a; --a) {
                            var l = e.string.charAt(a),
                                s = C.indexOf(l);
                            if (0 <= s && s < 3) { if (!i) {++a; break } if (0 == --i) { "(" == l && (o = !0); break } } else if (3 <= s && s < 6) ++i;
                            else if (p.test(l)) o = !0;
                            else if (/["'\/`]/.test(l))
                                for (;; --a) { if (0 == a) return; if (e.string.charAt(a - 1) == l && "\\" != e.string.charAt(a - 2)) { a--; break } } else if (o && !i) {++a; break }
                        }
                        o && !i && (t.fatArrowAt = a)
                    }
                }
                var O = { atom: !0, number: !0, variable: !0, string: !0, regexp: !0, this: !0, "jsonld-keyword": !0 };

                function k(e, t, n, r, i, o) { this.indented = e, this.column = t, this.type = n, this.prev = i, this.info = o, null != r && (this.align = r) }

                function M(e, t, n, r, i) {
                    var o = e.cc;
                    for (P.state = e, P.stream = i, P.marked = null, P.cc = o, P.style = t, e.lexical.hasOwnProperty("align") || (e.lexical.align = !0);;)
                        if ((o.length ? o.pop() : a ? V : B)(n, r)) {
                            for (; o.length && o[o.length - 1].lex;) o.pop()();
                            return P.marked ? P.marked : "variable" == n && function(e, t) {
                                for (var n = e.localVars; n; n = n.next)
                                    if (n.name == t) return 1;
                                for (var r = e.context; r; r = r.prev)
                                    for (n = r.vars; n; n = n.next)
                                        if (n.name == t) return 1
                            }(e, r) ? "variable-2" : t
                        }
                }
                var P = { state: null, column: null, marked: null, cc: null };

                function L() { for (var e = arguments.length - 1; 0 <= e; e--) P.cc.push(arguments[e]) }

                function T() { return L.apply(null, arguments), !0 }

                function E(e, t) {
                    for (var n = t; n; n = n.next)
                        if (n.name == e) return 1
                }

                function N(e) {
                    var t = P.state;
                    if (P.marked = "def", t.context)
                        if ("var" == t.lexical.info && t.context && t.context.block) {
                            var n = function e(t, n) {
                                { if (n) { if (n.block) { var r = e(t, n.prev); return r ? r == n.prev ? n : new A(r, n.vars, !0) : null } return E(t, n.vars) ? n : new A(n.prev, new _(t, n.vars), !1) } return null }
                            }(e, t.context);
                            if (null != n) return void(t.context = n)
                        } else if (!E(e, t.localVars)) return void(t.localVars = new _(e, t.localVars));
                    u.globalVars && !E(e, t.globalVars) && (t.globalVars = new _(e, t.globalVars))
                }

                function j(e) { return "public" == e || "private" == e || "protected" == e || "abstract" == e || "readonly" == e }

                function A(e, t, n) { this.prev = e, this.vars = t, this.block = n }

                function _(e, t) { this.name = e, this.next = t }
                var R = new _("this", new _("arguments", null));

                function D() { P.state.context = new A(P.state.context, P.state.localVars, !1), P.state.localVars = R }

                function I() { P.state.context = new A(P.state.context, P.state.localVars, !0), P.state.localVars = null }

                function H() { P.state.localVars = P.state.context.vars, P.state.context = P.state.context.prev }

                function W(r, i) {
                    function e() {
                        var e = P.state,
                            t = e.indented;
                        if ("stat" == e.lexical.type) t = e.lexical.indented;
                        else
                            for (var n = e.lexical; n && ")" == n.type && n.align; n = n.prev) t = n.indented;
                        e.lexical = new k(t, P.stream.column(), r, null, e.lexical, i)
                    }
                    return e.lex = !0, e
                }

                function F() {
                    var e = P.state;
                    e.lexical.prev && (")" == e.lexical.type && (e.indented = e.lexical.indented), e.lexical = e.lexical.prev)
                }

                function z(n) { return function e(t) { return t == n ? T() : ";" == n || "}" == t || ")" == t || "]" == t ? L() : T(e) } }

                function B(e, t) { return "var" == e ? T(W("vardef", t), Oe, z(";"), F) : "keyword a" == e ? T(W("form"), q, B, F) : "keyword b" == e ? T(W("form"), B, F) : "keyword d" == e ? P.stream.match(/^\s*$/, !1) ? T() : T(W("stat"), $, z(";"), F) : "debugger" == e ? T(z(";")) : "{" == e ? T(W("}"), I, ue, F, H) : ";" == e ? T() : "if" == e ? ("else" == P.state.lexical.info && P.state.cc[P.state.cc.length - 1] == F && P.state.cc.pop()(), T(W("form"), q, B, F, Ee)) : "function" == e ? T(_e) : "for" == e ? T(W("form"), Ne, B, F) : "class" == e || c && "interface" == t ? (P.marked = "keyword", T(W("form", "class" == e ? e : t), We, F)) : "variable" == e ? c && "declare" == t ? (P.marked = "keyword", T(B)) : c && ("module" == t || "enum" == t || "type" == t) && P.stream.match(/^\s*\w/, !1) ? (P.marked = "keyword", "enum" == t ? T(Qe) : "type" == t ? T(De, z("operator"), ge, z(";")) : T(W("form"), ke, z("{"), W("}"), ue, F, F)) : c && "namespace" == t ? (P.marked = "keyword", T(W("form"), V, B, F)) : c && "abstract" == t ? (P.marked = "keyword", T(B)) : T(W("stat"), re) : "switch" == e ? T(W("form"), q, z("{"), W("}", "switch"), I, ue, F, F, H) : "case" == e ? T(V, z(":")) : "default" == e ? T(z(":")) : "catch" == e ? T(W("form"), D, U, B, F, H) : "export" == e ? T(W("stat"), Ue, F) : "import" == e ? T(W("stat"), Ge, F) : "async" == e ? T(B) : "@" == t ? T(V, B) : L(W("stat"), V, z(";"), F) }

                function U(e) { if ("(" == e) return T(Ie, z(")")) }

                function V(e, t) { return K(e, t, !1) }

                function G(e, t) { return K(e, t, !0) }

                function q(e) { return "(" != e ? L() : T(W(")"), $, z(")"), F) }

                function K(e, t, n) { if (P.state.fatArrowAt == P.stream.start) { var r = n ? ee : Z; if ("(" == e) return T(D, W(")"), se(Ie, ")"), F, z("=>"), r, H); if ("variable" == e) return L(D, ke, z("=>"), r, H) } var i, r = n ? Y : X; return O.hasOwnProperty(e) ? T(r) : "function" == e ? T(_e, r) : "class" == e || c && "interface" == t ? (P.marked = "keyword", T(W("form"), He, F)) : "keyword c" == e || "async" == e ? T(n ? G : V) : "(" == e ? T(W(")"), $, z(")"), F, r) : "operator" == e || "spread" == e ? T(n ? G : V) : "[" == e ? T(W("]"), Ye, F, r) : "{" == e ? ce(oe, "}", null, r) : "quasi" == e ? L(Q, r) : "new" == e ? T((i = n, function(e) { return "." == e ? T(i ? ne : te) : "variable" == e && c ? T(xe, i ? Y : X) : L(i ? G : V) })) : "import" == e ? T(V) : T() }

                function $(e) { return e.match(/[;\}\)\],]/) ? L() : L(V) }

                function X(e, t) { return "," == e ? T($) : Y(e, t, !1) }

                function Y(e, t, n) {
                    var r = 0 == n ? X : Y,
                        i = 0 == n ? V : G;
                    return "=>" == e ? T(D, n ? ee : Z, H) : "operator" == e ? /\+\+|--/.test(t) || c && "!" == t ? T(r) : c && "<" == t && P.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/, !1) ? T(W(">"), se(ge, ">"), F, r) : "?" == t ? T(V, z(":"), i) : T(i) : "quasi" == e ? L(Q, r) : ";" != e ? "(" == e ? ce(G, ")", "call", r) : "." == e ? T(ie, r) : "[" == e ? T(W("]"), $, z("]"), F, r) : c && "as" == t ? (P.marked = "keyword", T(ge, r)) : "regexp" == e ? (P.state.lastType = P.marked = "operator", P.stream.backUp(P.stream.pos - P.stream.start - 1), T(i)) : void 0 : void 0
                }

                function Q(e, t) { return "quasi" != e ? L() : "${" != t.slice(t.length - 2) ? T(Q) : T(V, J) }

                function J(e) { if ("}" == e) return P.marked = "string-2", P.state.tokenize = x, T(Q) }

                function Z(e) { return S(P.stream, P.state), L("{" == e ? B : V) }

                function ee(e) { return S(P.stream, P.state), L("{" == e ? B : G) }

                function te(e, t) { if ("target" == t) return P.marked = "keyword", T(X) }

                function ne(e, t) { if ("target" == t) return P.marked = "keyword", T(Y) }

                function re(e) { return ":" == e ? T(F, B) : L(X, z(";"), F) }

                function ie(e) { if ("variable" == e) return P.marked = "property", T() }

                function oe(e, t) { return "async" == e ? (P.marked = "property", T(oe)) : "variable" != e && "keyword" != P.style ? "number" == e || "string" == e ? (P.marked = o ? "property" : P.style + " property", T(le)) : "jsonld-keyword" == e ? T(le) : c && j(t) ? (P.marked = "keyword", T(oe)) : "[" == e ? T(V, fe, z("]"), le) : "spread" == e ? T(G, le) : "*" == t ? (P.marked = "keyword", T(oe)) : ":" == e ? L(le) : void 0 : (P.marked = "property", "get" == t || "set" == t ? T(ae) : (c && P.state.fatArrowAt == P.stream.start && (n = P.stream.match(/^\s*:\s*/, !1)) && (P.state.fatArrowAt = P.stream.pos + n[0].length), T(le))); var n }

                function ae(e) { return "variable" != e ? L(le) : (P.marked = "property", T(_e)) }

                function le(e) { return ":" == e ? T(G) : "(" == e ? L(_e) : void 0 }

                function se(r, i, o) {
                    function a(e, t) { if (o ? -1 < o.indexOf(e) : "," == e) { var n = P.state.lexical; return "call" == n.info && (n.pos = (n.pos || 0) + 1), T(function(e, t) { return e == i || t == i ? L() : L(r) }, a) } return e == i || t == i ? T() : o && -1 < o.indexOf(";") ? L(r) : T(z(i)) }
                    return function(e, t) { return e == i || t == i ? T() : L(r, a) }
                }

                function ce(e, t, n) { for (var r = 3; r < arguments.length; r++) P.cc.push(arguments[r]); return T(W(t, n), se(e, t), F) }

                function ue(e) { return "}" == e ? T() : L(B, ue) }

                function fe(e, t) { if (c) return ":" == e ? T(ge) : "?" == t ? T(fe) : void 0 }

                function de(e, t) { if (c && (":" == e || "in" == t)) return T(ge) }

                function pe(e) { if (c && ":" == e) return P.stream.match(/^\s*\w+\s+is\b/, !1) ? T(V, he, ge) : T(ge) }

                function he(e, t) { if ("is" == t) return P.marked = "keyword", T() }

                function ge(e, t) { return "keyof" == t || "typeof" == t || "infer" == t ? (P.marked = "keyword", T("typeof" == t ? G : ge)) : "variable" == e || "void" == t ? (P.marked = "type", T(we)) : "|" == t || "&" == t ? T(ge) : "string" == e || "number" == e || "atom" == e ? T(we) : "[" == e ? T(W("]"), se(ge, "]", ","), F, we) : "{" == e ? T(W("}"), ye, F, we) : "(" == e ? T(se(be, ")"), me, we) : "<" == e ? T(se(ge, ">"), ge) : void 0 }

                function me(e) { if ("=>" == e) return T(ge) }

                function ye(e) { return e.match(/[\}\)\]]/) ? T() : "," == e || ";" == e ? T(ye) : L(ve, ye) }

                function ve(e, t) { return "variable" == e || "keyword" == P.style ? (P.marked = "property", T(ve)) : "?" == t || "number" == e || "string" == e ? T(ve) : ":" == e ? T(ge) : "[" == e ? T(z("variable"), de, z("]"), ve) : "(" == e ? L(Re, ve) : e.match(/[;\}\)\],]/) ? void 0 : T() }

                function be(e, t) { return "variable" == e && P.stream.match(/^\s*[?:]/, !1) || "?" == t ? T(be) : ":" == e ? T(ge) : "spread" == e ? T(be) : L(ge) }

                function we(e, t) { return "<" == t ? T(W(">"), se(ge, ">"), F, we) : "|" == t || "." == e || "&" == t ? T(ge) : "[" == e ? T(ge, z("]"), we) : "extends" == t || "implements" == t ? (P.marked = "keyword", T(ge)) : "?" == t ? T(ge, z(":"), ge) : void 0 }

                function xe(e, t) { if ("<" == t) return T(W(">"), se(ge, ">"), F, we) }

                function Ce() { return L(ge, Se) }

                function Se(e, t) { if ("=" == t) return T(ge) }

                function Oe(e, t) { return "enum" == t ? (P.marked = "keyword", T(Qe)) : L(ke, fe, Le, Te) }

                function ke(e, t) { return c && j(t) ? (P.marked = "keyword", T(ke)) : "variable" == e ? (N(t), T()) : "spread" == e ? T(ke) : "[" == e ? ce(Pe, "]") : "{" == e ? ce(Me, "}") : void 0 }

                function Me(e, t) { return "variable" != e || P.stream.match(/^\s*:/, !1) ? ("variable" == e && (P.marked = "property"), "spread" == e ? T(ke) : "}" == e ? L() : "[" == e ? T(V, z("]"), z(":"), Me) : T(z(":"), ke, Le)) : (N(t), T(Le)) }

                function Pe() { return L(ke, Le) }

                function Le(e, t) { if ("=" == t) return T(G) }

                function Te(e) { if ("," == e) return T(Oe) }

                function Ee(e, t) { if ("keyword b" == e && "else" == t) return T(W("form", "else"), B, F) }

                function Ne(e, t) { return "await" == t ? T(Ne) : "(" == e ? T(W(")"), je, F) : void 0 }

                function je(e) { return "var" == e ? T(Oe, Ae) : ("variable" == e ? T : L)(Ae) }

                function Ae(e, t) { return ")" == e ? T() : ";" == e ? T(Ae) : "in" == t || "of" == t ? (P.marked = "keyword", T(V, Ae)) : L(V, Ae) }

                function _e(e, t) { return "*" == t ? (P.marked = "keyword", T(_e)) : "variable" == e ? (N(t), T(_e)) : "(" == e ? T(D, W(")"), se(Ie, ")"), F, pe, B, H) : c && "<" == t ? T(W(">"), se(Ce, ">"), F, _e) : void 0 }

                function Re(e, t) { return "*" == t ? (P.marked = "keyword", T(Re)) : "variable" == e ? (N(t), T(Re)) : "(" == e ? T(D, W(")"), se(Ie, ")"), F, pe, H) : c && "<" == t ? T(W(">"), se(Ce, ">"), F, Re) : void 0 }

                function De(e, t) { return "keyword" == e || "variable" == e ? (P.marked = "type", T(De)) : "<" == t ? T(W(">"), se(Ce, ">"), F) : void 0 }

                function Ie(e, t) { return "@" == t && T(V, Ie), "spread" == e ? T(Ie) : c && j(t) ? (P.marked = "keyword", T(Ie)) : c && "this" == e ? T(fe, Le) : L(ke, fe, Le) }

                function He(e, t) { return ("variable" == e ? We : Fe)(e, t) }

                function We(e, t) { if ("variable" == e) return N(t), T(Fe) }

                function Fe(e, t) { return "<" == t ? T(W(">"), se(Ce, ">"), F, Fe) : "extends" == t || "implements" == t || c && "," == e ? ("implements" == t && (P.marked = "keyword"), T(c ? ge : V, Fe)) : "{" == e ? T(W("}"), ze, F) : void 0 }

                function ze(e, t) { return "async" == e || "variable" == e && ("static" == t || "get" == t || "set" == t || c && j(t)) && P.stream.match(/^\s+[\w$\xa1-\uffff]/, !1) ? (P.marked = "keyword", T(ze)) : "variable" == e || "keyword" == P.style ? (P.marked = "property", T(Be, ze)) : "number" == e || "string" == e ? T(Be, ze) : "[" == e ? T(V, fe, z("]"), Be, ze) : "*" == t ? (P.marked = "keyword", T(ze)) : c && "(" == e ? L(Re, ze) : ";" == e || "," == e ? T(ze) : "}" == e ? T() : "@" == t ? T(V, ze) : void 0 }

                function Be(e, t) {
                    if ("?" == t) return T(Be);
                    if (":" == e) return T(ge, Le);
                    if ("=" == t) return T(G);
                    t = P.state.lexical.prev;
                    return L(t && "interface" == t.info ? Re : _e)
                }

                function Ue(e, t) { return "*" == t ? (P.marked = "keyword", T(Xe, z(";"))) : "default" == t ? (P.marked = "keyword", T(V, z(";"))) : "{" == e ? T(se(Ve, "}"), Xe, z(";")) : L(B) }

                function Ve(e, t) { return "as" == t ? (P.marked = "keyword", T(z("variable"))) : "variable" == e ? L(G, Ve) : void 0 }

                function Ge(e) { return "string" == e ? T() : "(" == e ? L(V) : L(qe, Ke, Xe) }

                function qe(e, t) { return "{" == e ? ce(qe, "}") : ("variable" == e && N(t), "*" == t && (P.marked = "keyword"), T($e)) }

                function Ke(e) { if ("," == e) return T(qe, Ke) }

                function $e(e, t) { if ("as" == t) return P.marked = "keyword", T(qe) }

                function Xe(e, t) { if ("from" == t) return P.marked = "keyword", T(V) }

                function Ye(e) { return "]" == e ? T() : L(se(G, "]")) }

                function Qe() { return L(W("form"), ke, z("{"), W("}"), se(Je, "}"), F, F) }

                function Je() { return L(ke, Le) }

                function Ze(e, t, n) { return t.tokenize == b && /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType) || "quasi" == t.lastType && /\{\s*$/.test(e.string.slice(0, e.pos - (n || 0))) }
                return F.lex = H.lex = !0, {
                    startState: function(e) { e = { tokenize: b, lastType: "sof", cc: [], lexical: new k((e || 0) - f, 0, "block", !1), localVars: u.localVars, context: u.localVars && new A(null, null, !1), indented: e || 0 }; return u.globalVars && "object" == typeof u.globalVars && (e.globalVars = u.globalVars), e },
                    token: function(e, t) { if (e.sol() && (t.lexical.hasOwnProperty("align") || (t.lexical.align = !1), t.indented = e.indentation(), S(e, t)), t.tokenize != w && e.eatSpace()) return null; var n = t.tokenize(e, t); return "comment" == h ? n : (t.lastType = "operator" != h || "++" != g && "--" != g ? h : "incdec", M(t, n, h, g, e)) },
                    indent: function(e, t) {
                        if (e.tokenize == w || e.tokenize == x) return et.Pass;
                        if (e.tokenize != b) return 0;
                        var n, r = t && t.charAt(0),
                            i = e.lexical;
                        if (!/^\s*else\b/.test(t))
                            for (var o = e.cc.length - 1; 0 <= o; --o) {
                                var a = e.cc[o];
                                if (a == F) i = i.prev;
                                else if (a != Ee) break
                            }
                        for (;
                            ("stat" == i.type || "form" == i.type) && ("}" == r || (n = e.cc[e.cc.length - 1]) && (n == X || n == Y) && !/^[,\.=+\-*:?[\(]/.test(t));) i = i.prev;
                        var l, s = (i = d && ")" == i.type && "stat" == i.prev.type ? i.prev : i).type,
                            c = r == s;
                        return "vardef" == s ? i.indented + ("operator" == e.lastType || "," == e.lastType ? i.info.length + 1 : 0) : "form" == s && "{" == r ? i.indented : "form" == s ? i.indented + f : "stat" == s ? i.indented + (l = t, "operator" == (s = e).lastType || "," == s.lastType || m.test(l.charAt(0)) || /[,.]/.test(l.charAt(0)) ? d || f : 0) : "switch" != i.info || c || 0 == u.doubleIndentSwitch ? i.align ? i.column + (c ? 0 : 1) : i.indented + (c ? 0 : f) : i.indented + (/^(?:case|default)\b/.test(t) ? f : 2 * f)
                    },
                    electricInput: /^\s*(?:case .*?:|default:|\{|\})$/,
                    blockCommentStart: a ? null : "/*",
                    blockCommentEnd: a ? null : "*/",
                    blockCommentContinue: a ? null : " * ",
                    lineComment: a ? null : "//",
                    fold: "brace",
                    closeBrackets: "()[]{}''\"\"``",
                    helperType: a ? "json" : "javascript",
                    jsonldMode: o,
                    jsonMode: a,
                    expressionAllowed: Ze,
                    skipExpression: function(e) {
                        var t = e.cc[e.cc.length - 1];
                        t != V && t != G || e.cc.pop()
                    }
                }
            }), et.registerHelper("wordChars", "javascript", /[\w$]/), et.defineMIME("text/javascript", "javascript"), et.defineMIME("text/ecmascript", "javascript"), et.defineMIME("application/javascript", "javascript"), et.defineMIME("application/x-javascript", "javascript"), et.defineMIME("application/ecmascript", "javascript"), et.defineMIME("application/json", { name: "javascript", json: !0 }), et.defineMIME("application/x-json", { name: "javascript", json: !0 }), et.defineMIME("application/manifest+json", { name: "javascript", json: !0 }), et.defineMIME("application/ld+json", { name: "javascript", jsonld: !0 }), et.defineMIME("text/typescript", { name: "javascript", typescript: !0 }), et.defineMIME("application/typescript", { name: "javascript", typescript: !0 })
        }, "object" == typeof n && "object" == typeof t ? r(e("../../lib/codemirror")) : "function" == typeof define && define.amd ? define(["../../lib/codemirror"], r) : r(CodeMirror)
    }, { "../../lib/codemirror": 23 }],
    25: [function(e, We, Fe) {
        ! function(He) {
            ! function() {
                var r = "__lodash_hash_undefined__",
                    v = 1,
                    g = 2,
                    d = 9007199254740991,
                    f = "[object Arguments]",
                    p = "[object Array]",
                    t = "[object AsyncFunction]",
                    h = "[object Boolean]",
                    m = "[object Date]",
                    y = "[object Error]",
                    n = "[object Function]",
                    i = "[object GeneratorFunction]",
                    b = "[object Map]",
                    w = "[object Number]",
                    o = "[object Null]",
                    x = "[object Object]",
                    a = "[object Promise]",
                    l = "[object Proxy]",
                    C = "[object RegExp]",
                    S = "[object Set]",
                    O = "[object String]",
                    k = "[object Symbol]",
                    s = "[object Undefined]",
                    c = "[object WeakMap]",
                    M = "[object ArrayBuffer]",
                    P = "[object DataView]",
                    u = /^\[object .+?Constructor\]$/,
                    L = /^(?:0|[1-9]\d*)$/,
                    T = {};
                T["[object Float32Array]"] = T["[object Float64Array]"] = T["[object Int8Array]"] = T["[object Int16Array]"] = T["[object Int32Array]"] = T["[object Uint8Array]"] = T["[object Uint8ClampedArray]"] = T["[object Uint16Array]"] = T["[object Uint32Array]"] = !0, T[f] = T[p] = T[M] = T[h] = T[P] = T[m] = T[y] = T[n] = T[b] = T[w] = T[x] = T[C] = T[S] = T[O] = T[c] = !1;
                var e = "object" == typeof He && He && He.Object === Object && He,
                    E = "object" == typeof self && self && self.Object === Object && self,
                    N = e || E || Function("return this")(),
                    j = "object" == typeof Fe && Fe && !Fe.nodeType && Fe,
                    A = j && "object" == typeof We && We && !We.nodeType && We,
                    _ = A && A.exports === j,
                    R = _ && e.process,
                    D = function() { try { return R && R.binding && R.binding("util") } catch (e) {} }(),
                    E = D && D.isTypedArray;

                function I(e) {
                    var n = -1,
                        r = Array(e.size);
                    return e.forEach(function(e, t) { r[++n] = [t, e] }), r
                }

                function H(e) {
                    var t = -1,
                        n = Array(e.size);
                    return e.forEach(function(e) { n[++t] = e }), n
                }
                var W, F, A = Array.prototype,
                    j = Function.prototype,
                    z = Object.prototype,
                    e = N["__core-js_shared__"],
                    B = j.toString,
                    U = z.hasOwnProperty,
                    V = (D = /[^.]+$/.exec(e && e.keys && e.keys.IE_PROTO || "")) ? "Symbol(src)_1." + D : "",
                    G = z.toString,
                    q = RegExp("^" + B.call(U).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"),
                    j = _ ? N.Buffer : void 0,
                    e = N.Symbol,
                    K = N.Uint8Array,
                    $ = z.propertyIsEnumerable,
                    X = A.splice,
                    Y = e ? e.toStringTag : void 0,
                    Q = Object.getOwnPropertySymbols,
                    D = j ? j.isBuffer : void 0,
                    J = (W = Object.keys, F = Object, function(e) { return W(F(e)) }),
                    _ = Se(N, "DataView"),
                    Z = Se(N, "Map"),
                    A = Se(N, "Promise"),
                    j = Se(N, "Set"),
                    N = Se(N, "WeakMap"),
                    ee = Se(Object, "create"),
                    te = Me(_),
                    ne = Me(Z),
                    re = Me(A),
                    ie = Me(j),
                    oe = Me(N),
                    e = e ? e.prototype : void 0,
                    ae = e ? e.valueOf : void 0;

                function le(e) {
                    var t = -1,
                        n = null == e ? 0 : e.length;
                    for (this.clear(); ++t < n;) {
                        var r = e[t];
                        this.set(r[0], r[1])
                    }
                }

                function se(e) {
                    var t = -1,
                        n = null == e ? 0 : e.length;
                    for (this.clear(); ++t < n;) {
                        var r = e[t];
                        this.set(r[0], r[1])
                    }
                }

                function ce(e) {
                    var t = -1,
                        n = null == e ? 0 : e.length;
                    for (this.clear(); ++t < n;) {
                        var r = e[t];
                        this.set(r[0], r[1])
                    }
                }

                function ue(e) {
                    var t = -1,
                        n = null == e ? 0 : e.length;
                    for (this.__data__ = new ce; ++t < n;) this.add(e[t])
                }

                function fe(e) {
                    e = this.__data__ = new se(e);
                    this.size = e.size
                }

                function de(e, t) {
                    var n, r, i, o = Te(e),
                        a = !o && Le(e),
                        l = !o && !a && Ee(e),
                        s = !o && !a && !l && De(e),
                        c = o || a || l || s,
                        u = c ? function(e, t) { for (var n = -1, r = Array(e); ++n < e;) r[n] = t(n); return r }(e.length, String) : [],
                        f = u.length;
                    for (n in e) !t && !U.call(e, n) || c && ("length" == n || l && ("offset" == n || "parent" == n) || s && ("buffer" == n || "byteLength" == n || "byteOffset" == n) || (r = n, !!(i = null == (i = f) ? d : i) && ("number" == typeof r || L.test(r)) && -1 < r && r % 1 == 0 && r < i)) || u.push(n);
                    return u
                }

                function pe(e, t) {
                    for (var n = e.length; n--;)
                        if (Pe(e[n][0], t)) return n;
                    return -1
                }

                function he(e, t, n) { t = t(e); return Te(e) ? t : function(e, t) { for (var n = -1, r = t.length, i = e.length; ++n < r;) e[i + n] = t[n]; return e }(t, n(e)) }

                function ge(e) {
                    return null == e ? void 0 === e ? s : o : Y && Y in Object(e) ? function(e) {
                        var t = U.call(e, Y),
                            n = e[Y];
                        try { var r = !(e[Y] = void 0) } catch (e) {}
                        var i = G.call(e);
                        r && (t ? e[Y] = n : delete e[Y]);
                        return i
                    }(e) : (e = e, G.call(e))
                }

                function me(e) { return _e(e) && ge(e) == f }

                function ye(e, t, n, r, i) {
                    return e === t || (null == e || null == t || !_e(e) && !_e(t) ? e != e && t != t : function(e, t, n, r, i, o) {
                        var a = Te(e),
                            l = Te(t),
                            s = a ? p : ke(e),
                            c = l ? p : ke(t),
                            u = (s = s == f ? x : s) == x,
                            l = (c = c == f ? x : c) == x,
                            c = s == c;
                        if (c && Ee(e)) {
                            if (!Ee(t)) return !1;
                            u = !(a = !0)
                        }
                        if (c && !u) return o = o || new fe, a || De(e) ? we(e, t, n, r, i, o) : function(e, t, n, r, i, o, a) {
                            switch (n) {
                                case P:
                                    if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset) return !1;
                                    e = e.buffer, t = t.buffer;
                                case M:
                                    return e.byteLength == t.byteLength && o(new K(e), new K(t)) ? !0 : !1;
                                case h:
                                case m:
                                case w:
                                    return Pe(+e, +t);
                                case y:
                                    return e.name == t.name && e.message == t.message;
                                case C:
                                case O:
                                    return e == t + "";
                                case b:
                                    var l = I;
                                case S:
                                    var s = r & v;
                                    if (l = l || H, e.size != t.size && !s) return !1;
                                    s = a.get(e);
                                    if (s) return s == t;
                                    r |= g, a.set(e, t);
                                    l = we(l(e), l(t), r, i, o, a);
                                    return a.delete(e), l;
                                case k:
                                    if (ae) return ae.call(e) == ae.call(t)
                            }
                            return !1
                        }(e, t, s, n, r, i, o);
                        if (!(n & v)) { u = u && U.call(e, "__wrapped__"), l = l && U.call(t, "__wrapped__"); if (u || l) { u = u ? e.value() : e, l = l ? t.value() : t; return o = o || new fe, i(u, l, n, r, o) } }
                        return c && (o = o || new fe, function(e, t, n, r, i, o) {
                            var a = n & v,
                                l = xe(e),
                                s = l.length,
                                c = xe(t).length;
                            if (s != c && !a) return !1;
                            var u = s;
                            for (; u--;) { var f = l[u]; if (!(a ? f in t : U.call(t, f))) return !1 }
                            var d = o.get(e);
                            if (d && o.get(t)) return d == t;
                            var p = !0;
                            o.set(e, t), o.set(t, e);
                            var h = a;
                            for (; ++u < s;) {
                                f = l[u];
                                var g, m = e[f],
                                    y = t[f];
                                if (!(void 0 === (g = r ? a ? r(y, m, f, t, e, o) : r(m, y, f, e, t, o) : g) ? m === y || i(m, y, n, r, o) : g)) { p = !1; break }
                                h = h || "constructor" == f
                            }
                            p && !h && (c = e.constructor, d = t.constructor, c != d && "constructor" in e && "constructor" in t && !("function" == typeof c && c instanceof c && "function" == typeof d && d instanceof d) && (p = !1));
                            return o.delete(e), o.delete(t), p
                        }(e, t, n, r, i, o))
                    }(e, t, n, r, ye, i))
                }

                function ve(e) { var t; return Ae(e) && (t = e, !(V && V in t)) && (Ne(e) ? q : u).test(Me(e)) }

                function be(e) { if (n = "function" == typeof(n = (t = e) && t.constructor) && n.prototype || z, t !== n) return J(e); var t, n, r, i = []; for (r in Object(e)) U.call(e, r) && "constructor" != r && i.push(r); return i }

                function we(e, t, r, i, o, a) {
                    var n = r & v,
                        l = e.length,
                        s = t.length;
                    if (l != s && !(n && l < s)) return !1;
                    s = a.get(e);
                    if (s && a.get(t)) return s == t;
                    var c = -1,
                        u = !0,
                        f = r & g ? new ue : void 0;
                    for (a.set(e, t), a.set(t, e); ++c < l;) {
                        var d, p = e[c],
                            h = t[c];
                        if (void 0 !== (d = i ? n ? i(h, p, c, t, e, a) : i(p, h, c, e, t, a) : d)) {
                            if (d) continue;
                            u = !1;
                            break
                        }
                        if (f) {
                            if (! function(e, t) {
                                    for (var n = -1, r = null == e ? 0 : e.length; ++n < r;)
                                        if (t(e[n], n, e)) return 1
                                }(t, function(e, t) { return n = t, !f.has(n) && (p === e || o(p, e, r, i, a)) && f.push(t); var n })) { u = !1; break }
                        } else if (p !== h && !o(p, h, r, i, a)) { u = !1; break }
                    }
                    return a.delete(e), a.delete(t), u
                }

                function xe(e) { return he(e, Ie, Oe) }

                function Ce(e, t) { var n, r = e.__data__; return ("string" == (e = typeof(n = t)) || "number" == e || "symbol" == e || "boolean" == e ? "__proto__" !== n : null === n) ? r["string" == typeof t ? "string" : "hash"] : r.map }

                function Se(e, t) { t = t, t = null == (e = e) ? void 0 : e[t]; return ve(t) ? t : void 0 }
                le.prototype.clear = function() { this.__data__ = ee ? ee(null) : {}, this.size = 0 }, le.prototype.delete = function(e) { return e = this.has(e) && delete this.__data__[e], this.size -= e ? 1 : 0, e }, le.prototype.get = function(e) { var t = this.__data__; if (ee) { var n = t[e]; return n === r ? void 0 : n } return U.call(t, e) ? t[e] : void 0 }, le.prototype.has = function(e) { var t = this.__data__; return ee ? void 0 !== t[e] : U.call(t, e) }, le.prototype.set = function(e, t) { var n = this.__data__; return this.size += this.has(e) ? 0 : 1, n[e] = ee && void 0 === t ? r : t, this }, se.prototype.clear = function() { this.__data__ = [], this.size = 0 }, se.prototype.delete = function(e) { var t = this.__data__; return !((e = pe(t, e)) < 0) && (e == t.length - 1 ? t.pop() : X.call(t, e, 1), --this.size, !0) }, se.prototype.get = function(e) { var t = this.__data__; return (e = pe(t, e)) < 0 ? void 0 : t[e][1] }, se.prototype.has = function(e) { return -1 < pe(this.__data__, e) }, se.prototype.set = function(e, t) {
                    var n = this.__data__,
                        r = pe(n, e);
                    return r < 0 ? (++this.size, n.push([e, t])) : n[r][1] = t, this
                }, ce.prototype.clear = function() { this.size = 0, this.__data__ = { hash: new le, map: new(Z || se), string: new le } }, ce.prototype.delete = function(e) { return e = Ce(this, e).delete(e), this.size -= e ? 1 : 0, e }, ce.prototype.get = function(e) { return Ce(this, e).get(e) }, ce.prototype.has = function(e) { return Ce(this, e).has(e) }, ce.prototype.set = function(e, t) {
                    var n = Ce(this, e),
                        r = n.size;
                    return n.set(e, t), this.size += n.size == r ? 0 : 1, this
                }, ue.prototype.add = ue.prototype.push = function(e) { return this.__data__.set(e, r), this }, ue.prototype.has = function(e) { return this.__data__.has(e) }, fe.prototype.clear = function() { this.__data__ = new se, this.size = 0 }, fe.prototype.delete = function(e) {
                    var t = this.__data__,
                        e = t.delete(e);
                    return this.size = t.size, e
                }, fe.prototype.get = function(e) { return this.__data__.get(e) }, fe.prototype.has = function(e) { return this.__data__.has(e) }, fe.prototype.set = function(e, t) {
                    var n = this.__data__;
                    if (n instanceof se) {
                        var r = n.__data__;
                        if (!Z || r.length < 199) return r.push([e, t]), this.size = ++n.size, this;
                        n = this.__data__ = new ce(r)
                    }
                    return n.set(e, t), this.size = n.size, this
                };
                var Oe = Q ? function(t) {
                        return null == t ? [] : (t = Object(t), function(e, t) {
                            for (var n = -1, r = null == e ? 0 : e.length, i = 0, o = []; ++n < r;) {
                                var a = e[n];
                                t(a, n, e) && (o[i++] = a)
                            }
                            return o
                        }(Q(t), function(e) { return $.call(t, e) }))
                    } : function() { return [] },
                    ke = ge;

                function Me(e) { if (null != e) { try { return B.call(e) } catch (e) {} try { return e + "" } catch (e) {} } return "" }

                function Pe(e, t) { return e === t || e != e && t != t }(_ && ke(new _(new ArrayBuffer(1))) != P || Z && ke(new Z) != b || A && ke(A.resolve()) != a || j && ke(new j) != S || N && ke(new N) != c) && (ke = function(e) {
                    var t = ge(e),
                        e = t == x ? e.constructor : void 0,
                        e = e ? Me(e) : "";
                    if (e) switch (e) {
                        case te:
                            return P;
                        case ne:
                            return b;
                        case re:
                            return a;
                        case ie:
                            return S;
                        case oe:
                            return c
                    }
                    return t
                });
                var Le = me(function() { return arguments }()) ? me : function(e) { return _e(e) && U.call(e, "callee") && !$.call(e, "callee") },
                    Te = Array.isArray;
                var Ee = D || function() { return !1 };

                function Ne(e) { if (Ae(e)) { e = ge(e); return e == n || e == i || e == t || e == l } }

                function je(e) { return "number" == typeof e && -1 < e && e % 1 == 0 && e <= d }

                function Ae(e) { var t = typeof e; return null != e && ("object" == t || "function" == t) }

                function _e(e) { return null != e && "object" == typeof e }
                var Re, De = E ? (Re = E, function(e) { return Re(e) }) : function(e) { return _e(e) && je(e.length) && !!T[ge(e)] };

                function Ie(e) { return (null != (t = e) && je(t.length) && !Ne(t) ? de : be)(e); var t }
                We.exports = function(e, t) { return ye(e, t) }
            }.call(this)
        }.call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {}],
    26: [function(e, be, t) {
        ! function(ve) {
            ! function() {
                var u = 1 / 0,
                    n = 9007199254740991,
                    f = 17976931348623157e292,
                    r = NaN,
                    l = "[object Arguments]",
                    t = "[object Function]",
                    i = "[object GeneratorFunction]",
                    d = "[object Map]",
                    o = "[object Promise]",
                    p = "[object Set]",
                    h = "[object String]",
                    a = "[object Symbol]",
                    s = "[object WeakMap]",
                    c = "[object DataView]",
                    g = /^\s+|\s+$/g,
                    m = /^[-+]0x[0-9a-f]+$/i,
                    y = /^0b[01]+$/i,
                    v = /^\[object .+?Constructor\]$/,
                    b = /^0o[0-7]+$/i,
                    w = /^(?:0|[1-9]\d*)$/,
                    e = "\\ud800-\\udfff",
                    x = "\\u0300-\\u036f\\ufe20-\\ufe23",
                    C = "\\u20d0-\\u20f0",
                    S = "\\ufe0e\\ufe0f",
                    O = "[" + e + "]",
                    k = "[" + x + C + "]",
                    M = "\\ud83c[\\udffb-\\udfff]",
                    P = "[^" + e + "]",
                    L = "(?:\\ud83c[\\udde6-\\uddff]){2}",
                    T = "[\\ud800-\\udbff][\\udc00-\\udfff]",
                    E = "(?:" + k + "|" + M + ")" + "?",
                    N = "[" + S + "]?",
                    E = N + E + ("(?:\\u200d(?:" + [P, L, T].join("|") + ")" + N + E + ")*"),
                    O = "(?:" + [P + k + "?", k, L, T, O].join("|") + ")",
                    j = RegExp(M + "(?=" + M + ")|" + O + E, "g"),
                    A = RegExp("[\\u200d" + e + x + C + S + "]"),
                    _ = parseInt,
                    E = "object" == typeof ve && ve && ve.Object === Object && ve,
                    e = "object" == typeof self && self && self.Object === Object && self,
                    x = E || e || Function("return this")();

                function R(t, e) { return function(e, t) { for (var n = -1, r = e ? e.length : 0, i = Array(r); ++n < r;) i[n] = t(e[n], n, e); return i }(e, function(e) { return t[e] }) }

                function D(e) {
                    var n = -1,
                        r = Array(e.size);
                    return e.forEach(function(e, t) { r[++n] = [t, e] }), r
                }

                function I(e) {
                    var t = -1,
                        n = Array(e.size);
                    return e.forEach(function(e) { n[++t] = e }), n
                }

                function H(e) { return t = e, A.test(t) ? e.match(j) || [] : e.split(""); var t }
                var W, F, C = Function.prototype,
                    z = Object.prototype,
                    S = x["__core-js_shared__"],
                    B = (E = /[^.]+$/.exec(S && S.keys && S.keys.IE_PROTO || "")) ? "Symbol(src)_1." + E : "",
                    U = C.toString,
                    V = z.hasOwnProperty,
                    G = z.toString,
                    q = RegExp("^" + U.call(V).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"),
                    e = x.Symbol,
                    K = e ? e.iterator : void 0,
                    $ = z.propertyIsEnumerable,
                    X = Math.floor,
                    Y = (W = Object.keys, F = Object, function(e) { return W(F(e)) }),
                    Q = Math.random,
                    S = ae(x, "DataView"),
                    E = ae(x, "Map"),
                    C = ae(x, "Promise"),
                    e = ae(x, "Set"),
                    x = ae(x, "WeakMap"),
                    J = ce(S),
                    Z = ce(E),
                    ee = ce(C),
                    te = ce(e),
                    ne = ce(x);

                function re(e, t) {
                    var n, r, i = fe(e) || function(e) { return ge(e) && de(e) }(n = e) && V.call(n, "callee") && (!$.call(n, "callee") || G.call(n) == l) ? function(e, t) { for (var n = -1, r = Array(e); ++n < e;) r[n] = t(n); return r }(e.length, String) : [],
                        o = i.length,
                        a = !!o;
                    for (r in e) !t && !V.call(e, r) || a && ("length" == r || se(r, o)) || i.push(r);
                    return i
                }

                function ie(e) {
                    var t;
                    return he(e) && (t = e, !(B && B in t)) && (pe(e) || function(e) {
                        var t = !1;
                        if (null != e && "function" != typeof e.toString) try { t = !!(e + "") } catch (e) {}
                        return t
                    }(e) ? q : v).test(ce(e))
                }

                function oe(e) { if (n = "function" == typeof(n = (t = e) && t.constructor) && n.prototype || z, t !== n) return Y(e); var t, n, r, i = []; for (r in Object(e)) V.call(e, r) && "constructor" != r && i.push(r); return i }

                function ae(e, t) { t = t, t = null == (e = e) ? void 0 : e[t]; return ie(t) ? t : void 0 }
                var le = function(e) { return G.call(e) };

                function se(e, t) { return (t = null == t ? n : t) && ("number" == typeof e || w.test(e)) && -1 < e && e % 1 == 0 && e < t }

                function ce(e) { if (null != e) { try { return U.call(e) } catch (e) {} try { return e + "" } catch (e) {} } return "" }

                function ue(e, t, n) {
                    var r, i = -1,
                        o = function(e) {
                            if (!e) return [];
                            if (de(e)) return (function(e) { return "string" == typeof e || !fe(e) && ge(e) && G.call(e) == h }(e) ? H : function(e, t) {
                                var n = -1,
                                    r = e.length;
                                for (t = t || Array(r); ++n < r;) t[n] = e[n];
                                return t
                            })(e);
                            if (K && e[K]) return function(e) { for (var t, n = []; !(t = e.next()).done;) n.push(t.value); return n }(e[K]());
                            var t = le(e);
                            return (t == d ? D : t == p ? I : ye)(e)
                        }(e),
                        a = o.length,
                        l = a - 1;
                    for (t = (n ? function(e, t, n) { if (he(n)) { var r = typeof t; return ("number" == r ? de(n) && se(t, n.length) : "string" == r && t in n) && ((t = n[t]) === (e = e) || t != t && e != e) } }(e, t, n) : void 0 === t) ? 1 : (r = (e = function(e) { return e ? (e = me(e)) !== u && e !== -u ? e == e ? e : 0 : (e < 0 ? -1 : 1) * f : 0 === e ? e : 0 }(r = t)) % 1, n = 0, a = a, (e = e == e ? r ? e - r : e : 0) == e && (void 0 !== a && (e = e <= a ? e : a), void 0 !== n && (e = n <= e ? e : n)), e); ++i < t;) {
                        var s = (s = l, (c = i) + X(Q() * (s - c + 1))),
                            c = o[s];
                        o[s] = o[i], o[i] = c
                    }
                    return o.length = t, o
                }(S && le(new S(new ArrayBuffer(1))) != c || E && le(new E) != d || C && le(C.resolve()) != o || e && le(new e) != p || x && le(new x) != s) && (le = function(e) {
                    var t = G.call(e),
                        e = "[object Object]" == t ? e.constructor : void 0,
                        e = e ? ce(e) : void 0;
                    if (e) switch (e) {
                        case J:
                            return c;
                        case Z:
                            return d;
                        case ee:
                            return o;
                        case te:
                            return p;
                        case ne:
                            return s
                    }
                    return t
                });
                var fe = Array.isArray;

                function de(e) { return null != e && ("number" == typeof(t = e.length) && -1 < t && t % 1 == 0 && t <= n) && !pe(e); var t }

                function pe(e) { e = he(e) ? G.call(e) : ""; return e == t || e == i }

                function he(e) { var t = typeof e; return e && ("object" == t || "function" == t) }

                function ge(e) { return !!e && "object" == typeof e }

                function me(e) {
                    if ("number" == typeof e) return e;
                    if ("symbol" == typeof(t = e) || ge(t) && G.call(t) == a) return r;
                    var t;
                    if ("string" != typeof(e = he(e) ? he(n = "function" == typeof e.valueOf ? e.valueOf() : e) ? n + "" : n : e)) return 0 === e ? e : +e;
                    e = e.replace(g, "");
                    var n = y.test(e);
                    return n || b.test(e) ? _(e.slice(2), n ? 2 : 8) : m.test(e) ? r : +e
                }

                function ye(e) { return e ? R(e, (de(e = e) ? re : oe)(e)) : [] }
                be.exports = function(e) { return ue(e, 4294967295) }
            }.call(this)
        }.call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
    }, {}],
    27: [function(e, t, n) {
            "use strict";
            var r = e("react"),
                i = (e("react-dom"), e("prop-types")),
                o = e("classnames"),
                a = e("lodash.debounce"),
                l = e("lodash.isequal");

            function s(e) { return e && e.replace(/\r\n|\r/g, "\n") }
            i = e("create-react-class")({
                propTypes: { autoFocus: i.bool, className: i.any, codeMirrorInstance: i.func, defaultValue: i.string, name: i.string, onChange: i.func, onCursorActivity: i.func, onFocusChange: i.func, onScroll: i.func, options: i.object, path: i.string, value: i.string, preserveScrollPosition: i.bool },
                getDefaultProps: function() { return { preserveScrollPosition: !1 } },
                getCodeMirrorInstance: function() { return this.props.codeMirrorInstance || e("codemirror") },
                getInitialState: function() { return { isFocused: !1 } },
                componentWillMount: function() { this.componentWillReceiveProps = a(this.componentWillReceiveProps, 0), this.props.path && console.error("Warning: react-codemirror: the `path` prop has been changed to `name`") },
                componentDidMount: function() {
                    var e = this.getCodeMirrorInstance();
                    this.codeMirror = e.fromTextArea(this.textareaNode, this.props.options), this.codeMirror.on("change", this.codemirrorValueChanged), this.codeMirror.on("cursorActivity", this.cursorActivity), this.codeMirror.on("focus", this.focusChanged.bind(this, !0)), this.codeMirror.on("blur", this.focusChanged.bind(this, !1)), this.codeMirror.on("scroll", this.scrollChanged), this.codeMirror.setValue(this.props.defaultValue || this.props.value || "")
                },
                componentWillUnmount: function() { this.codeMirror && this.codeMirror.toTextArea() },
                componentWillReceiveProps: function(e) {
                    var t;
                    if (this.codeMirror && void 0 !== e.value && e.value !== this.props.value && s(this.codeMirror.getValue()) !== s(e.value) && (this.props.preserveScrollPosition ? (t = this.codeMirror.getScrollInfo(), this.codeMirror.setValue(e.value), this.codeMirror.scrollTo(t.left, t.top)) : this.codeMirror.setValue(e.value)), "object" == typeof e.options)
                        for (var n in e.options) e.options.hasOwnProperty(n) && this.setOptionIfChanged(n, e.options[n])
                },
                setOptionIfChanged: function(e, t) {
                    var n = this.codeMirror.getOption(e);
                    l(n, t) || this.codeMirror.setOption(e, t)
                },
                getCodeMirror: function() { return this.codeMirror },
                focus: function() { this.codeMirror && this.codeMirror.focus() },
                focusChanged: function(e) { this.setState({ isFocused: e }), this.props.onFocusChange && this.props.onFocusChange(e) },
                cursorActivity: function(e) { this.props.onCursorActivity && this.props.onCursorActivity(e) },
                scrollChanged: function(e) { this.props.onScroll && this.props.onScroll(e.getScrollInfo()) },
                codemirrorValueChanged: function(e, t) { this.props.onChange && "setValue" !== t.origin && this.props.onChange(e.getValue(), t) },
                render: function() {
                    var t = this,
                        e = o("ReactCodeMirror", this.state.isFocused ? "ReactCodeMirror--focused" : null, this.props.className);
                    return r.createElement("div", { className: e }, r.createElement("textarea", { ref: function(e) { return t.textareaNode = e }, name: this.props.name || this.props.path, defaultValue: this.props.value, autoComplete: "off", autoFocus: this.props.autoFocus }))
                }
            });
            t.exports = i
        },
        {
            classnames: "classnames",
            codemirror: 23,
            "create-react-class": "create-react-class",
            "lodash.debounce": "lodash.debounce",
            "lodash.isequal": 25,
            "prop-types": "prop-types",
            react: "react",
            "react-dom": "react-dom"
        }
    ]
}, {}, [9]);